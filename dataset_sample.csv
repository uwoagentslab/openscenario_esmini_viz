prompt,completion
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate ACC controller
- Parameters: HostVehicle=car_white, TargetVehicle=car_red, EgoSpeed=120, TargetSpeed=30, EgoS=20, TargetS=100, LaneChange1Time=5, LaneChange2Time=7, BrakeTime=11, AccelerateTime=17, Brake2Time=20, HostVehicle=car_white, TargetVehicle=car_red, EgoSpeed=120, TargetSpeed=30, EgoS=20, TargetS=100, LaneChange1Time=5, LaneChange2Time=7, BrakeTime=11, AccelerateTime=17, Brake2Time=20
- Actors: Ego ($HostVehicle), Target ($TargetVehicle)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate and test ACC controller -->
<!-- A white car is driving with constant speed, set by init event -->
<!-- The white car approaches a red leading car -->
<!-- The red leading car will perform some maneuvers to exercise the ACC function -->

<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2021-08-24T10:00:00""
               description=""Demonstrate ACC controller""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""EgoSpeed"" parameterType=""double"" value=""120""/>
      <ParameterDeclaration name=""TargetSpeed"" parameterType=""double"" value=""30""/>
      <ParameterDeclaration name=""EgoS"" parameterType=""double"" value=""20""/>
      <ParameterDeclaration name=""TargetS"" parameterType=""double"" value=""100""/>
      <ParameterDeclaration name=""LaneChange1Time"" parameterType=""double"" value=""5""/>
      <ParameterDeclaration name=""LaneChange2Time"" parameterType=""double"" value=""7""/>
      <ParameterDeclaration name=""BrakeTime"" parameterType=""double"" value=""11""/>
      <ParameterDeclaration name=""AccelerateTime"" parameterType=""double"" value=""17""/>
      <ParameterDeclaration name=""Brake2Time"" parameterType=""double"" value=""20""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
	     <Directory path=""../xosc/Catalogs/Controllers""/>
	  </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
      <SceneGraphFile filepath=""../models/straight_500m.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
        <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
         <ObjectController>
            <Controller name=""ACCController"">
                <Properties>
                    <Property name=""timeGap"" value=""1.0"" />
                    <Property name=""mode"" value=""override"" />
                    <Property name=""setSpeed"" value=""${$EgoSpeed / 3.6}"" />
                </Properties>
            </Controller>            
         </ObjectController>         
      </ScenarioObject>
      <ScenarioObject name=""Target"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
         <!-- <ObjectController> -->
            <!-- <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver"" /> -->
         <!-- </ObjectController> -->
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""$EgoS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${$EgoSpeed / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                    <ActivateControllerAction longitudinal=""true"" lateral=""false"" />
               </PrivateAction>
            </Private>
            <Private entityRef=""Target"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""$TargetS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                    <ActivateControllerAction longitudinal=""true"" lateral=""true"" />
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${$TargetSpeed / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>               
            </Private>
         </Actions>
      </Init>
      <Story name=""CutInAndBrakeStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Target""/>
         </ParameterDeclarations>
         <Act name=""CutInAndBrakeAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""CutInAndBrakeSequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""$owner""/>
               </Actors>
               <Maneuver name=""LaneChangeManeuvers"">
                  <Event name=""LaneChange1Event"" priority=""overwrite"">
                     <Action name=""LaneChange1Action"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""1.5"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""Ego"" value=""1""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""LaneChange1Condition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""$LaneChange1Time"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""LaneChange2Event"" priority=""overwrite"">
                     <Action name=""LaneChange2Action"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""1.4"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""Ego"" value=""0""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""LaneChange2Condition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""$LaneChange2Time"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>                 
                  <Event name=""TargetBrakeEvent"" priority=""overwrite"">
                     <Action name=""TargetBrakeAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-4"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""BrakeCondition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""$BrakeTime"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""TargetAccelerateEvent"" priority=""overwrite"">
                     <Action name=""TargetAccelerateAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""10"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""50""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""BrakeCondition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""$AccelerateTime"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""TargetBrake2Event"" priority=""overwrite"">
                     <Action name=""TargetBrake2Action"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-8"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""5""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""Brake2Condition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""$Brake2Time"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <ManeuverGroup maximumExecutionCount=""1"" name=""EgoSpeedChange"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Ego""/>
               </Actors>
               <Maneuver name=""EgoSpeedManeuver"">
                  <Event name=""EgoSpeedEvent"" priority=""overwrite"">
                     <Action name=""EgoSpeedAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""step"" value=""0"" dynamicsDimension=""time""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""1""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""EgoSpeedCondition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""2"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""EgoSpeedEvent"" priority=""overwrite"">
                     <Action name=""EgoSpeedAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""step"" value=""0"" dynamicsDimension=""time""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""${0.25 * $EgoSpeed / 3.6}""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""EgoSpeedCondition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""10"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
          <ConditionGroup>
             <Condition name=""StopCondition"" delay=""12"" conditionEdge=""rising"">
                <ByValueCondition>
                   <StoryboardElementStateCondition storyboardElementType=""event""
                                                    storyboardElementRef=""TargetBrake2Event""
                                                    state=""endTransition""/>
                </ByValueCondition>
             </Condition>
          </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate switching between two controllers
- Parameters: HWTACCOn=3.0, HWTACCOff=5.0, ACCTimeGap=3.0, TargetSpeed1KmH=30, TargetSpeed2KmH=70, RoadId=1, LaneId=-1, HWTACCOn=3.0, HWTACCOff=5.0, ACCTimeGap=3.0, TargetSpeed1KmH=30, TargetSpeed2KmH=70, RoadId=1, LaneId=-1
- Actors: Ego (car_white), Target (car_red)
- Road network: ../xodr/curves_elevation.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate switching between two controllers -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""1"" date=""2022-03-31T10:00:00"" description=""Demonstrate switching between two controllers"" author=""esmini-team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""HWTACCOn"" parameterType=""double"" value=""3.0""/>
        <ParameterDeclaration name=""HWTACCOff"" parameterType=""string"" value=""5.0""/>
        <ParameterDeclaration name=""ACCTimeGap"" parameterType=""string"" value=""3.0""/>
        <ParameterDeclaration name=""TargetSpeed1KmH"" parameterType=""double"" value=""30""/>
        <ParameterDeclaration name=""TargetSpeed2KmH"" parameterType=""double"" value=""70""/>
        <ParameterDeclaration name=""RoadId"" parameterType=""integer"" value=""1""/>
        <ParameterDeclaration name=""LaneId"" parameterType=""integer"" value=""-1""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]curves_elevation.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
            <ObjectController>
                <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver""/>
            </ObjectController>
        </ScenarioObject>
        <ScenarioObject name=""Target"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""$RoadId"" laneId=""$LaneId"" offset=""0"" s=""40""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""${($TargetSpeed1KmH * 0.8) / 3.6}""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <ControllerAction>
                            <ActivateControllerAction longitudinal=""true"" lateral=""true""/>
                        </ControllerAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Target"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""$RoadId"" laneId=""$LaneId"" offset=""0"" s=""80""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""${$TargetSpeed1KmH / 3.6}""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""ControllerStory"">
            <ParameterDeclarations/>
            <Act name=""ControllerAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""ControllerMG"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Ego""/>
                    </Actors>
                    <Maneuver name=""ControllerManeuver"">
                        <Event name=""ActivateACCEvent"" priority=""overwrite"" maximumExecutionCount=""10000"">
                            <Action name=""AssignACCAction"">
                                <PrivateAction>
                                    <ControllerAction>
                                        <AssignControllerAction>
                                            <CatalogReference catalogName=""ControllerCatalog"" entryName=""ACCController"">
                                                <ParameterAssignments>
                                                    <ParameterAssignment parameterRef=""TimeGap"" value=""$ACCTimeGap""/>
                                                    <ParameterAssignment parameterRef=""SetSpeed"" value=""${40.0/3.6}""/>
                                                </ParameterAssignments>
                                            </CatalogReference>
                                        </AssignControllerAction>
                                    </ControllerAction>
                                </PrivateAction>
                            </Action>
                            <Action name=""ActivateACCAction"">
                                <PrivateAction>
                                    <ActivateControllerAction longitudinal=""true"" lateral=""true""/>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""ActivateACCCondition"" delay=""0"" conditionEdge=""rising"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""Ego""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <TimeHeadwayCondition entityRef=""Target"" value=""$HWTACCOn"" freespace=""false"" coordinateSystem=""road"" relativeDistanceType=""longitudinal"" rule=""lessThan""/>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""ActivateInteractiveDriverEvent"" priority=""overwrite"" maximumExecutionCount=""10000"">
                            <Action name=""AssignInteractiveDriverAction"">
                                <PrivateAction>
                                    <ControllerAction>
                                        <AssignControllerAction>
                                            <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver""/>
                                        </AssignControllerAction>
                                    </ControllerAction>
                                </PrivateAction>
                            </Action>
                            <Action name=""ActivateInteractiveDriverAction"">
                                <PrivateAction>
                                    <ControllerAction>
                                        <ActivateControllerAction longitudinal=""true"" lateral=""true""/>
                                    </ControllerAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""ActivateInteractiveDriverCondition"" delay=""0"" conditionEdge=""rising"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""Ego""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <TimeHeadwayCondition entityRef=""Target"" value=""$HWTACCOff"" freespace=""false"" coordinateSystem=""road"" relativeDistanceType=""longitudinal"" rule=""greaterThan""/>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <ManeuverGroup maximumExecutionCount=""1"" name=""TargetChangeSpeedMG"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Target""/>
                    </Actors>
                    <Maneuver name=""TargetChangeSpeedManeuver"">
                        <Event name=""TargetChangeSpeedEvent"" priority=""overwrite"">
                            <Action name=""TargetChangeSpeedAction"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsShape=""cubic"" dynamicsDimension=""time"" value=""3.0""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""${$TargetSpeed2KmH/3.6}""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""TargetChangeSpeedCondition"" delay=""0"" conditionEdge=""rising"">
                                         <ByValueCondition>
                                            <SimulationTimeCondition value=""10"" rule=""greaterThan""/>
                                         </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""TargetChangeSpeedEvent2"" priority=""overwrite"">
                            <Action name=""TargetChangeSpeedAction2"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsShape=""cubic"" dynamicsDimension=""time"" value=""3.0""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""${$TargetSpeed1KmH/3.6}""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""TargetChangeSpeedCondition2"" delay=""0"" conditionEdge=""rising"">
                                         <ByValueCondition>
                                            <SimulationTimeCondition value=""20"" rule=""greaterThan""/>
                                         </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""EndOfRoadCondition"" delay=""0"" conditionEdge=""rising"">
                    <ByEntityCondition>
                        <TriggeringEntities triggeringEntitiesRule=""any"">
                            <EntityRef entityRef=""Target""/>
                        </TriggeringEntities>
                        <EntityCondition>
                            <EndOfRoadCondition duration=""2.5""/>
                        </EntityCondition>
                    </ByEntityCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate ALKS controller
- Parameters: HostVehicle=car_white, TargetVehicle=car_red, EgoSpeed=120, TargetSpeed=30, EgoS=20, TargetS=100, LaneChange1Time=5, LaneChange2Time=7, BrakeTime=11, AccelerateTime=17, Brake2Time=20, HostVehicle=car_white, TargetVehicle=car_red, EgoSpeed=120, TargetSpeed=30, EgoS=20, TargetS=100, LaneChange1Time=5, LaneChange2Time=7, BrakeTime=11, AccelerateTime=17, Brake2Time=20
- Actors: Ego ($HostVehicle), Target ($TargetVehicle)
- Road network: ../xodr/curve_r100.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate and test ALKS controller -->
<!-- A white car is driving with constant speed, set by init event -->
<!-- The white car approaches a red leading car -->
<!-- The red leading car will perform some maneuvers to exercise the ACC function -->

<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""3""
               date=""2021-08-24T10:00:00""
               description=""Demonstrate ALKS controller""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""EgoSpeed"" parameterType=""double"" value=""120""/>
      <ParameterDeclaration name=""TargetSpeed"" parameterType=""double"" value=""30""/>
      <ParameterDeclaration name=""EgoS"" parameterType=""double"" value=""20""/>
      <ParameterDeclaration name=""TargetS"" parameterType=""double"" value=""100""/>
      <ParameterDeclaration name=""LaneChange1Time"" parameterType=""double"" value=""5""/>
      <ParameterDeclaration name=""LaneChange2Time"" parameterType=""double"" value=""7""/>
      <ParameterDeclaration name=""BrakeTime"" parameterType=""double"" value=""11""/>
      <ParameterDeclaration name=""AccelerateTime"" parameterType=""double"" value=""17""/>
      <ParameterDeclaration name=""Brake2Time"" parameterType=""double"" value=""20""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
	     <Directory path=""../xosc/Catalogs/Controllers""/>
	  </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]curve_r100.xodr""/>
      <SceneGraphFile filepath=""../models/curve_r100.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
        <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
         <ObjectController>
            <Controller name=""ALKSController"" />
            <!-- <CatalogReference catalogName=""ControllerCatalog"" entryName=""ECE_ALKS_RefDriverController""> -->
               <!-- <ParameterAssignments> -->
                   <!-- <ParameterAssignment parameterRef=""Logging"" value=""false"" /> -->
               <!-- </ParameterAssignments> -->
            <!-- </CatalogReference> -->
	     </ObjectController>         
      </ScenarioObject>
      <ScenarioObject name=""Target"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
        <!-- <ObjectController> -->
            <!-- <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver"" /> -->
        <!-- </ObjectController> -->
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-1"" offset=""0"" s=""$EgoS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${$EgoSpeed / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                    <ActivateControllerAction longitudinal=""true"" lateral=""false"" />
               </PrivateAction>
            </Private>
            <Private entityRef=""Target"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-1"" offset=""0"" s=""$TargetS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                    <ActivateControllerAction longitudinal=""true"" lateral=""true"" />
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${$TargetSpeed / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>               
            </Private>
         </Actions>
      </Init>
      <Story name=""CutInAndBrakeStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Target""/>
         </ParameterDeclarations>
         <Act name=""CutInAndBrakeAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""CutInAndBrakeSequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""$owner""/>
               </Actors>
               <Maneuver name=""LaneChangeManeuvers"">
                  <Event name=""LaneChange1Event"" priority=""overwrite"">
                     <Action name=""LaneChange1Action"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""1.5"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""Ego"" value=""1""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""LaneChange1Condition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""$LaneChange1Time"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""LaneChange2Event"" priority=""overwrite"">
                     <Action name=""LaneChange2Action"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""1.4"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""Ego"" value=""0""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""LaneChange2Condition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""$LaneChange2Time"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>                 
                  <Event name=""TargetBrakeEvent"" priority=""overwrite"">
                     <Action name=""TargetBrakeAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-4"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""BrakeCondition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""$BrakeTime"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""TargetAccelerateEvent"" priority=""overwrite"">
                     <Action name=""TargetAccelerateAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""10"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""50""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""BrakeCondition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""$AccelerateTime"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""TargetBrake2Event"" priority=""overwrite"">
                     <Action name=""TargetBrake2Action"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-8"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""5""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""Brake2Condition"" delay=""0"" conditionEdge=""rising"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""$Brake2Time"" rule=""greaterThan""/>
                             </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
          <ConditionGroup>
             <Condition name=""ActStopCondition"" delay=""7"" conditionEdge=""rising"">
                <ByValueCondition>
                   <StoryboardElementStateCondition storyboardElementType=""event""
                                                    storyboardElementRef=""TargetBrake2Event""
                                                    state=""endTransition""/>
                </ByValueCondition>
             </Condition>
          </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate ALKS controller
- Parameters: EgoSpeed=20, EgoS=30, TargetSpeed=17, TargetS=50, TTC=2.85, EgoSpeed=20, EgoS=30, TargetSpeed=17, TargetS=50, TTC=2.85
- Actors: Ego (car_white), TargetCutIn (car_red)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate and test ALKS controller in a cut-in scenario -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""1"" date=""2022-11-15T10:00:00"" description=""Demonstrate ALKS controller"" author=""esmini-team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""EgoSpeed"" parameterType=""double"" value=""20""/>
        <ParameterDeclaration name=""EgoS"" parameterType=""double"" value=""30""/>
        <ParameterDeclaration name=""TargetSpeed"" parameterType=""double"" value=""17""/>
        <ParameterDeclaration name=""TargetS"" parameterType=""double"" value=""50""/>
        <ParameterDeclaration name=""TTC"" parameterType=""double"" value=""2.85""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <PedestrianCatalog>
            <Directory path=""../xosc/Catalogs/Pedestrians""/>
        </PedestrianCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
            <ObjectController>
                <Controller name=""ALKS_R157SM_Controller"">
                    <Properties>
                        <Property name=""mode"" value=""override""/>
                        <Property name=""model"" value=""Regulation""/>
                        <Property name=""logLevel"" value=""2""/>
                        <Property name=""cruise"" value=""false""/>
                        <Property name=""cutInPerceptionDelayMode"" value=""Time""/>
                        <Property name=""fullStop"" value=""true""/>
                        <Property name=""lateralTrigDistance"" value=""0.5""/>
                        <Property name=""aebTTC"" value=""1.2""/>
                    </Properties>
                </Controller>
            </ObjectController>
        </ScenarioObject>
        <ScenarioObject name=""TargetCutIn"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""0.0"" s=""$EgoS""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$EgoSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <ControllerAction>
                            <ActivateControllerAction longitudinal=""true"" lateral=""false""/>
                        </ControllerAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""TargetCutIn"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""1"" offset=""0.0"" s=""$TargetS"">
                                    <Orientation type=""relative"" h=""3.141593""/>
                                </LanePosition>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$TargetSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""MyStory"">
            <ParameterDeclarations/>
            <Act name=""CutInAndBrakeAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""MyManeuverGroup"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""TargetCutIn""/>
                    </Actors>
                    <Maneuver name=""MyManeuver"">
                        <Event name=""CutInEvent"" priority=""overwrite"">
                            <Action name=""CutInAction"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneChangeAction>
                                            <LaneChangeActionDynamics dynamicsShape=""cubic"" value=""4"" dynamicsDimension=""time""/>
                                            <LaneChangeTarget>
                                                <RelativeTargetLane entityRef=""Ego"" value=""0""/>
                                            </LaneChangeTarget>
                                        </LaneChangeAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""CutInStartCondition"" delay=""0"" conditionEdge=""rising"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""Ego""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <TimeToCollisionCondition value=""$TTC"" freespace=""true"" coordinateSystem=""road"" relativeDistanceType=""longitudinal"" rule=""lessThan"">
                                                    <TimeToCollisionConditionTarget>
                                                        <EntityRef entityRef=""TargetCutIn""/>
                                                    </TimeToCollisionConditionTarget>
                                                </TimeToCollisionCondition>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger/>
                <StopTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""stop_trigger "" delay=""0"" conditionEdge=""none"">
                    <ByValueCondition>
                        <SimulationTimeCondition value=""10"" rule=""greaterThan""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate ALKS controller
- Parameters: EgoSpeed=20, EgoS=30, TargetS=50, EgoSpeed=20, EgoS=30, TargetS=50
- Actors: Ego (car_white), TargetCutOut (car_red), Box (inline)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate and test ALKS controller in a cut-out scenario -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""1"" date=""2022-11-15T10:00:00"" description=""Demonstrate ALKS controller"" author=""esmini-team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""EgoSpeed"" parameterType=""double"" value=""20""/>
        <ParameterDeclaration name=""EgoS"" parameterType=""double"" value=""30""/>
        <ParameterDeclaration name=""TargetS"" parameterType=""double"" value=""50""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <PedestrianCatalog>
            <Directory path=""../xosc/Catalogs/Pedestrians""/>
        </PedestrianCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
            <ObjectController>
                <Controller name=""ALKS_R157SM_Controller"">
                    <Properties>
                        <Property name=""mode"" value=""override""/>
                        <Property name=""model"" value=""ReferenceDriver""/>
                        <Property name=""logLevel"" value=""2""/>
                        <Property name=""cruise"" value=""false""/>
                        <Property name=""cutInPerceptionDelayMode"" value=""Time""/>
                        <Property name=""fullStop"" value=""true""/>
                        <Property name=""aebTTC"" value=""1.6""/>
                    </Properties>
                </Controller>
            </ObjectController>
        </ScenarioObject>
        <ScenarioObject name=""TargetCutOut"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
        </ScenarioObject>
        <ScenarioObject name=""Box"">
            <MiscObject name=""box"" miscObjectCategory=""obstacle"" model3d=""../models/box_cc_by.osgb"" mass=""200.0"">
                <ParameterDeclarations/>
                <BoundingBox>
                    <Center x=""0.0"" y=""0.0"" z=""0.75""/>
                    <Dimensions width=""1.0"" length=""2.0"" height=""1.2""/>
                </BoundingBox>
                <Properties>
                    <Property name=""scaleMode"" value=""ModelToBB""/>
                    <Property name=""model_id"" value=""15""/>
                </Properties>
            </MiscObject>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""$EgoS""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$EgoSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <ControllerAction>
                            <ActivateControllerAction longitudinal=""true"" lateral=""false""/>
                        </ControllerAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""TargetCutOut"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""$TargetS""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$EgoSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Box"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""0.0"" s=""135"">
                                    <Orientation type=""relative"" h=""0.1""/>
                                </LanePosition>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""MyStory"">
            <ParameterDeclarations/>
            <Act name=""CutInAndBrakeAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""MyManeuverGroup"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""TargetCutOut""/>
                    </Actors>
                    <Maneuver name=""CutOutManeuver"">
                        <Event name=""CutOutEvent"" priority=""overwrite"">
                            <Action name=""CutOutAction"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneChangeAction>
                                            <LaneChangeActionDynamics dynamicsShape=""cubic"" value=""2"" dynamicsDimension=""time""/>
                                            <LaneChangeTarget>
                                                <RelativeTargetLane entityRef=""Ego"" value=""1""/>
                                            </LaneChangeTarget>
                                        </LaneChangeAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""CutOutStartCondition"" delay=""0"" conditionEdge=""rising"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""TargetCutOut""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <ReachPositionCondition tolerance=""1.0"">
                                                    <Position>
                                                        <LanePosition roadId=""1"" laneId=""-1"" s=""96.0""/>
                                                    </Position>
                                                </ReachPositionCondition>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger/>
                <StopTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""start_trigger "" delay=""0"" conditionEdge=""none"">
                    <ByValueCondition>
                        <SimulationTimeCondition value=""10"" rule=""greaterThan""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate ALKS controller
- Parameters: EgoSpeed=20, EgoS=30, DecelerateS=60, EgoSpeed=20, EgoS=30, DecelerateS=60
- Actors: Ego (car_white), TargetDecelerate (car_red)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate and test ALKS controller in a decelerate scenario -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""1"" date=""2022-11-15T10:00:00"" description=""Demonstrate ALKS controller"" author=""esmini-team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""EgoSpeed"" parameterType=""double"" value=""20""/>
        <ParameterDeclaration name=""EgoS"" parameterType=""double"" value=""30""/>
        <ParameterDeclaration name=""DecelerateS"" parameterType=""double"" value=""60""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <PedestrianCatalog>
            <Directory path=""../xosc/Catalogs/Pedestrians""/>
        </PedestrianCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
            <ObjectController>
                <Controller name=""ALKS_R157SM_Controller"">
                    <Properties>
                        <Property name=""mode"" value=""override""/>
                        <Property name=""model"" value=""ReferenceDriver""/>
                        <Property name=""logLevel"" value=""2""/>
                        <Property name=""cruise"" value=""false""/>
                        <Property name=""cutInPerceptionDelayMode"" value=""Time""/>
                        <Property name=""fullStop"" value=""true""/>
                    </Properties>
                </Controller>
            </ObjectController>
        </ScenarioObject>
        <ScenarioObject name=""TargetDecelerate"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""$EgoS""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$EgoSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <ActivateControllerAction longitudinal=""true"" lateral=""false""/>
                    </PrivateAction>
                </Private>
                <Private entityRef=""TargetDecelerate"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""$DecelerateS""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$EgoSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""MyStory"">
            <ParameterDeclarations/>
            <Act name=""CutInAndBrakeAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""MyManeuverGroup"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""TargetDecelerate""/>
                    </Actors>
                    <Maneuver name=""DecelerateManeuver"">
                        <Event name=""DecelerateEvent"" priority=""overwrite"">
                            <Action name=""DecelerateAction"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsShape=""linear"" dynamicsDimension=""rate"" value=""7.0""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""0""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""DecelerateTrigger "" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""2"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger/>
                <StopTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""start_trigger "" delay=""0"" conditionEdge=""none"">
                    <ByValueCondition>
                        <SimulationTimeCondition value=""10"" rule=""greaterThan""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate ALKS controller
- Parameters: EgoSpeed=16, EgoS=32, PedestrianSpeed=1.0, PedestrianS=110, EgoSpeed=16, EgoS=32, PedestrianSpeed=1.0, PedestrianS=110
- Actors: Ego (car_white), Pedestrian (pedestrian_adult)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate and test ALKS controller in a pedestrian scenario -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""1"" date=""2022-11-15T10:00:00"" description=""Demonstrate ALKS controller"" author=""esmini-team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""EgoSpeed"" parameterType=""double"" value=""16""/>
        <ParameterDeclaration name=""EgoS"" parameterType=""double"" value=""32""/>
        <ParameterDeclaration name=""PedestrianSpeed"" parameterType=""double"" value=""1.0""/>
        <ParameterDeclaration name=""PedestrianS"" parameterType=""double"" value=""110""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <PedestrianCatalog>
            <Directory path=""../xosc/Catalogs/Pedestrians""/>
        </PedestrianCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
            <ObjectController>
                <CatalogReference catalogName=""ControllerCatalog"" entryName=""ALKS_R157SM_Controller"">
                    <ParameterAssignments>
                        <ParameterAssignment parameterRef=""Mode"" value=""override""/>
                        <ParameterAssignment parameterRef=""Model"" value=""ReferenceDriver""/>
                        <ParameterAssignment parameterRef=""LogLevel"" value=""2""/>
                        <ParameterAssignment parameterRef=""Cruise"" value=""false""/>
                        <ParameterAssignment parameterRef=""CutInPerceptionDelayMode"" value=""Time""/>
                        <ParameterAssignment parameterRef=""FullStop"" value=""true""/>
                        <ParameterAssignment parameterRef=""PedestrianRiskEvaluationTime"" value=""0.4""/>
                        <ParameterAssignment parameterRef=""AlwaysTrigOnScenario"" value=""true""/>
                        <ParameterAssignment parameterRef=""OverlapTolerance"" value=""0.0""/>
                    </ParameterAssignments>
                </CatalogReference>
            </ObjectController>
        </ScenarioObject>
        <ScenarioObject name=""Pedestrian"">
            <CatalogReference catalogName=""PedestrianCatalog"" entryName=""pedestrian_adult""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""$EgoS""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$EgoSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <ControllerAction>
                            <ActivateControllerAction longitudinal=""true"" lateral=""false""/>
                        </ControllerAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Pedestrian"">
                    <PrivateAction>
                        <RoutingAction>
                            <FollowTrajectoryAction>
                                <Trajectory closed=""false"" name=""ped_traj"">
                                    <ParameterDeclarations/>
                                    <Shape>
                                        <Polyline>
                                            <Vertex>
                                                <Position>
                                                    <WorldPosition x=""${$PedestrianS}"" y=""-4.0""/>
                                                </Position>
                                            </Vertex>
                                            <Vertex>
                                                <Position>
                                                    <WorldPosition x=""${$PedestrianS}"" y=""5.0""/>
                                                </Position>
                                            </Vertex>
                                            <Vertex>
                                                <Position>
                                                    <WorldPosition x=""${$PedestrianS + 10}"" y=""5.0""/>
                                                </Position>
                                            </Vertex>
                                        </Polyline>
                                    </Shape>
                                </Trajectory>
                                <TimeReference>
                                    <None/>
                                </TimeReference>
                                <TrajectoryFollowingMode followingMode=""position""/>
                            </FollowTrajectoryAction>
                        </RoutingAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""MyStory"">
            <ParameterDeclarations/>
            <Act name=""CutInAndBrakeAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""MyManeuverGroup"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Pedestrian""/>
                    </Actors>
                    <Maneuver name=""PedestrianWalkManeuver"" >
                        <Event name=""PedestrianWalkEvent"" priority=""overwrite"">
                            <Action name=""PedestrianWalkAction"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""$PedestrianSpeed""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""PedestrianWalkTrigger "" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""2"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger/>
                <StopTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""start_trigger "" delay=""0"" conditionEdge=""none"">
                    <ByValueCondition>
                        <SimulationTimeCondition value=""10"" rule=""greaterThan""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate safety models of ALKS controller
- Parameters: EgoSpeed=20, TargetSpeed=15, EgoS=50, TargetS=80, TargetBrakeTime=2.0, TargetBrakeRate=5.2, EgoSpeed=20, TargetSpeed=15, EgoS=50, TargetS=80, TargetBrakeTime=2.0, TargetBrakeRate=5.2
- Actors: Ego (car_white), Target (car_red)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate and test safety models of the ALKS controller -->
<!-- Ego car (SUT) (white) is driving with constant speed, set by init event -->
<!-- Target car (red) is cutting in from left and brakes hard -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""1"" date=""2022-08-15T10:00:00"" description=""Demonstrate safety models of ALKS controller"" author=""esmini-team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""EgoSpeed"" parameterType=""double"" value=""20""/>
        <ParameterDeclaration name=""TargetSpeed"" parameterType=""double"" value=""15""/>
        <ParameterDeclaration name=""EgoS"" parameterType=""double"" value=""50""/>
        <ParameterDeclaration name=""TargetS"" parameterType=""double"" value=""80""/>
        <ParameterDeclaration name=""TargetBrakeTime"" parameterType=""double"" value=""2.0""/>
        <ParameterDeclaration name=""TargetBrakeRate"" parameterType=""double"" value=""5.2""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
            <ObjectController>
                <Controller name=""ALKS_R157SM_Controller"">
                    <Properties>
                        <Property name=""model"" value=""Regulation""/>
                        <Property name=""logLevel"" value=""2""/>
                        <Property name=""cruise"" value=""true""/>
                    </Properties>
                </Controller>
            </ObjectController>
        </ScenarioObject>
        <ScenarioObject name=""Target"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""$EgoS""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$EgoSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <ControllerAction>
                            <ActivateControllerAction longitudinal=""true"" lateral=""false""/>
                        </ControllerAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Target"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""1"" offset=""0"" s=""$TargetS"">
                                    <Orientation type=""relative"" h=""3.141593""/>
                                </LanePosition>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$TargetSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""CutInAndBrakeStory"">
            <ParameterDeclarations/>
            <Act name=""CutInAndBrakeAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""CutInAndBrakeSequence"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Target""/>
                    </Actors>
                    <Maneuver name=""LaneChangeManeuvers"">
                        <Event name=""LaneChange1Event"" priority=""overwrite"">
                            <Action name=""LaneChange1Action"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneChangeAction>
                                            <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""3.0"" dynamicsDimension=""time""/>
                                            <LaneChangeTarget>
                                                <RelativeTargetLane entityRef=""Ego"" value=""0""/>
                                            </LaneChangeTarget>
                                        </LaneChangeAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""LaneChange1Condition"" delay=""0"" conditionEdge=""rising"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""2.0"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""TargetreduceSpeedEvent"" priority=""parallel"">
                            <Action name=""TargetBrakeAction"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsShape=""linear"" value=""$TargetBrakeRate"" dynamicsDimension=""rate""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""0""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""BrakeCondition"" delay=""$TargetBrakeTime"" conditionEdge=""rising"">
                                        <ByValueCondition>
                                            <StoryboardElementStateCondition storyboardElementType=""event"" storyboardElementRef=""LaneChange1Event"" state=""startTransition""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""none"">
                            <ByValueCondition>
                                <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""ActStopCondition"" delay=""3"" conditionEdge=""rising"">
                    <ByValueCondition>
                        <StoryboardElementStateCondition storyboardElementType=""event"" storyboardElementRef=""TargetreduceSpeedEvent"" state=""endTransition""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
            <ConditionGroup>
                <Condition name=""CollisionCondition"" delay=""0"" conditionEdge=""rising"">
                    <ByEntityCondition>
                        <TriggeringEntities triggeringEntitiesRule=""any"">
                            <EntityRef entityRef=""Ego""/>
                        </TriggeringEntities>
                        <EntityCondition>
                            <CollisionCondition>
                                <EntityRef entityRef=""Target""/>
                            </CollisionCondition>
                        </EntityCondition>
                    </ByEntityCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Bicycle suddenly falls over
- Parameters: No parameters
- Actors: Cyclist (bicycle)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
   <FileHeader revMajor=""1"" revMinor=""3"" date=""2024-12-18T10:00:00"" description=""Bicycle suddenly falls over"" author=""esmini""/>
   <ParameterDeclarations/>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Cyclist"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""bicycle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Cyclist"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""10""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <RoutingAction>
                     <FollowTrajectoryAction>
                        <Trajectory closed=""false"" name=""bicycle_trajectory"">
                           <ParameterDeclarations/>
                           <Shape>
                              <Polyline>
                                 <Vertex time=""0"">
                                    <Position>
                                       <LanePosition roadId=""1"" laneId=""-1"" s=""100.0"">
                                          <Orientation type=""relative"" r=""0.0""/>
                                       </LanePosition>
                                    </Position>
                                 </Vertex>
                                 <Vertex time=""2"">
                                    <Position>
                                       <LanePosition roadId=""1"" laneId=""-1"" s=""120.0"">
                                          <Orientation type=""relative"" r=""0.0""/>
                                       </LanePosition>
                                    </Position>
                                 </Vertex>
                                 <Vertex time=""2.5"">
                                    <Position>
                                       <LanePosition roadId=""1"" laneId=""-1"" s=""125.0"">
                                          <Orientation type=""relative"" r=""1.5""/>
                                       </LanePosition>
                                    </Position>
                                 </Vertex>
                                 <Vertex time=""3.5"">
                                    <Position>
                                       <LanePosition roadId=""1"" laneId=""-1"" s=""130.0"">
                                          <Orientation type=""relative"" r=""1.5""/>
                                       </LanePosition>
                                    </Position>
                                 </Vertex>
                                 <Vertex time=""4"">
                                    <Position>
                                       <LanePosition roadId=""1"" laneId=""-1"" s=""130.0"">
                                          <Orientation type=""relative"" r=""1.5""/>
                                       </LanePosition>
                                    </Position>
                                 </Vertex>
                              </Polyline>
                           </Shape>
                        </Trajectory>
                        <TimeReference>
                           <Timing domainAbsoluteRelative=""relative"" offset=""0"" scale=""1""/>
                        </TimeReference>
                        <TrajectoryFollowingMode followingMode=""follow""/>
                     </FollowTrajectoryAction>
                  </RoutingAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <StopTrigger>
         <ConditionGroup>
            <Condition name=""StopTrigger"" delay=""0"" conditionEdge=""none"">
               <ByValueCondition>
                  <SimulationTimeCondition value=""6"" rule=""greaterThan""/>
               </ByValueCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate controller concept
- Parameters: EgoVehicle=car_white, EgoVehicle=car_white
- Actors: Ego ($EgoVehicle)
- Road network: ../xodr/curve_r100.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate how to use controllers in esmini. First the SloppyDriver will drive for a while  -->
<!-- then handing over to the user to drive interactivelly for a while, then finally take control -->
<!-- again with some improved performance (less sloppiness).                                      -->
<!-- time  0.0: Default Controller                                                                -->
<!-- time  2.0: SloppyDriver lateral domain only, high sloppiness                                 -->
<!-- time 10.0: InteractiveDriver user lateral control via arrow keys)                            -->
<!-- time 20.0: InteractiveDriver user longitudinal control via arrow keys)                       -->
<!-- time 30.0: SloppyDriver long domain, low sloppiness                                          -->
<!-- time 40.0: DefaultController                                                                 -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""1"" date=""2020-10-04T10:00:00"" description=""Demonstrate controller concept"" author=""esmini-team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""EgoVehicle"" parameterType=""string"" value=""car_white""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]curve_r100.xodr""/>
        <SceneGraphFile filepath=""../models/curve_r100.osgb""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""$EgoVehicle""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""0"" laneId=""-1"" offset=""0"" s=""20""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""15""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""Story"">
            <Act name=""Act"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""EgoManueverGroup"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Ego""/>
                    </Actors>
                    <Maneuver name=""ControllerManuever"">
                        <Event name=""SloppyDriverEvent"" maximumExecutionCount=""1"" priority=""overwrite"">
                            <Action name=""AssignSloppyDriverControllerAction"">
                                <PrivateAction>
                                    <ControllerAction>
                                        <AssignControllerAction>
                                            <CatalogReference catalogName=""ControllerCatalog"" entryName=""sloppyDriver"">
                                                <ParameterAssignments>
                                                    <ParameterAssignment parameterRef=""$Sloppiness"" value=""0.7""/>
                                                </ParameterAssignments>
                                            </CatalogReference>
                                        </AssignControllerAction>
                                    </ControllerAction>
                                </PrivateAction>
                            </Action>
                            <Action name=""ActivateSloppyDriverControllerAction"">
                                <PrivateAction>
                                    <ActivateControllerAction longitudinal=""false"" lateral=""true""/>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""SloppyDriverCondition"" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""2"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""LateralnteractiveEvent"" maximumExecutionCount=""1"" priority=""overwrite"">
                            <Action name=""AssignInteractiveControllerAction"">
                                <PrivateAction>
                                    <ControllerAction>
                                        <AssignControllerAction>
                                            <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver""/>
                                        </AssignControllerAction>
                                    </ControllerAction>
                                </PrivateAction>
                            </Action>
                            <Action name=""ActivateInteractiveDriverControllerActionLateral"">
                                <PrivateAction>
                                    <ActivateControllerAction longitudinal=""false"" lateral=""true""/>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""InteractiveDriverLateralCondition"" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""10"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""LongitudinalInteractiveInteractiveEvent"" maximumExecutionCount=""1"" priority=""overwrite"">
                            <Action name=""AssignLongitudinalInteractiveControllerAction"">
                                <PrivateAction>
                                    <ControllerAction>
                                        <AssignControllerAction>
                                            <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver""/>
                                        </AssignControllerAction>
                                    </ControllerAction>
                                </PrivateAction>
                            </Action>
                            <Action name=""ActivateInteractiveDriverControllerActionLongitudinal"">
                                <PrivateAction>
                                    <ActivateControllerAction longitudinal=""true"" lateral=""false""/>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""InteractiveDriverLongitudinalCondition"" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""20"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""BetterSloppyDriverEvent"" maximumExecutionCount=""1"" priority=""overwrite"">
                            <Action name=""AssignBetterSloppyDriverControllerAction"">
                                <PrivateAction>
                                    <ControllerAction>
                                        <AssignControllerAction>
                                            <CatalogReference catalogName=""ControllerCatalog"" entryName=""sloppyDriver"">
                                                <ParameterAssignments>
                                                    <ParameterAssignment parameterRef=""$Sloppiness"" value=""0.4""/>
                                                </ParameterAssignments>
                                            </CatalogReference>
                                        </AssignControllerAction>
                                    </ControllerAction>
                                </PrivateAction>
                            </Action>
                            <Action name=""ActivateBetterSloppyDriverControllerAction"">
                                <PrivateAction>
                                    <ActivateControllerAction longitudinal=""true"" lateral=""false""/>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""BetterSloppyDriverCondition"" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""30"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""DefaultControllerEvent"" maximumExecutionCount=""1"" priority=""overwrite"">
                            <Action name=""ActivateDefaultControllerAction"">
                                <PrivateAction>
                                    <ActivateControllerAction longitudinal=""false"" lateral=""false""/>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""DefaultControllerCondition"" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""40"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition name=""ActStart"" delay=""0"" conditionEdge=""none"">
                            <ByValueCondition>
                                <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""QuitWhenReachPositionCondition"" delay=""0.0"" conditionEdge=""none"">
                    <ByEntityCondition>
                        <TriggeringEntities triggeringEntitiesRule=""any"">
                            <EntityRef entityRef=""Ego""/>
                        </TriggeringEntities>
                        <EntityCondition>
                            <ReachPositionCondition tolerance=""10.0"">
                                <Position>
                                    <LanePosition roadId=""0"" laneId=""0"" s=""750.0""/>
                                </Position>
                            </ReachPositionCondition>
                        </EntityCondition>
                    </ByEntityCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Basic cut-in
- Parameters: HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=50, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=0.7, EgoSpeed=108, TargetSpeedFactor=1.2, HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=50, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=0.7, EgoSpeed=108, TargetSpeedFactor=1.2
- Actors: Ego ($HostVehicle), OverTaker ($TargetVehicle)
- Road network: ../xodr/e6mini.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate basic maneuvers and triggers -->
<!-- A white car is driving with constant speed -->
<!-- A red car is overtaking -->
<!-- At specific time gap the red car changes lane -->
<!-- and ends up in front of the white car -->
<!-- At another, larger, time gap the red car brakes -->

<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2021-04-09T10:00:00""
               description=""Basic cut-in""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""50""/>
      <ParameterDeclaration name=""HeadwayTime_LaneChange"" parameterType=""double"" value=""0.4""/>
      <ParameterDeclaration name=""HeadwayTime_Brake"" parameterType=""double"" value=""0.7""/>
      <ParameterDeclaration name=""EgoSpeed"" parameterType=""double"" value=""108""/>
      <ParameterDeclaration name=""TargetSpeedFactor"" parameterType=""double"" value=""1.2""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]e6mini.xodr""/>
      <SceneGraphFile filepath=""../models/e6mini.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
        <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""OverTaker"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""$EgoStartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${$EgoSpeed / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""OverTaker"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-2"" offset=""0"" s=""25""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""CutInAndBrakeStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""OverTaker""/>
         </ParameterDeclarations>
         <Act name=""CutInAndBrakeAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""CutInAndBrakeSequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""$owner""/>
               </Actors>
               <Maneuver name=""CutInManeuver"">
                  <Event name=""OverTakerStartSpeedEvent"" priority=""overwrite"">
                     <Action name=""OverTakerStartSpeedAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                                 <SpeedActionTarget>
                                    <RelativeTargetSpeed entityRef=""Ego""
                                                         value=""$TargetSpeedFactor""
                                                         speedTargetValueType=""factor""
                                                         continuous=""true""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""OverTakerStartSpeedCondition""
                                      delay=""0""
                                      conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""act""
                                                                  storyboardElementRef=""CutInAndBrakeAct""
                                                                  state=""startTransition""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""CutInEvent"" priority=""overwrite"">
                     <Action name=""CutInAction"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""3"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""Ego"" value=""0""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""CutInStartCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_LaneChange""
                                                          freespace=""false""
                                                          coordinateSystem=""road""
                                                          relativeDistanceType=""longitudinal""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""OvertakerBrakeEvent"" priority=""parallel"">
                     <Action name=""OvertakerBrakeAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-4"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""${BrakeCondition_HWT + _ + $HeadwayTime_Brake}"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_Brake""
                                                          freespace=""false""
                                                          coordinateSystem=""entity""
                                                          relativeDistanceType=""longitudinal""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
          <ConditionGroup>
             <Condition name=""StopCondition"" delay=""5"" conditionEdge=""rising"">
                <ByValueCondition>
                   <StoryboardElementStateCondition storyboardElementType=""maneuver""
                                                    storyboardElementRef=""CutInManeuver""
                                                    state=""endTransition""/>
                </ByValueCondition>
             </Condition>
          </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Cut-in
- Parameters: HostVehicle=car_white, EgoStartS=150, RoadID=1, LaneOffset=3.1, Speed=${50/3.6}, HostVehicle=car_white, EgoStartS=150, RoadID=1, LaneOffset=3.1, Speed=${50/3.6}
- Actors: Ego ($HostVehicle), Truck (semi_truck)
- Road network: ../xodr/curves_elevation.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate how LaneOffsetAction can be used for overtaking maneuvers, giving -->
<!-- explicit control over lateral offset in relation to original position.        -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""1"" date=""2017-06-09T10:00:00"" description=""Cut-in"" author=""SimS""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
        <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""150""/>
        <ParameterDeclaration name=""RoadID"" parameterType=""double"" value=""1""/>
        <ParameterDeclaration name=""LaneOffset"" parameterType=""double"" value=""3.1""/>
        <ParameterDeclaration name=""Speed"" parameterType=""double"" value=""${50/3.6}""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]curves_elevation.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
        </ScenarioObject>
        <ScenarioObject name=""Truck"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""semi_truck""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""$RoadID"" laneId=""-1"" offset=""0"" s=""$EgoStartS""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$Speed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Truck"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""$RoadID"" laneId=""-1"" s=""${$EgoStartS-30}"" offset=""0"" />
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""CutInStory"">
            <ParameterDeclarations>
                <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Truck""/>
            </ParameterDeclarations>
            <Act name=""CutInAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""CutInAndBrakeSequence"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""$owner""/>
                    </Actors>
                    <Maneuver name=""CutInManeuver"">
                        <Event name=""OverTakerStartSpeedEvent"" priority=""overwrite"">
                            <Action name=""OverTakerStartSpeedAction"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                            <SpeedActionTarget>
                                                <RelativeTargetSpeed entityRef=""Ego"" value=""1.3"" speedTargetValueType=""factor"" continuous=""true""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                        </Event>
                        <Event name=""LaneChangeEvent"" priority=""overwrite"">
                            <Action name=""Action"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneOffsetAction continuous=""true"">
                                            <LaneOffsetActionDynamics dynamicsShape=""cubic"" maxLateralAcc=""3.0""/>
                                            <LaneOffsetTarget>
                                                <AbsoluteTargetLaneOffset value=""$LaneOffset""/>
                                            </LaneOffsetTarget>
                                        </LaneOffsetAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""LaneChangeCondition"" delay=""0"" conditionEdge=""none"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""Truck""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <TimeHeadwayCondition entityRef=""Ego"" value=""1.0"" freespace=""false"" alongRoute=""false"" rule=""lessThan""/>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""CutInEvent"" priority=""overwrite"">
                            <Action name=""Action"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneOffsetAction continuous=""true"">
                                            <LaneOffsetActionDynamics dynamicsShape=""sinusoidal"" maxLateralAcc=""2.0""/>
                                            <LaneOffsetTarget>
                                                <AbsoluteTargetLaneOffset value=""0.0""/>
                                            </LaneOffsetTarget>
                                        </LaneOffsetAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""CutInCondition"" delay=""0"" conditionEdge=""rising"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""Ego""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <TimeHeadwayCondition entityRef=""$owner"" value=""1.2"" freespace=""false"" alongRoute=""false"" rule=""greaterThan""/>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""none"">
                            <ByValueCondition>
                                <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""StopCondition"" delay=""10"" conditionEdge=""rising"">
                    <ByValueCondition>
                        <StoryboardElementStateCondition storyboardElementType=""action"" storyboardElementRef=""CutInEvent::Action"" state=""endTransition""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Basic cut-in with external controller
- Parameters: HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=50, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=0.7, HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=50, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=0.7
- Actors: Ego ($HostVehicle), OverTaker ($TargetVehicle)
- Road network: ../xodr/e6mini.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate use of external controller                          -->
<!-- The state of the white car is expected to be reported to esmini -->
<!-- via esminiLib SE_ReportObjectPos, else it will not move         -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2020-10-09T10:00:00""
               description=""Basic cut-in with external controller""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""50""/>
      <ParameterDeclaration name=""HeadwayTime_LaneChange"" parameterType=""double"" value=""0.4""/>
      <ParameterDeclaration name=""HeadwayTime_Brake"" parameterType=""double"" value=""0.7""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
         <Directory path=""../xosc/Catalogs/Controllers"" />
      </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]e6mini.xodr""/>
      <SceneGraphFile filepath=""../models/e6mini.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
        <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
        <ObjectController>
            <CatalogReference catalogName=""ControllerCatalog"" entryName=""externalController"" />
        </ObjectController>
      </ScenarioObject>
      <ScenarioObject name=""OverTaker"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""$EgoStartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                    <ActivateControllerAction longitudinal=""true"" lateral=""true"" />
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""30""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""OverTaker"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-2"" offset=""0"" s=""25""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""CutInAndBrakeStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""OverTaker""/>
         </ParameterDeclarations>
         <Act name=""CutInAndBrakeAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""CutInAndBrakeSequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""$owner""/>
               </Actors>
               <Maneuver name=""CutInManeuver"">
                  <Event name=""OverTakerStartSpeedEvent"" priority=""overwrite"">
                     <Action name=""OverTakerStartSpeedAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                                 <SpeedActionTarget>
                                    <RelativeTargetSpeed entityRef=""Ego""
                                                         value=""1.2""
                                                         speedTargetValueType=""factor""
                                                         continuous=""true""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""OverTakerStartSpeedCondition""
                                      delay=""0""
                                      conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""act""
                                                                  storyboardElementRef=""CutInAndBrakeAct""
                                                                  state=""startTransition""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""CutInEvent"" priority=""overwrite"">
                     <Action name=""CutInAction"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""3"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""Ego"" value=""0""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""CutInStartCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_LaneChange""
                                                          freespace=""false""
                                                          alongRoute=""true""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""OvertakerBrakeEvent"" priority=""parallel"">
                     <Action name=""OvertakerBrakeAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-4"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""BrakeCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_Brake""
                                                          freespace=""true""
                                                          alongRoute=""false""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""rising"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
          <ConditionGroup>
             <Condition name=""StopCondition"" delay=""5"" conditionEdge=""rising"">
                <ByValueCondition>
                   <StoryboardElementStateCondition storyboardElementType=""event""
                                                    storyboardElementRef=""OvertakerBrakeEvent""
                                                    state=""endTransition""/>
                </ByValueCondition>
             </Condition>
          </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Basic cut-in with interactive controller
- Parameters: HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=50, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=0.7, HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=50, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=0.7
- Actors: Ego ($HostVehicle), OverTaker (inline)
- Road network: ../xodr/e6mini.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate basic maneuvers and use of interactive controller -->
<!-- In this case the user controls the white car being overtaken  -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2020-10-09T10:00:00""
               description=""Basic cut-in with interactive controller""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""50""/>
      <ParameterDeclaration name=""HeadwayTime_LaneChange"" parameterType=""double"" value=""0.4""/>
      <ParameterDeclaration name=""HeadwayTime_Brake"" parameterType=""double"" value=""0.7""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
         <Directory path=""../xosc/Catalogs/Controllers"" />
      </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]e6mini.xodr""/>
      <SceneGraphFile filepath=""../models/e6mini.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
        <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
        <ObjectController>
            <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver"" />
        </ObjectController>
      </ScenarioObject>
      <ScenarioObject name=""OverTaker"">
        <Vehicle name=""car_red"" vehicleCategory=""car"" model3d=""../models/car_red.osgb"">
            <ParameterDeclarations/>
            <BoundingBox>
                <Center x=""1.45"" y=""0.0"" z=""0.75""/>
                <Dimensions width=""2.0"" length=""5.04"" height=""1.5""/>
            </BoundingBox>
            <Performance maxSpeed=""100.0"" maxDeceleration=""100.0"" maxAcceleration=""100.0""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <Properties>
                <Property name=""model_id"" value=""2""/>
                <Property name=""scaleMode"" value=""BBToModel""/>
            </Properties>
        </Vehicle> 
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""$EgoStartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                    <ActivateControllerAction longitudinal=""true"" lateral=""true"" />
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""30""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""OverTaker"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-2"" offset=""0"" s=""25""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""CutInAndBrakeStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""OverTaker""/>
         </ParameterDeclarations>
         <Act name=""CutInAndBrakeAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""CutInAndBrakeSequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""$owner""/>
               </Actors>
               <Maneuver name=""CutInManeuver"">
                  <Event name=""OverTakerStartSpeedEvent"" priority=""overwrite"">
                     <Action name=""OverTakerStartSpeedAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                                 <SpeedActionTarget>
                                    <RelativeTargetSpeed entityRef=""Ego""
                                                         value=""1.2""
                                                         speedTargetValueType=""factor""
                                                         continuous=""true""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""OverTakerStartSpeedCondition""
                                      delay=""0""
                                      conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""act""
                                                                  storyboardElementRef=""CutInAndBrakeAct""
                                                                  state=""startTransition""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""CutInEvent"" priority=""overwrite"">
                     <Action name=""CutInAction"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""3"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""Ego"" value=""0""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""CutInStartCondition"" delay=""0"" conditionEdge=""none"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_LaneChange""
                                                          freespace=""false""
                                                          alongRoute=""true""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""OvertakerBrakeEvent"" priority=""parallel"">
                     <Action name=""OvertakerBrakeAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-4"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""BrakeCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_Brake""
                                                          freespace=""true""
                                                          alongRoute=""false""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""rising"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
          <ConditionGroup>
             <Condition name=""StopCondition"" delay=""5"" conditionEdge=""rising"">
                <ByValueCondition>
                   <StoryboardElementStateCondition storyboardElementType=""event""
                                                    storyboardElementRef=""OvertakerBrakeEvent""
                                                    state=""endTransition""/>
                </ByValueCondition>
             </Condition>
          </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Parameter values for scenario
- Parameters: No parameters
- Actors: none
- Road network: unknown","<?xml version=""1.0"" encoding=""utf-8""?>
<OpenSCENARIO>
  <FileHeader revMajor=""1"" revMinor=""2"" date=""2022-10-31T12:00:00"" description=""Parameter values for scenario"" author=""esmini-team"" />
  <ParameterValueDistribution>
    <ScenarioFile filepath=""cut-in.xosc"" />
    <Deterministic>
      <DeterministicMultiParameterDistribution>
        <ValueSetDistribution>
          <ParameterValueSet>
            <ParameterAssignment parameterRef=""HostVehicle"" value=""car_blue"" />
            <ParameterAssignment parameterRef=""TargetVehicle"" value=""car_yellow"" />
          </ParameterValueSet>
          <ParameterValueSet>
            <ParameterAssignment parameterRef=""TargetVehicle"" value=""van_red"" />
          </ParameterValueSet>
        </ValueSetDistribution>
      </DeterministicMultiParameterDistribution>
      <DeterministicSingleParameterDistribution parameterName=""EgoSpeed"">
        <DistributionSet>
          <Element value=""70.0"" />
          <Element value=""110.0"" />
        </DistributionSet>
      </DeterministicSingleParameterDistribution>
      <DeterministicSingleParameterDistribution parameterName=""TargetSpeedFactor"">
        <DistributionRange stepWidth=""0.2"">
          <Range lowerLimit=""1.1"" upperLimit=""1.5"" />
        </DistributionRange>
      </DeterministicSingleParameterDistribution>
      <!-- <DeterministicSingleParameterDistribution parameterName=""HeadwayTime_LaneChange""> -->
        <!-- <DistributionRange stepWidth=""0.2""> -->
          <!-- <Range lowerLimit=""0.2"" upperLimit=""0.6"" /> -->
        <!-- </DistributionRange> -->
      <!-- </DeterministicSingleParameterDistribution> -->
    </Deterministic>
  </ParameterValueDistribution>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Another variant of cut-in
- Parameters: HostVehicle=car_white, TargetVehicle=car_red, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=1.0, HostVehicle=car_white, TargetVehicle=car_red, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=1.0
- Actors: Ego ($HostVehicle), OverTaker ($TargetVehicle)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Another cut-in variant on a simple straight road. In this -->
<!-- case specifying rate of the lane change lateral movement  -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2017-06-09T10:00:00""
               description=""Another variant of cut-in""
               author=""SimS""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""HeadwayTime_LaneChange"" parameterType=""double"" value=""0.4""/>
      <ParameterDeclaration name=""HeadwayTime_Brake"" parameterType=""double"" value=""1.0""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
      <SceneGraphFile filepath=""../models/straight_500m.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""OverTaker"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""20""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""50""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""OverTaker"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""25""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RelativeRoadPosition entityRef=""Ego"" ds=""-20"" dt=""3.1"">
                            <Orientation type=""absolute"" h=""0""/>
                        </RelativeRoadPosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""CutInAndBrakeStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""OverTaker""/>
         </ParameterDeclarations>
         <Act name=""CutInAndBrakeAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""CutInAndBrakeSequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""$owner""/>
               </Actors>
               <Maneuver name=""CutInManeuver"">
                  <Event name=""CutInEvent"" priority=""overwrite"" maximumExecutionCount=""1"" >
                     <Action name=""CutInAction"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction >
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""3"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""Ego"" value=""0""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""CutInStartCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_LaneChange""
                                                          freespace=""true""
                                                          alongRoute=""true""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
               <Maneuver name=""BrakeManeuver"">
                  <Event name=""BrakeEvent"" priority=""overwrite"">
                     <Action name=""BrakeAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-5"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""BrakeCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_Brake""
                                                          freespace=""true""
                                                          alongRoute=""true""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""rising"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
          <ConditionGroup>
              <Condition conditionEdge=""none"" delay=""0"" name=""simulationEndEventDone"">
                  <ByValueCondition>
                      <SimulationTimeCondition rule=""greaterThan"" value=""10""/>
                  </ByValueCondition>
              </Condition>
              <Condition conditionEdge=""rising"" delay=""2"" name=""simulationEndDecelerationDone"">
                  <ByEntityCondition>
                      <TriggeringEntities triggeringEntitiesRule=""any"">
                          <EntityRef entityRef=""OverTaker""/>
                      </TriggeringEntities>
                      <EntityCondition>
                          <AccelerationCondition value=""0.0"" rule=""equalTo""/>
                      </EntityCondition>
                  </ByEntityCondition>
              </Condition>
          </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Basic cut-in with sloppy-driver controller
- Parameters: HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=50, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=2.7, HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=50, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=2.7
- Actors: Ego ($HostVehicle), OverTaker ($TargetVehicle)
- Road network: ../xodr/e6mini.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate sloppy driver controller on top of a basic cut-in scenario -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2020-10-09T10:00:00""
               description=""Basic cut-in with sloppy-driver controller""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""50""/>
      <ParameterDeclaration name=""HeadwayTime_LaneChange"" parameterType=""double"" value=""0.4""/>
      <ParameterDeclaration name=""HeadwayTime_Brake"" parameterType=""double"" value=""2.7""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
         <Directory path=""../xosc/Catalogs/Controllers"" />
      </ControllerCatalog>  
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]e6mini.xodr""/>
      <SceneGraphFile filepath=""../models/e6mini.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
        <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""OverTaker"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
         <ObjectController>
            <Controller name=""sloppyDriver"">
                <Properties>
                    <Property name=""esminiController"" value=""SloppyDriverController"" />
                    <Property name=""mode"" value=""additive""/>
                    <Property name=""sloppiness"" value=""0.6"" />
                </Properties>
            </Controller>            
         </ObjectController>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""$EgoStartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                    <ActivateControllerAction longitudinal=""true"" lateral=""true"" />
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""30""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""OverTaker"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-2"" offset=""0"" s=""25""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""10""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>               
               <PrivateAction>
                   <ActivateControllerAction lateral=""true"" longitudinal=""true""/>
               </PrivateAction>               
            </Private>
         </Actions>
      </Init>
      <Story name=""CutInAndBrakeStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""OverTaker""/>
         </ParameterDeclarations>
         <Act name=""CutInAndBrakeAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""CutInAndBrakeSequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""$owner""/>
               </Actors>
               <Maneuver name=""CutInManeuver"">
                  <Event name=""OverTakerStartSpeedEvent"" priority=""overwrite"">
                     <Action name=""OverTakerStartSpeedAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                                 <SpeedActionTarget>
                                    <RelativeTargetSpeed entityRef=""Ego""
                                                         value=""1.2""
                                                         speedTargetValueType=""factor""
                                                         continuous=""true""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""OverTakerStartSpeedCondition""
                                      delay=""0""
                                      conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""act""
                                                                  storyboardElementRef=""CutInAndBrakeAct""
                                                                  state=""startTransition""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""CutInEvent"" priority=""overwrite"">
                     <Action name=""CutInAction"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""3"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""Ego"" value=""0""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""CutInStartCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_LaneChange""
                                                          freespace=""true""
                                                          alongRoute=""false""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""OvertakerBrakeEvent"" priority=""parallel"">
                     <Action name=""OvertakerBrakeAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-4"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""BrakeCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_Brake""
                                                          freespace=""false""
                                                          alongRoute=""true""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
          <ConditionGroup>
             <Condition name=""StopCondition"" delay=""5"" conditionEdge=""rising"">
                <ByValueCondition>
                   <StoryboardElementStateCondition storyboardElementType=""event""
                                                    storyboardElementRef=""OvertakerBrakeEvent""
                                                    state=""endTransition""/>
                </ByValueCondition>
             </Condition>
          </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: adaptspeed_example
- Parameters: No parameters
- Actors: Ego (inline), Target1 (car_red), SumoVehicles (car_yellow)
- Road network: ../xodr/e6mini.xodr","<?xml version=""1.0"" ?>
<!-- Demonstrate a way of integrating SUMO vehicles in esmini simulations -->
<OpenSCENARIO>
    <FileHeader author=""Mandolin"" date=""2020-08-14T08:57:00"" description=""adaptspeed_example"" revMajor=""1"" revMinor=""0""/>
    <ParameterDeclarations/>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]e6mini.xodr""/>
        <SceneGraphFile filepath=""../models/e6mini.osgb""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <Vehicle name=""car_white"" vehicleCategory=""car"">
                <ParameterDeclarations/>
                <BoundingBox>
                    <Center x=""2.0"" y=""0"" z=""0.9""/>
                    <Dimensions height=""1.8"" length=""5"" width=""2""/>
                </BoundingBox>
                <Performance maxAcceleration=""10"" maxDeceleration=""10"" maxSpeed=""69""/>
                <Axles>
                    <FrontAxle maxSteering=""30"" positionX=""2.98"" positionZ=""0.4"" trackWidth=""1.68"" wheelDiameter=""0.8""/>
                    <RearAxle maxSteering=""30"" positionX=""0"" positionZ=""0.4"" trackWidth=""1.68"" wheelDiameter=""0.8""/>
                </Axles>
                <Properties>
                    <File filepath=""../models/car_white.osgb""/>
                </Properties>
            </Vehicle>
        </ScenarioObject>
        <ScenarioObject name=""Target1"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
        </ScenarioObject>
        <ScenarioObject name=""SumoVehicles"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_yellow""/>
            <ObjectController>
                <CatalogReference catalogName=""ControllerCatalog"" entryName=""sumoController""/>
            </ObjectController>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsDimension=""time"" dynamicsShape=""step"" value=""1""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""3""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition laneId=""-3"" offset=""0"" roadId=""0"" s=""1""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Target1"">
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsDimension=""time"" dynamicsShape=""step"" value=""1""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""1""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition laneId=""-2"" offset=""0"" roadId=""0"" s=""1""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""mystory"">
            <ParameterDeclarations/>
            <Act name=""my act"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""mangroup_red"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Target1""/>
                    </Actors>
                    <Maneuver name=""red_speed"">
                        <Event maximumExecutionCount=""1"" name=""targetspeedincrease"" priority=""overwrite"">
                            <Action name=""targetspeed"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsDimension=""time"" dynamicsShape=""sinusoidal"" value=""6""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""25""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition conditionEdge=""rising"" delay=""0"" name=""starttrigger"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition rule=""greaterThan"" value=""13""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                    <Maneuver name=""red_overtake"">
                        <Event maximumExecutionCount=""1"" name=""first_lane_change"" priority=""overwrite"">
                            <Action name=""lane_change_red"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneChangeAction>
                                            <LaneChangeActionDynamics dynamicsDimension=""time"" dynamicsShape=""sinusoidal"" value=""4""/>
                                            <LaneChangeTarget>
                                                <AbsoluteTargetLane value=""-3""/>
                                            </LaneChangeTarget>
                                        </LaneChangeAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition conditionEdge=""rising"" delay=""0.2"" name=""redtrigger"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""Ego""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <TimeHeadwayCondition alongRoute=""true"" entityRef=""Target1"" freespace=""true"" rule=""greaterThan"" value=""0.1""/>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <ManeuverGroup maximumExecutionCount=""1"" name=""mangroup_ego"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Ego""/>
                    </Actors>
                    <Maneuver name=""ego_speed"">
                        <Event maximumExecutionCount=""1"" name=""egospeedincrease"" priority=""overwrite"">
                            <Action name=""egospeed"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsDimension=""time"" dynamicsShape=""linear"" value=""10""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""20""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition conditionEdge=""rising"" delay=""0"" name=""starttrigger"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition rule=""greaterThan"" value=""13""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition conditionEdge=""rising"" delay=""0"" name=""starttrigger"">
                            <ByValueCondition>
                                <SimulationTimeCondition rule=""greaterThan"" value=""0""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
                <StopTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition conditionEdge=""rising"" delay=""0"" name=""stop_simulation"">
                    <ByValueCondition>
                        <SimulationTimeCondition rule=""greaterThan"" value=""40""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Basic cut-in with interactive controller
- Parameters: HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=50, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=0.7, HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=50, HeadwayTime_LaneChange=0.4, HeadwayTime_Brake=0.7
- Actors: Ego ($HostVehicle), OverTaker ($TargetVehicle)
- Road network: ../xodr/e6mini.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>

<!-- Demonstrate the VisibilityAction during a cut-in event -->
<!-- A red car will overtake and then cut in in front of a white car. The white car have sensors mounted.  -->
<!-- Initially the red car is detected by the sensors. But then the red car becames invisible for sensors. -->
<!-- Then the red car is becoming visible for sensors again, but invisible for graphics. So it will then   -->
<!-- disappear from the view. Finally the red car becomes visible for both sensors and graphics again.     -->
<!-- then handing over to the user to drive interactivelly for a while, then finally take control          -->
<!-- again with some improved performance (less sloppiness).                                               -->
<!-- time  0.0: Red car visible for both sensors and graphics                                              -->
<!-- time  4.0: Red car invisible for sensors, visible for graphics                                        -->
<!-- time  7.0: Red car visible for sensors, invisible for graphics                                        -->
<!-- time 10.0: Red car visible for both sensors and graphics                                              -->

<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2020-10-09T10:00:00""
               description=""Basic cut-in with interactive controller""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""50""/>
      <ParameterDeclaration name=""HeadwayTime_LaneChange"" parameterType=""double"" value=""0.4""/>
      <ParameterDeclaration name=""HeadwayTime_Brake"" parameterType=""double"" value=""0.7""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]e6mini.xodr""/>
      <SceneGraphFile filepath=""../models/e6mini.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
        <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""OverTaker"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""$EgoStartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time""  value=""0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""30""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""OverTaker"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-2"" offset=""0"" s=""25""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""CutInAndBrakeStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""OverTaker""/>
         </ParameterDeclarations>
         <Act name=""CutInAndBrakeAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""CutInAndBrakeSequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""$owner""/>
               </Actors>
               <Maneuver name=""CutInManeuver"">
                  <Event name=""OverTakerStartSpeedEvent"" priority=""overwrite"">
                     <Action name=""OverTakerStartSpeedAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                                 <SpeedActionTarget>
                                    <RelativeTargetSpeed entityRef=""Ego""
                                                         value=""1.2""
                                                         speedTargetValueType=""factor""
                                                         continuous=""true""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""OverTakerStartSpeedCondition""
                                      delay=""0""
                                      conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""act""
                                                                  storyboardElementRef=""CutInAndBrakeAct""
                                                                  state=""startTransition""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""CutInEvent"" priority=""overwrite"">
                     <Action name=""CutInAction"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""3"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""Ego"" value=""0""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""CutInStartCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_LaneChange""
                                                          freespace=""true""
                                                          alongRoute=""true""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""OvertakerBrakeEvent"" priority=""parallel"">
                     <Action name=""OvertakerBrakeAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-4"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""BrakeCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""$owner""
                                                          value=""$HeadwayTime_Brake""
                                                          freespace=""true""
                                                          alongRoute=""true""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""VisibilityHideForSensorsEvent"" priority=""parallel"">
                     <Action name=""VisibilityHideForSensorsAction"">
                        <PrivateAction>
                           <VisibilityAction sensors=""false"" graphics=""true"" traffic=""true""/>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""VisibilityHideForSensorsCondition"" delay=""0.0"" conditionEdge=""rising"">
                               <ByValueCondition>
                                  <SimulationTimeCondition value=""4"" rule=""greaterThan""/>
                               </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""VisibilityHideEvent"" priority=""parallel"">
                     <Action name=""VisibilityHideAction"">
                        <PrivateAction>
                           <VisibilityAction graphics=""false"" sensors=""true"" traffic=""true""/>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""VisibilityHideCondition"" delay=""0.0"" conditionEdge=""rising"">
                               <ByValueCondition>
                                  <SimulationTimeCondition value=""7"" rule=""greaterThan""/>
                               </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""VisibilityReappearEvent"" priority=""parallel"">
                     <Action name=""VisibilityReappearAction"">
                        <PrivateAction>
                           <VisibilityAction graphics=""true"" sensors=""true"" traffic=""true""/>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""VisibilityReappearCondition"" delay=""0.0"" conditionEdge=""rising"">
                               <ByValueCondition>
                                  <SimulationTimeCondition value=""10"" rule=""greaterThan""/>
                               </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>                  
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
          <ConditionGroup>
             <Condition name=""ActStopCondition"" delay=""5"" conditionEdge=""rising"">
                <ByValueCondition>
                   <StoryboardElementStateCondition storyboardElementType=""event""
                                                    storyboardElementRef=""OvertakerBrakeEvent""
                                                    state=""endTransition""/>
                </ByValueCondition>
             </Condition>
          </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Keep distance
- Parameters: Gap_dist1=10, Gap_dist2=4, Max_acc=15, Max_ret=15, Gap_dist1=10, Gap_dist2=4, Max_acc=15, Max_ret=15
- Actors: Ego (car_white), Dummy (car_red)
- Road network: ../xodr/straight_500m_signs.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- This scenario demonstrates the keep distance action -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2021-07-27T10:00:00""
               description=""Keep distance""
               author=""esmini team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""Gap_dist1"" parameterType=""double"" value=""10""/>
      <ParameterDeclaration name=""Gap_dist2"" parameterType=""double"" value=""4""/>
      <ParameterDeclaration name=""Max_acc"" parameterType=""double"" value=""15""/>
      <ParameterDeclaration name=""Max_ret"" parameterType=""double"" value=""15""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m_signs.xodr""/>
      <SceneGraphFile filepath=""../models/straight_500m.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
         <ObjectController>
            <Controller name=""InteractiveController"">
               <Properties>
                  <Property name=""esminiController"" value=""InteractiveController""/>
               </Properties>
            </Controller>
         </ObjectController>
      </ScenarioObject>
      <ScenarioObject name=""Dummy"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RoadPosition roadId=""1"" s=""50.0"" t=""-1.5""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <ControllerAction>
                     <ActivateControllerAction longitudinal=""true""/>
                  </ControllerAction>
               </PrivateAction>
               <PrivateAction>
                  <ControllerAction>
                     <ActivateControllerAction lateral=""true""/>
                  </ControllerAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""15""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Dummy"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0.0"" s=""10.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""15.0""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""Story_DistTest"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Dummy""/>
         </ParameterDeclarations>
         <Act name=""Act_DistTest"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""NonContinuousDistManeuverGroup"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Dummy""/>
               </Actors>
               <Maneuver name=""DistManeuver"">
                  <Event name=""ContinuousDistEvent"" priority=""overwrite"">
                     <Action name=""NonContinuousDistAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <LongitudinalDistanceAction continuous=""true""
                                                          entityRef=""Ego""
                                                          distance=""$Gap_dist1""
                                                          freespace=""true"">
                                 <DynamicConstraints maxAcceleration=""$Max_acc"" maxDeceleration=""$Max_ret"" maxSpeed=""40""/>
                              </LongitudinalDistanceAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger/>
                  </Event>
                  <Event name=""NonContinuousDistEvent"" priority=""overwrite"">
                     <Action name=""NonContinuousDistAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <LongitudinalDistanceAction continuous=""false""
                                                          entityRef=""Ego""
                                                          distance=""$Gap_dist2""
                                                          freespace=""true""
                                                          displacement=""trailingReferencedEntity"" >
                                 <DynamicConstraints maxAcceleration=""$Max_acc"" maxDeceleration=""$Max_ret"" maxSpeed=""40""/>
                              </LongitudinalDistanceAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""OverTakerStartSpeedCondition""
                                      delay=""0""
                                      conditionEdge=""none"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <ReachPositionCondition tolerance=""2.0"">
                                       <Position>
                                          <LanePosition roadId=""1"" laneId=""-1"" s=""250.0""/>
                                       </Position>
                                    </ReachPositionCondition>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger/>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
            <Condition name=""QuitCondition"" delay=""4"" conditionEdge=""rising"">
               <ByValueCondition>
                  <StoryboardElementStateCondition storyboardElementType=""event""
                                                   storyboardElementRef=""NonContinuousDistEvent""
                                                   state=""endTransition""/>
               </ByValueCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: 
- Parameters: TargetSpeed=20, Distance=30, TargetSpeed=20, Distance=30
- Actors: Ego (car_white), Target (car_red)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""2"" date=""2024-01-09T10:00:00"" description="""" author=""esmini team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""TargetSpeed"" parameterType=""double"" value=""20""/>
        <ParameterDeclaration name=""Distance"" parameterType=""double"" value=""30""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
            <ObjectController>
                <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver""/>
            </ObjectController>
        </ScenarioObject>
        <ScenarioObject name=""Target"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" s=""20""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <ActivateControllerAction longitudinal=""true"" lateral=""true""/>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""linear"" value=""5.0"" dynamicsDimension=""rate""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""${$TargetSpeed - 10.0}""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Target"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" s=""100""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""MyStory"">
            <Act name=""MyAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""MyManeuverGroup"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Target""/>
                    </Actors>
                    <Maneuver name=""MyManeuver"">
                        <Event name=""DriveEvent"" priority=""override"" maximumExecutionCount=""100"">
                            <Action name=""SpeedAction"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsShape=""linear"" value=""5.0"" dynamicsDimension=""rate""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""$TargetSpeed""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""DriveCondition"" delay=""0"" conditionEdge=""rising"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""Ego""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <RelativeDistanceCondition entityRef=""Target"" relativeDistanceType=""longitudinal"" value=""$Distance"" freespace=""false"" rule=""lessThan""/>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""StopEvent"" priority=""override"" maximumExecutionCount=""100"">
                            <Action name=""SpeedAction"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsShape=""linear"" value=""5.0"" dynamicsDimension=""rate""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""0.0""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""StopCondition"" delay=""0"" conditionEdge=""rising"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""Ego""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <RelativeDistanceCondition entityRef=""Target"" relativeDistanceType=""longitudinal"" value=""$Distance"" freespace=""false"" rule=""greaterThan""/>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""StopCondition"" delay=""0.0"" conditionEdge=""none"">
                    <ByValueCondition>
                        <SimulationTimeCondition value=""40"" rule=""greaterThan""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Lead vehicle drops a bike
- Parameters: name=0, name=0
- Actors: Ego (car_white), Target (car_blue), bike (bicycle), Box (inline)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" ?>
<OpenSCENARIO xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:noNamespaceSchemaLocation=""OpenSccenario.xsd"">
    <FileHeader description=""Lead vehicle drops a bike"" author=""Mandolin"" revMajor=""1"" revMinor=""1"" date=""2021-06-17T14:48:00.821351""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""name"" parameterType=""integer"" value=""0""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
        </ScenarioObject>
        <ScenarioObject name=""Target"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_blue""/>
        </ScenarioObject>
        <ScenarioObject name=""bike"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""bicycle""/>
        </ScenarioObject>
        <ScenarioObject name=""Box"">
            <MiscObject name=""box"" miscObjectCategory=""obstacle"" model3d=""../models/box_cc_by.osgb"" mass=""200.0"">
                <ParameterDeclarations/>
                <BoundingBox>
                    <Center x=""0.0"" y=""0.0"" z=""0.75""/>
                    <Dimensions width=""1.0"" length=""2.0"" height=""1.2""/>
                </BoundingBox>
                <Properties>
                    <Property name=""scaleMode"" value=""ModelToBB""/>
                    <Property name=""model_id"" value=""15""/>
                </Properties>
            </MiscObject>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" s=""40"" offset=""0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""1"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""30""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Target"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" s=""75"" offset=""0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""1"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""30""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""bike"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <RelativeObjectPosition entityRef=""Target"" dx=""0.0"" dy=""-0.6"" dz=""0.2"">
                                    <Orientation type=""relative"" h=""1.57""/>
                                </RelativeObjectPosition>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <LongitudinalDistanceAction entityRef=""Target"" freespace=""false"" continuous=""true"" distance=""1.2"" coordinateSystem=""road""/>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Box"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""-2"" s=""150"">
                                    <Orientation type=""relative"" h=""0.1""/>
                                </LanePosition>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""story_act_maneuvuergroup_drop maneuver"">
            <ParameterDeclarations/>
            <Act name=""act_maneuvuergroup_drop maneuver"">
                <ManeuverGroup name=""maneuvuergroup_drop maneuver"" maximumExecutionCount=""1"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""bike""/>
                    </Actors>
                    <Maneuver name=""drop maneuver"">
                        <Event name=""drop of bike"" priority=""overwrite"" maximumExecutionCount=""1"">
                            <Action name=""drop action"">
                                <PrivateAction>
                                    <TeleportAction>
                                        <Position>
                                            <RelativeObjectPosition entityRef=""bike"" dx=""0"" dy=""0"" dz=""-0.1"">
                                                <Orientation type=""relative"" r=""1.57""/>
                                            </RelativeObjectPosition>
                                        </Position>
                                    </TeleportAction>
                                </PrivateAction>
                            </Action>
                            <Action name=""stop moving"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""0""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""drop trigger"" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""4.3"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <ManeuverGroup name=""maneuvuergroup_car_accelerate"" maximumExecutionCount=""1"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Target""/>
                    </Actors>
                    <Maneuver name=""accelerate maneuver"">
                        <Event name=""accelerate event"" priority=""overwrite"" maximumExecutionCount=""1"">
                            <Action name=""accelerate action"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsShape=""linear"" value=""2"" dynamicsDimension=""time""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""40""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""accelerate trigger"" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""2"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition name=""act_start"" delay=""0"" conditionEdge=""rising"">
                            <ByValueCondition>
                                <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
                <StopTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""start_trigger "" delay=""0"" conditionEdge=""none"">
                    <ByValueCondition>
                        <SimulationTimeCondition value=""8"" rule=""greaterThan""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: basic demonstration of the ghost concept
- Parameters: EgoVehicle=car_white_hybrid, EgoStartS=50, EgoVehicle=car_white_hybrid, EgoStartS=50
- Actors: Ego (car_white)
- Road network: ../xodr/e6mini.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate ghost concept where a ghost car is launched a few seconds ahead of the scenario  -->
<!-- start (simulationTime==0). Another car (Ego) will then try to follow in the trail/trajectory -->
<!-- of the ghost autonomously using a simple driver model (FollowGhostController).               -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2020-10-07T10:00:00""
               description=""basic demonstration of the ghost concept""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""EgoVehicle"" parameterType=""string"" value=""car_white_hybrid""/>
      <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""50""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
         <Directory path=""../xosc/Catalogs/Controllers"" />
      </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]e6mini.xodr""/>
      <SceneGraphFile filepath=""../models/e6mini.osgb""/>
   </RoadNetwork>
   <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white"" />
            <ObjectController>
                <CatalogReference catalogName=""ControllerCatalog"" entryName=""followGhost"" >
                    <ParameterAssignments>
                        <ParameterAssignment parameterRef=""$HeadStartTime"" value=""2.5"" />
                        <ParameterAssignment parameterRef=""$FollowMode"" value=""position"" />
                        <ParameterAssignment parameterRef=""LookaheadSpeed"" value=""0.5""/>
                        <ParameterAssignment parameterRef=""MinLookaheadSpeed"" value=""7.0""/>
                        <ParameterAssignment parameterRef=""LookaheadSteering"" value=""0.5""/>
                        <ParameterAssignment parameterRef=""MinLookaheadSteering"" value=""7.0""/>
                    </ParameterAssignments>
                </CatalogReference>
            </ObjectController>
        </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""$EgoStartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""0""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <ActivateControllerAction longitudinal=""true"" lateral=""true"" />
               </PrivateAction>               
            </Private>
         </Actions>
      </Init>
      <Story name=""Story"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Ego""/>
         </ParameterDeclarations>
         <Act name=""Act"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""Sequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Ego""/>
               </Actors>
               <Maneuver name=""Maneuver1"">
                  <Event name=""SpeedEvent1"" priority=""overwrite"" maximumExecutionCount=""1"">
                     <Action name=""SpeedChange"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""2"" dynamicsDimension=""time""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""${100/3.6}""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                            <Condition name=""FirstSpeedCondition"" delay=""0"" conditionEdge=""none"">
                                <ByValueCondition>
                                    <StoryboardElementStateCondition 
                                        storyboardElementType=""story"" 
                                        storyboardElementRef=""Story""
                                        state=""runningState""/>
                                </ByValueCondition>									
                            </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""LaneChange1"" priority=""overwrite"">
                     <Action name=""LaneChangeAction1"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""2"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <AbsoluteTargetLane value=""-2""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""LaneChangeCondition1"" delay=""0"" conditionEdge=""rising"">
                              <ByValueCondition>
                                 <SimulationTimeCondition value=""6"" rule=""greaterThan""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""LaneChange2"" priority=""overwrite"" maximumExecutionCount=""1"">
                     <Action name=""LaneChangeAction2"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""2"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <AbsoluteTargetLane value=""-3""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""LaneChangeCondition2"" delay=""0"" conditionEdge=""rising"">
                              <ByValueCondition>
                                 <SimulationTimeCondition value=""9"" rule=""greaterThan""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""SpeedEvent2"" priority=""overwrite"" maximumExecutionCount=""1"">
                     <Action name=""SpeedChange2"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""2"" dynamicsDimension=""time""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""10""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""SpeedCondition1"" delay=""0"" conditionEdge=""rising"">
                              <ByValueCondition>
                                 <SimulationTimeCondition value=""12"" rule=""greaterThan""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""StopEvent"" priority=""overwrite"" maximumExecutionCount=""1"">
                     <Action name=""Stop"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""10"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""StopCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByValueCondition>
                                 <SimulationTimeCondition value=""15"" rule=""greaterThan""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""ActStart"" delay=""0"" conditionEdge=""none"">
                    <ByValueCondition>
                        <StoryboardElementStateCondition 
                            storyboardElementType=""story"" 
                            storyboardElementRef=""Story""
                            state=""runningState""/>
                    </ByValueCondition>		
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
             <Condition name=""StopCondition"" delay=""6"" conditionEdge=""none"">
                  <ByValueCondition>
                      <StoryboardElementStateCondition 
                          storyboardElementType=""event"" 
                          storyboardElementRef=""StopEvent""
                          state=""completeState""/>
                  </ByValueCondition>
              </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate Highway Driver
- Parameters: HostVehicle=car_blue, HostVehicle=car_blue
- Actors: Ego ($HostVehicle), Target1 (car_white), Target2 (car_yellow), Target3 (car_red), Target4 (car_white), Target5 (car_white), Target6 (car_yellow), Target7 (car_red), Target8 (car_red), Target9 (car_red)
- Road network: ../xodr/e6mini.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate and test Natural Driver Controller -->
<!-- A blue car is desires to drive 90kph in the middle lane, the surrounding traffic desires to drive 30kph -->
<!-- The blue car swerves between traffic to reach its desired speed and lane -->

<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""2""
               date=""2021-08-24T10:00:00""
               description=""Demonstrate Highway Driver""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_blue""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
	     <Directory path=""../xosc/Catalogs/Controllers""/>
	  </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]e6mini.xodr""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
        <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
         <ObjectController>
            <CatalogReference catalogName=""ControllerCatalog"" entryName=""NaturalDriver"">
                <ParameterAssignments>
                  <ParameterAssignment parameterRef=""DesiredDistance"" value=""5""/>
                  <ParameterAssignment parameterRef=""DesiredSpeed"" value=""25""/>
                  <ParameterAssignment parameterRef=""LaneChangeDuration"" value=""2.0""/>
                  <ParameterAssignment parameterRef=""LookAheadDistance"" value=""120""/>
                  <ParameterAssignment parameterRef=""MaxDec"" value=""-5.0""/>
                  <ParameterAssignment parameterRef=""MaxAcc"" value=""6.0""/>
                  <ParameterAssignment parameterRef=""LaneChangeDelay"" value=""1.0""/>
                  <ParameterAssignment parameterRef=""Thw"" value=""1.5""/>
                  <ParameterAssignment parameterRef=""MaxImposedBraking"" value=""8.0""/>
                  <ParameterAssignment parameterRef=""Route"" value=""-3""/>
                  <ParameterAssignment parameterRef=""LaneChangeAccGain"" value=""0.3""/>
                  <ParameterAssignment parameterRef=""Politeness"" value=""0.0""/>
                </ParameterAssignments>
            </CatalogReference>            
         </ObjectController>         
      </ScenarioObject>
      <ScenarioObject name=""Target1"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
      </ScenarioObject>
      <ScenarioObject name=""Target2"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_yellow""/>
      </ScenarioObject>
      <ScenarioObject name=""Target3"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
      </ScenarioObject>
      <ScenarioObject name=""Target4"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
      </ScenarioObject>
      <ScenarioObject name=""Target5"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
      </ScenarioObject>
      <ScenarioObject name=""Target6"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_yellow""/>
      </ScenarioObject>
      <ScenarioObject name=""Target7"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
      </ScenarioObject>
      <ScenarioObject name=""Target8"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
      </ScenarioObject>
      <ScenarioObject name=""Target9"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""100""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""rate"" value=""1""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${90 / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>   
                  <ActivateControllerAction longitudinal=""true"" lateral=""false"" />
               </PrivateAction>   
            </Private>
            <Private entityRef=""Target1"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""160""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""rate"" value=""1""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${30 / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target2"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-2"" offset=""0"" s=""200""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""rate"" value=""1""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${30 / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target3"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-4"" offset=""0"" s=""160""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""rate"" value=""1""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${30 / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target4"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""220""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""rate"" value=""1""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${30 / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target5"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-4"" offset=""0"" s=""260""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""rate"" value=""1""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${30 / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target6"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""280""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""rate"" value=""1""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${30 / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target7"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-2"" offset=""0"" s=""700""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""rate"" value=""1""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""0""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target8"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""700""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""rate"" value=""1""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""0""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target9"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-4"" offset=""0"" s=""700""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""rate"" value=""1""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""0""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <StopTrigger>
          <ConditionGroup>
                <Condition name=""stop_trigger "" delay=""0"" conditionEdge=""none"">
                    <ByValueCondition>
                        <SimulationTimeCondition value=""45"" rule=""greaterThan""/>
                    </ByValueCondition>
                </Condition>
          </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: A basic lane merge scenario
- Parameters: Gap1_time=2.5, Gap2_time=3, Max_acc=2, Max_ret=5, A1_speed=25, Gap1_time=2.5, Gap2_time=3, Max_acc=2, Max_ret=5, A1_speed=25
- Actors: Ego (car_white), A1 (car_police), A2 (car_blue), A3 (car_yellow), A4 (scooter), A5 (bus_blue)
- Road network: ../xodr/soderleden.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- This is a simple merge scenario. The lane change is triggered purely by -->
<!-- the car reaching a specified road position, not considering other cars. -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2017-11-27T10:00:00""
               description=""A basic lane merge scenario""
               author=""SimS""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""Gap1_time"" parameterType=""double"" value=""2.5""/>
      <ParameterDeclaration name=""Gap2_time"" parameterType=""double"" value=""3""/>
      <ParameterDeclaration name=""Max_acc"" parameterType=""double"" value=""2""/>
      <ParameterDeclaration name=""Max_ret"" parameterType=""double"" value=""5""/>
      <ParameterDeclaration name=""A1_speed"" parameterType=""double"" value=""25""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]soderleden.xodr""/>
      <SceneGraphFile filepath=""../models/soderleden.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
      </ScenarioObject>
      <ScenarioObject name=""A1"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_police""/>
      </ScenarioObject>
      <ScenarioObject name=""A2"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_blue""/>
      </ScenarioObject>
      <ScenarioObject name=""A3"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_yellow""/>
      </ScenarioObject>
      <ScenarioObject name=""A4"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""scooter""/>
      </ScenarioObject>
      <ScenarioObject name=""A5"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""bus_blue""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0.0"" s=""10.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""25""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""A1"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""2"" laneId=""-2"" offset=""0.0"" s=""130.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$A1_speed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""A2"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""2"" laneId=""-2"" offset=""0.0"" s=""70.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <RelativeTargetSpeed entityRef=""A1""
                                                value=""0""
                                                speedTargetValueType=""delta""
                                                continuous=""false""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""A3"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""2"" laneId=""-2"" offset=""0.0"" s=""20.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <RelativeTargetSpeed entityRef=""A1""
                                                value=""0""
                                                speedTargetValueType=""delta""
                                                continuous=""false""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""A4"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""2"" laneId=""-1"" offset=""0.0"" s=""60.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""40.0""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""A5"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""2"" laneId=""-1"" offset=""0.0"" s=""10.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <RelativeTargetSpeed entityRef=""A4"" value=""0.0"" continuous=""true"" speedTargetValueType=""delta""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""Highway_Merge_Story"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Ego""/>
         </ParameterDeclarations>
         <Act name=""Act1"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""Highway_Merge_SequenceEgo"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Ego""/>
               </Actors>
               <Maneuver name=""EgoLaneChange"">
                  <Event name=""EgoLaneChangeEvent"" priority=""overwrite"">
                     <Action name=""EgoLaneChangeAction"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""2.8"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <AbsoluteTargetLane value=""-2""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""EgoLaneChangeCondition"" delay=""0.0"" conditionEdge=""none"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <ReachPositionCondition tolerance=""1.0"">
                                       <Position>
                                          <LanePosition roadId=""0"" laneId=""-3"" s=""20.0""/>
                                       </Position>
                                    </ReachPositionCondition>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <ManeuverGroup maximumExecutionCount=""1"" name=""Highway_Merge_SequenceA2"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""A2""/>
               </Actors>
               <Maneuver name=""A2DistManeuver"">
                  <Event name=""A2DistEvent"" priority=""overwrite"">
                     <Action name=""A2DistAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <LongitudinalDistanceAction continuous=""true"" entityRef=""A1"" timeGap=""1"" freespace=""true"">
                                 <DynamicConstraints maxAcceleration=""2"" maxDeceleration=""5"" maxSpeed=""40""/>
                              </LongitudinalDistanceAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""A2DistCondition"" delay=""0.0"" conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""act""
                                                                  storyboardElementRef=""Act1""
                                                                  state=""startTransition""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <ManeuverGroup maximumExecutionCount=""1"" name=""Highway_Merge_SequenceA3"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""A3""/>
               </Actors>
               <Maneuver name=""A3DistManuever"">
                  <Event name=""A3DistEvent"" priority=""overwrite"">
                     <Action name=""A3DistAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <LongitudinalDistanceAction continuous=""true"" entityRef=""A2"" timeGap=""1.5"" freespace=""true"">
                                 <DynamicConstraints maxAcceleration=""2"" maxDeceleration=""5"" maxSpeed=""40""/>
                              </LongitudinalDistanceAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""A2DistCondition"" delay=""0.0"" conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""act""
                                                                  storyboardElementRef=""Act1""
                                                                  state=""startTransition""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name="""" delay=""0"" conditionEdge=""rising"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
          <ConditionGroup>
             <Condition name=""StoryBoardStopCondition"" delay=""2"" conditionEdge=""rising"">
                <ByEntityCondition>
                   <TriggeringEntities triggeringEntitiesRule=""any"">
                      <EntityRef entityRef=""Ego""/>
                   </TriggeringEntities>
                   <EntityCondition>
                      <ReachPositionCondition tolerance=""1.0"">
                         <Position>
                            <LanePosition roadId=""0"" laneId=""-2"" s=""150.0""/>
                         </Position>
                      </ReachPositionCondition>
                   </EntityCondition>
                </ByEntityCondition>
             </Condition>
          </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Advanced Highway Merge with disrespectful driver
- Parameters: gap_normal=20, gap_small=7, lat_limit=3.25, max_acc=10, max_ret=7, max_speed=50, A1_speed=12, Ego_speed=15, gap_normal=20, gap_small=7, lat_limit=3.25, max_acc=10, max_ret=7, max_speed=50, A1_speed=12, Ego_speed=15
- Actors: Ego (car_white), A1 (car_police), A2 (car_blue), A3 (car_yellow), A4 (scooter), A5 (bus_blue)
- Road network: ../xodr/soderleden.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- This is a merge scenario demonstrating advanced usage of conditions. -->
<!-- Whenever the white car tries to merge, the yellow car will close the -->
<!-- gap (but only three times according to MaximumExectionCount setting. -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2017-11-27T10:00:00""
               description=""Advanced Highway Merge with disrespectful driver""
               author=""SimS""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""gap_normal"" parameterType=""double"" value=""20""/>
      <ParameterDeclaration name=""gap_small"" parameterType=""double"" value=""7""/>
      <ParameterDeclaration name=""lat_limit"" parameterType=""double"" value=""3.25""/>
      <ParameterDeclaration name=""max_acc"" parameterType=""double"" value=""10""/>
      <ParameterDeclaration name=""max_ret"" parameterType=""double"" value=""7""/>
      <ParameterDeclaration name=""max_speed"" parameterType=""double"" value=""50""/>
      <ParameterDeclaration name=""A1_speed"" parameterType=""double"" value=""12""/>
      <ParameterDeclaration name=""Ego_speed"" parameterType=""double"" value=""15""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
         <Directory path=""../xosc/Catalogs/Controllers"" />
      </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]soderleden.xodr""/>
      <SceneGraphFile filepath=""../models/soderleden.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
        <ObjectController>
            <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver"" />
        </ObjectController>
      </ScenarioObject>
      <ScenarioObject name=""A1"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_police""/>
      </ScenarioObject>
      <ScenarioObject name=""A2"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_blue""/>
      </ScenarioObject>
      <ScenarioObject name=""A3"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_yellow""/>
      </ScenarioObject>
      <ScenarioObject name=""A4"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""scooter""/>
      </ScenarioObject>
      <ScenarioObject name=""A5"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""bus_blue""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0.0"" s=""18.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                    <ActivateControllerAction longitudinal=""true"" lateral=""true"" />
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""12""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""A1"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""2"" laneId=""-2"" offset=""0.0"" s=""120.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$A1_speed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""A2"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""2"" laneId=""-2"" offset=""0.0"" s=""100.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$A1_speed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""A3"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""2"" laneId=""-2"" offset=""0.0"" s=""83.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <RelativeTargetSpeed entityRef=""A1""
                                                value=""0""
                                                speedTargetValueType=""delta""
                                                continuous=""false""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""A4"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""2"" laneId=""-1"" offset=""0.0"" s=""60.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""25.0""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""A5"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""2"" laneId=""-1"" offset=""0.0"" s=""10.0""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <RelativeTargetSpeed entityRef=""A4""
                                                value=""0.0""
                                                speedTargetValueType=""delta""
                                                continuous=""true""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""Highway_Merge_Story"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Ego""/>
         </ParameterDeclarations>
         <Act name=""EgoAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""Highway_Merge_SequenceEgo"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Ego""/>
               </Actors>
               <Maneuver name=""EgoLaneChange"">
                  <Event name=""EgoLaneChangeEvent"" priority=""overwrite"">
                     <Action name=""EgoLaneChangeAction"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""2.8"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <AbsoluteTargetLane value=""-2""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""EgoLaneChangeCondition"" delay=""0.0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <ReachPositionCondition tolerance=""1.0"">
                                       <Position>
                                          <LanePosition roadId=""0"" laneId=""-3"" s=""20.0""/>
                                       </Position>
                                    </ReachPositionCondition>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <ManeuverGroup maximumExecutionCount=""1"" name=""Highway_Merge_SequenceA3"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""A3""/>
               </Actors>
               <Maneuver name=""A3DistManuever"">
                  <Event name=""A3CloseEvent"" priority=""overwrite"" maximumExecutionCount=""3"" >
                     <Action name=""A3CloseAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <LongitudinalDistanceAction continuous=""true""
                                                          entityRef=""A2""
                                                          distance=""$gap_small""
                                                          freespace=""false"">
                                 <DynamicConstraints maxAcceleration=""$max_acc""
                                                     maxDeceleration=""$max_ret""
                                                     maxSpeed=""$max_speed""/>
                              </LongitudinalDistanceAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""A3CloseGapStartCondition"" delay=""0.0"" conditionEdge=""none"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""A3""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <RelativeDistanceCondition entityRef=""$owner""
                                                               relativeDistanceType=""lateral""
                                                               value=""$lat_limit""
                                                               freespace=""false""
                                                               rule=""lessThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                           <Condition name=""LongitudinalDistanceCondition"" delay=""0"" conditionEdge=""none"">
                              <ByEntityCondition>
                                <TriggeringEntities triggeringEntitiesRule=""all"">
                                   <EntityRef entityRef=""A3""/>
                                   <EntityRef entityRef=""A2""/>
                                </TriggeringEntities>
                                <EntityCondition>
                                   <RelativeDistanceCondition entityRef=""$owner""
                                                              relativeDistanceType=""cartesianDistance""
                                                              value=""30""
                                                              freespace=""true""
                                                              rule=""lessThan""/>
                                </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""A3OpenEvent"" priority=""overwrite"" maximumExecutionCount=""3"" >
                     <Action name=""A3OpenAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <LongitudinalDistanceAction continuous=""true""
                                                          entityRef=""A2""
                                                          distance=""$gap_normal""
                                                          freespace=""false"">
                                 <DynamicConstraints maxAcceleration=""$max_acc""
                                                     maxDeceleration=""$max_ret""
                                                     maxSpeed=""$max_speed""/>
                              </LongitudinalDistanceAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""A3OpenGapStartCondition"" delay=""0.0"" conditionEdge=""none"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""A3""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <RelativeDistanceCondition entityRef=""$owner""
                                                               relativeDistanceType=""lateral""
                                                               value=""$lat_limit""
                                                               freespace=""false""
                                                               rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                           <Condition name=""LongitudinalDistanceCondition"" delay=""0"" conditionEdge=""none"">
                              <ByEntityCondition>
                                <TriggeringEntities triggeringEntitiesRule=""all"">
                                   <EntityRef entityRef=""A3""/>
                                   <EntityRef entityRef=""A2""/>
                                </TriggeringEntities>
                                <EntityCondition>
                                   <RelativeDistanceCondition entityRef=""$owner""
                                                              relativeDistanceType=""cartesianDistance""
                                                              value=""30""
                                                              freespace=""true""
                                                              rule=""lessThan""/>
                                </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name="""" delay=""0"" conditionEdge=""rising"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
             <Condition name=""QuitCondition"" delay=""5"" conditionEdge=""rising"">
                <ByValueCondition>
                   <StoryboardElementStateCondition storyboardElementType=""event""
                                                    storyboardElementRef=""EgoLaneChangeEvent""
                                                    state=""endTransition""/>
                </ByValueCondition>
             </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Lane change with clothoid trajectories
- Parameters: CarVehicle=car_white, ArcRadius=100, ArcLength=15, LineLength=5, Speed=50, CarVehicle=car_white, ArcRadius=100, ArcLength=15, LineLength=5, Speed=50
- Actors: Car ($CarVehicle)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate the use of clothoids for arc and line based trajectories        -->
<!-- Car will perform a left lane change composed of the following trajectories: -->
<!--   left arc radius=100, length=15                                            -->
<!--   line length=5                                                             -->
<!--   right arc radius=100, length=15                                           -->
<OpenSCENARIO>
   <FileHeader revMajor=""1"" revMinor=""1"" date=""2021-12-09T10:00:00"" description=""Lane change with clothoid trajectories"" author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""CarVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""ArcRadius"" parameterType=""double"" value=""100""/>
      <ParameterDeclaration name=""ArcLength"" parameterType=""double"" value=""15""/>
      <ParameterDeclaration name=""LineLength"" parameterType=""double"" value=""5""/>
      <ParameterDeclaration name=""Speed"" parameterType=""double"" value=""50""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
      <!-- <SceneGraphFile filepath=""../models/straight_500m.osgb""/> -->
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Car"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$CarVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Car"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""50""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""${$Speed / 3.6}""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""LaneChangeStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Car""/>
         </ParameterDeclarations>
         <Act name=""LaneChangeAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""LaneChangeManeuverGroup"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""$owner""/>
               </Actors>
               <Maneuver name=""LaneChangeManeuver"">
                  <Event name=""LaneChangeEvent1"" priority=""overwrite"">
                     <Action name=""LaneChangeAction1"">
                        <PrivateAction>
                           <RoutingAction>
                              <FollowTrajectoryAction>
                                 <TrajectoryRef>
                                    <Trajectory name=""LaneChangePart1"" closed=""false"">
                                       <ParameterDeclarations/>
                                       <Shape>
                                          <Clothoid curvature=""${1.0/$ArcRadius}"" curvaturePrime=""0.0"" length=""$ArcLength"">
                                             <Position>
                                                <RelativeObjectPosition entityRef=""Car"" dx=""0"" dy=""0""/>
                                             </Position>
                                          </Clothoid>
                                       </Shape>
                                    </Trajectory>
                                 </TrajectoryRef>
                                 <TimeReference>
                                    <None/>
                                 </TimeReference>
                                 <TrajectoryFollowingMode followingMode=""position""/>
                              </FollowTrajectoryAction>
                           </RoutingAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""LaneChangeCondition1"" delay=""0"" conditionEdge=""none"">
                              <ByValueCondition>
                                 <SimulationTimeCondition value=""2"" rule=""greaterThan""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""LaneChangeEvent2"" priority=""overwrite"" maximumExecutionCount=""1"">
                     <Action name=""LaneChangeAction2"">
                        <PrivateAction>
                           <RoutingAction>
                              <FollowTrajectoryAction>
                                 <TrajectoryRef>
                                    <Trajectory name=""LaneChangePart2"" closed=""false"">
                                       <ParameterDeclarations/>
                                       <Shape>
                                          <Clothoid curvature=""0.0"" curvaturePrime=""0.0"" length=""$LineLength"">
                                             <Position>
                                                <RelativeObjectPosition entityRef=""Car"" dx=""0"" dy=""0"">
                                                   <Orientation type=""relative"" h=""0.0""/>
                                                </RelativeObjectPosition>
                                             </Position>
                                          </Clothoid>
                                       </Shape>
                                    </Trajectory>
                                 </TrajectoryRef>
                                 <TimeReference>
                                    <None/>
                                 </TimeReference>
                                 <TrajectoryFollowingMode followingMode=""position""/>
                              </FollowTrajectoryAction>
                           </RoutingAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""LaneChangeCondition2"" delay=""0"" conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""event"" storyboardElementRef=""LaneChangeEvent1"" state=""completeState""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""LaneChangeEvent3"" priority=""overwrite"" maximumExecutionCount=""1"">
                     <Action name=""LaneChangeAction3"">
                        <PrivateAction>
                           <RoutingAction>
                              <FollowTrajectoryAction>
                                 <TrajectoryRef>
                                    <Trajectory name=""LaneChangePart3"" closed=""false"">
                                       <ParameterDeclarations/>
                                       <Shape>
                                          <Clothoid curvature=""${-1.0/$ArcRadius}"" curvaturePrime=""0.0"" length=""$ArcLength"">
                                             <Position>
                                                <RelativeObjectPosition entityRef=""Car"" dx=""0"" dy=""0"">
                                                   <Orientation type=""relative"" h=""0.0""/>
                                                </RelativeObjectPosition>
                                             </Position>
                                          </Clothoid>
                                       </Shape>
                                    </Trajectory>
                                 </TrajectoryRef>
                                 <TimeReference>
                                    <None/>
                                 </TimeReference>
                                 <TrajectoryFollowingMode followingMode=""position""/>
                              </FollowTrajectoryAction>
                           </RoutingAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""LaneChangeCondition3"" delay=""0"" conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""event"" storyboardElementRef=""LaneChangeEvent2"" state=""completeState""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
            <!-- Normally check for simulationTime > value, but here test the inverted variant -->
            <Condition name=""StopCondition"" delay=""1"" conditionEdge=""falling"">
               <ByValueCondition>
                  <SimulationTimeCondition value=""7"" rule=""lessThan""/>
               </ByValueCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Lane change with a single clothoid spline trajectory
- Parameters: CarVehicle=car_white, ArcRadius=100, ArcLength=15, LineLength=5, Speed=30, CarVehicle=car_white, ArcRadius=100, ArcLength=15, LineLength=5, Speed=30
- Actors: Car ($CarVehicle)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate the use of clothoids spline based trajectories                  -->
<!-- Car will perform three maneuvers:                                           -->
<!--   combination of arc -> line -> arc (non continuous tangent/heading)        -->
<!--   two clothoids with continuous tangent                                     -->
<!--   two segments, discontinuous tangent by use of hOffset                     -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""3"" date=""2023-09-19T20:00:00"" description=""Lane change with a single clothoid spline trajectory"" author=""esmini-team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""CarVehicle"" parameterType=""string"" value=""car_white""/>
        <ParameterDeclaration name=""ArcRadius"" parameterType=""double"" value=""100""/>
        <ParameterDeclaration name=""ArcLength"" parameterType=""double"" value=""15""/>
        <ParameterDeclaration name=""LineLength"" parameterType=""double"" value=""5""/>
        <ParameterDeclaration name=""Speed"" parameterType=""double"" value=""30""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Car"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""$CarVehicle""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Car"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""50""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""${$Speed / 3.6}""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""LaneChangeStory"">
            <ParameterDeclarations>
                <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Car""/>
            </ParameterDeclarations>
            <Act name=""LaneChangeAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""ClothoidManeuverGroup"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""$owner""/>
                    </Actors>
                    <Maneuver name=""ClothoidManeuver"">
                        <Event name=""LaneChangeEvent"" priority=""overwrite"">
                            <Action name=""LaneChangeAction"">
                                <PrivateAction>
                                    <RoutingAction>
                                        <FollowTrajectoryAction>
                                            <TrajectoryRef>
                                                <Trajectory name=""LaneChange"" closed=""false"">
                                                    <ParameterDeclarations/>
                                                    <Shape>
                                                        <ClothoidSpline>
                                                            <ClothoidSplineSegment curvatureStart=""${1.0/$ArcRadius}"" curvatureEnd=""${1.0/$ArcRadius}"" length=""$ArcLength"">
                                                                <PositionStart>
                                                                    <RelativeObjectPosition entityRef=""Car"" dx=""0.0"" dy=""0.0"">
                                                                        <Orientation type=""relative"" h=""0.0""/>
                                                                    </RelativeObjectPosition>
                                                                </PositionStart>
                                                            </ClothoidSplineSegment>
                                                            <ClothoidSplineSegment curvatureStart=""0.0"" curvatureEnd=""0.0"" length=""$LineLength""/>
                                                            <ClothoidSplineSegment curvatureStart=""${-1.0/$ArcRadius}"" curvatureEnd=""${-1.0/$ArcRadius}"" length=""$ArcLength""/>
                                                        </ClothoidSpline>
                                                    </Shape>
                                                </Trajectory>
                                            </TrajectoryRef>
                                            <TimeReference>
                                                <None/>
                                            </TimeReference>
                                            <TrajectoryFollowingMode followingMode=""position""/>
                                        </FollowTrajectoryAction>
                                    </RoutingAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""LaneChangeCondition"" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""2"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""SingleClothoidEvent"" priority=""overwrite"">
                            <Action name=""SingleClothoidAction"">
                                <PrivateAction>
                                    <RoutingAction>
                                        <FollowTrajectoryAction>
                                            <TrajectoryRef>
                                                <Trajectory name=""LaneChange"" closed=""false"">
                                                    <ParameterDeclarations/>
                                                    <Shape>
                                                        <ClothoidSpline>
                                                            <ClothoidSplineSegment curvatureStart=""0.0"" curvatureEnd=""-0.08"" length=""5""/>
                                                            <ClothoidSplineSegment curvatureStart=""-0.08"" curvatureEnd=""0.12"" length=""10.5""/>
                                                        </ClothoidSpline>
                                                    </Shape>
                                                </Trajectory>
                                            </TrajectoryRef>
                                            <TimeReference>
                                                <None/>
                                            </TimeReference>
                                            <TrajectoryFollowingMode followingMode=""position""/>
                                        </FollowTrajectoryAction>
                                    </RoutingAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""SingleClothoidCondition"" delay=""2"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <StoryboardElementStateCondition state=""completeState"" storyboardElementRef=""LaneChangeEvent"" storyboardElementType=""event""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""DiscontinuousHeadingEvent"" priority=""overwrite"">
                            <Action name=""DiscontinuousHeadingAction"">
                                <PrivateAction>
                                    <RoutingAction>
                                        <FollowTrajectoryAction>
                                            <TrajectoryRef>
                                                <Trajectory name=""LaneChange"" closed=""false"">
                                                    <ParameterDeclarations/>
                                                    <Shape>
                                                        <ClothoidSpline>
                                                            <ClothoidSplineSegment curvatureStart=""-0.02"" curvatureEnd=""-0.02"" length=""10.0"">
                                                                <PositionStart>
                                                                    <RelativeObjectPosition entityRef=""Car"" dx=""0.0"" dy=""0.0"">
                                                                        <Orientation type=""relative"" h=""0.0""/>
                                                                    </RelativeObjectPosition>
                                                                </PositionStart>
                                                            </ClothoidSplineSegment>
                                                            <ClothoidSplineSegment curvatureStart=""0.0"" curvatureEnd=""0.0"" length=""2.0"" hOffset=""0.4"">
                                                                <PositionStart>
                                                                    <RelativeObjectPosition entityRef=""Car"" dx=""9.94"" dy=""-1.0"">
                                                                        <Orientation type=""relative"" h=""0.2""/>
                                                                    </RelativeObjectPosition>
                                                                </PositionStart>
                                                            </ClothoidSplineSegment>
                                                            <ClothoidSplineSegment curvatureStart=""0.0"" curvatureEnd=""-0.14"" length=""8.9""/>
                                                        </ClothoidSpline>
                                                    </Shape>
                                                </Trajectory>
                                            </TrajectoryRef>
                                            <TimeReference>
                                                <None/>
                                            </TimeReference>
                                            <TrajectoryFollowingMode followingMode=""position""/>
                                        </FollowTrajectoryAction>
                                    </RoutingAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""SingleClothoidCondition"" delay=""2"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <StoryboardElementStateCondition state=""completeState"" storyboardElementRef=""SingleClothoidEvent"" storyboardElementType=""event""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""TrajectoryWithTimestamps"" priority=""overwrite"">
                            <Action name=""TrajectoryWithTimestampsAction"">
                                <PrivateAction>
                                    <RoutingAction>
                                        <FollowTrajectoryAction>
                                            <TrajectoryRef>
                                                <Trajectory name=""WithTimestamps"" closed=""false"">
                                                    <ParameterDeclarations/>
                                                    <Shape>
                                                        <ClothoidSpline timeEnd=""8.0"">
                                                            <ClothoidSplineSegment curvatureStart=""0.02"" curvatureEnd=""0.02"" length=""10.0"" timeStart=""0.0"">
                                                                <PositionStart>
                                                                    <RelativeObjectPosition entityRef=""Car"" dx=""0.0"" dy=""0.0"">
                                                                        <Orientation type=""relative"" h=""0.0""/>
                                                                    </RelativeObjectPosition>
                                                                </PositionStart>
                                                            </ClothoidSplineSegment>
                                                            <ClothoidSplineSegment curvatureStart=""0.0"" curvatureEnd=""-0.05"" length=""14.0"" timeStart=""2.0""/>
                                                            <ClothoidSplineSegment curvatureStart=""-0.05"" curvatureEnd=""0.05"" length=""10.0"" timeStart=""4.0""/>
                                                            <ClothoidSplineSegment curvatureStart=""0.05"" curvatureEnd=""0.0"" length=""6.5"" timeStart=""7.0""/>
                                                        </ClothoidSpline>
                                                    </Shape>
                                                </Trajectory>
                                            </TrajectoryRef>
                                            <TimeReference>
                                                <Timing domainAbsoluteRelative=""relative"" offset=""0.0"" scale=""1.0""/>
                                            </TimeReference>
                                            <TrajectoryFollowingMode followingMode=""position""/>
                                        </FollowTrajectoryAction>
                                    </RoutingAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""SingleClothoidCondition"" delay=""4"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <StoryboardElementStateCondition state=""completeState"" storyboardElementRef=""DiscontinuousHeadingEvent"" storyboardElementType=""event""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""none"">
                            <ByValueCondition>
                                <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""StopCondition"" delay=""3"" conditionEdge=""none"">
                    <ByValueCondition>
                        <StoryboardElementStateCondition state=""completeState"" storyboardElementRef=""ClothoidManeuverGroup"" storyboardElementType=""maneuverGroup""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Simple trajectory defined by world positions
- Parameters: Speed=50, Speed=50
- Actors: Car (car_white)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>

<!-- Simple lane change defined by world position based trajectory                           -->
<!-- Can be used with EnvironmentSimulator/code-examples/convert_position_type code examples -->
<!-- demonstrating conversion of position types                                              -->

<OpenSCENARIO>
    <FileHeader revMajor=""1""
                revMinor=""2""
                date=""2024-02-08T10:00:00""
                description=""Simple trajectory defined by world positions""
                author=""esmini team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""Speed"" parameterType=""double"" value=""50""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Car"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Car"">
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""${$Speed / 3.6}""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <RoutingAction>
                            <FollowTrajectoryAction>
                                <TrajectoryRef>
                                    <Trajectory name=""LaneChangePart1"" closed=""false"">
                                        <ParameterDeclarations/>
                                        <Shape>
                                            <Polyline>
                                                <Vertex> <Position> <WorldPosition x=""50.00"" y=""-1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""53.47"" y=""-1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""56.94"" y=""-1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""60.42"" y=""-1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""63.89"" y=""-1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""67.36"" y=""-1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""70.83"" y=""-1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""74.31"" y=""-1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""77.78"" y=""-1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""81.25"" y=""-1.49"" h=""0.03""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""84.72"" y=""-1.32"" h=""0.07""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""88.18"" y=""-1.03"" h=""0.10""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""91.63"" y=""-0.62"" h=""0.14""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""95.06"" y=""-0.11"" h=""0.15""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""98.49"" y=""0.41""  h=""0.15""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""101.93"" y=""0.87"" h=""0.12""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""105.39"" y=""1.21"" h=""0.08""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""108.86"" y=""1.43"" h=""0.05""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""112.33"" y=""1.52"" h=""0.01""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""115.80"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""119.27"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""122.74"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""126.21"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""129.69"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""133.16"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""136.63"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""140.10"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""143.58"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""147.05"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""150.52"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""153.99"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""157.46"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                                <Vertex> <Position> <WorldPosition x=""160.94"" y=""1.53"" h=""0.00""/> </Position> </Vertex>
                                            </Polyline>
                                        </Shape>
                                    </Trajectory>
                                </TrajectoryRef>
                                <TimeReference>
                                    <None/>
                                </TimeReference>
                                <TrajectoryFollowingMode followingMode=""position""/>
                            </FollowTrajectoryAction>
                        </RoutingAction>
                    </PrivateAction>                    
                </Private>
            </Actions>
        </Init>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""StopCondition"" delay=""0.0"" conditionEdge=""none"">
                    <ByValueCondition>
                        <SimulationTimeCondition value=""8"" rule=""greaterThan""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Cut-in
- Parameters: HostVehicle=car_white, EgoStartS=50, TargetVehicle=car_red, DummyParameter=2, DummyParameter2=true, DummyParameter3=lane_change_param, HostVehicle=car_white, EgoStartS=50, TargetVehicle=car_red, DummyParameter=2, DummyParameter2=true, DummyParameter3=lane_change_param
- Actors: Ego ($HostVehicle), Truck (semi_truck_with_extra_trailer)
- Road network: ../xodr/jolengatan.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Two cars approaching from opposite directions. Both changing lane cross road -->
<!-- reference line. Purpose is to validate esmini lane change functionality.     -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""0"" date=""2019-06-09T10:00:00"" description=""Cut-in"" author=""esmini-team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
        <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""50""/>
        <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
        <ParameterDeclaration name=""DummyParameter"" parameterType=""double"" value=""2""/>
        <ParameterDeclaration name=""DummyParameter2"" parameterType=""boolean"" value=""true""/>
        <ParameterDeclaration name=""DummyParameter3"" parameterType=""string"" value=""lane_change_param""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]jolengatan.xodr""/>
        <!-- <SceneGraphFile filepath=""../models/jolengatan.osgb""/> -->
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
        </ScenarioObject>
        <ScenarioObject name=""Truck"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""semi_truck_with_extra_trailer""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""50""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""20""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Truck"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""1"" offset=""0"" s=""300""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""20""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""Lane change story"">
            <ParameterDeclarations>
                <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Ego""/>
            </ParameterDeclarations>
            <Act name=""Lane change act"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""Lane change"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""$owner""/>
                    </Actors>
                    <Maneuver name=""Lane change Ego maneuver"">
                        <Event name=""Lane change Ego event"" priority=""overwrite"">
                            <Action name=""Lane change Ego action"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneChangeAction>
                                            <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""2"" dynamicsDimension=""time""/>
                                            <LaneChangeTarget>
                                                <RelativeTargetLane entityRef=""Ego"" value=""1""/>
                                            </LaneChangeTarget>
                                        </LaneChangeAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""Lane change Ego condition"" delay=""0"" conditionEdge=""rising"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""4"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""EgoGoOffRoadEvent"" priority=""parallel"">
                            <Action name=""EgoGoOffRoadAction"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneOffsetAction continuous=""false"">
                                            <LaneOffsetActionDynamics dynamicsShape=""sinusoidal"" maxLateralAcc=""3.5""/>
                                            <LaneOffsetTarget>
                                                <AbsoluteTargetLaneOffset value=""8""/>
                                            </LaneOffsetTarget>
                                        </LaneOffsetAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""EgoGoOffRoadCondition"" delay=""1"" conditionEdge=""rising"">
                                        <ByValueCondition>
                                            <StoryboardElementStateCondition storyboardElementType=""event"" storyboardElementRef=""Lane change Ego event"" state=""endTransition""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""EgoGoOnRoadEvent"" priority=""overwrite"">
                            <Action name=""EgoGoOnRoadAction"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneChangeAction>
                                            <LaneChangeActionDynamics dynamicsShape=""cubic"" value=""3"" dynamicsDimension=""time""/>
                                            <LaneChangeTarget>
                                                <AbsoluteTargetLane value=""1""/>
                                            </LaneChangeTarget>
                                        </LaneChangeAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""EgoGoOnRoadCondition"" delay=""0"" conditionEdge=""rising"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""Ego""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <OffroadCondition duration=""2.5""/>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <ManeuverGroup maximumExecutionCount=""1"" name=""Lane change 2"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Truck""/>
                    </Actors>
                    <Maneuver name=""Lane change Target maneuver"">
                        <Event name=""Lane change Target event"" priority=""overwrite"">
                            <Action name=""Lane change Target action"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneChangeAction>
                                            <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""2"" dynamicsDimension=""time""/>
                                            <LaneChangeTarget>
                                                <RelativeTargetLane entityRef=""Truck"" value=""1""/>
                                            </LaneChangeTarget>
                                        </LaneChangeAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""Lane change Target condition"" delay=""0"" conditionEdge=""rising"">
                                        <ByValueCondition>
                                            <ParameterCondition parameterRef=""DummyParameter"" value=""10"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""Dummy parameter event"" priority=""parallel"">
                            <Action name=""Dummy parameter action"">
                                <GlobalAction>
                                    <ParameterAction parameterRef=""DummyParameter"">
                                        <SetAction value=""11""/>
                                    </ParameterAction>
                                </GlobalAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""Lane change Target condition"" delay=""0"" conditionEdge=""rising"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""3"" rule=""greaterThan""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""risingOrFalling"">
                            <ByValueCondition>
                                <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""QuitCondition"" delay=""3"" conditionEdge=""rising"">
                    <ByValueCondition>
                        <StoryboardElementStateCondition storyboardElementType=""event"" storyboardElementRef=""EgoGoOnRoadEvent"" state=""endTransition""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Critical situation at crest
- Parameters: EgoVehicle=car_white, EgoStartS=165, TargetVehicle1=car_blue, TargetVehicle2=car_red, EgoVehicle=car_white, EgoStartS=165, TargetVehicle1=car_blue, TargetVehicle2=car_red
- Actors: Ego ($EgoVehicle), Target1 ($TargetVehicle1), Target2 ($TargetVehicle2)
- Road network: ../xodr/crest-curve.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Ego car driving in a curve approaching a crest. Two cars approaching from opposite -->
<!-- direction. One of them overtaking the other causing a critical situation.          -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2021-02-22T10:00:00""
               description=""Critical situation at crest""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""EgoVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""165""/>
      <ParameterDeclaration name=""TargetVehicle1"" parameterType=""string"" value=""car_blue""/>
      <ParameterDeclaration name=""TargetVehicle2"" parameterType=""string"" value=""car_red""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]crest-curve.xodr""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$EgoVehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""Target1"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle1""/>
      </ScenarioObject>
      <ScenarioObject name=""Target2"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle2""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-1"" offset=""0"" s=""$EgoStartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""15""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target1"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""1"" offset=""0"" s=""350""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""15""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target2"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-1"" offset=""0"" s=""370"" >
                            <Orientation type=""relative"" h=""3.1415"" />
                        </LanePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                        <SpeedActionTarget>
                            <RelativeTargetSpeed entityRef=""Target1""
                                                 value=""1.3""
                                                 speedTargetValueType=""factor""
                                                 continuous=""true""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""Lane change story"">
         <Act name=""Lane change act"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""Lane change"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Target2""/>
               </Actors>
               <Maneuver name=""LaneChangeManeuver"">
                  <Event name=""LaneChangeEvent"" priority=""overwrite"">
                     <Action name=""LaneChangeAction"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""cubic"" value=""2"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""Target1"" value=""0""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""CutInStartCondition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Target1""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeHeadwayCondition entityRef=""Target2""
                                                          value=""0.25""
                                                          freespace=""false""
                                                          alongRoute=""false""
                                                          rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""risingOrFalling"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
            <Condition name=""StopTrigger"" delay=""0"" conditionEdge=""none"">
                <ByEntityCondition>
                   <TriggeringEntities triggeringEntitiesRule=""any"">
                      <EntityRef entityRef=""Ego""/>
                   </TriggeringEntities>
                   <EntityCondition>
                      <ReachPositionCondition tolerance=""1.0"">
                         <Position>
                            <LanePosition roadId=""0"" laneId=""-1"" s=""350.0""/>
                         </Position>
                      </ReachPositionCondition>
                   </EntityCondition>
                </ByEntityCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Basic lane change repeated after reaching end-of-road
- Parameters: EgoVehicle=car_white, EgoVehicle=car_white
- Actors: Ego ($EgoVehicle)
- Road network: ../xodr/curve_r100.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- A simple lane change scenario demonstrates the EndOfRoad condition.   -->
<!-- When car reaches the end of the road it will be teleported back to    -->
<!-- the start position and start over the maneuver. This will be repeated -->
<!-- twice according to event maximumExecutionCount.                       -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2017-06-09T10:00:00""
               description=""Basic lane change repeated after reaching end-of-road""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""EgoVehicle"" parameterType=""string"" value=""car_white""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]curve_r100.xodr""/>
      <!-- <SceneGraphFile filepath=""../models/curve_r100.osgb""/> -->
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$EgoVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-1"" offset=""0"" s=""20""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""cubic"" value=""4"" dynamicsDimension=""time"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""25""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""Lane change story"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Ego""/>
         </ParameterDeclarations>
         <Act name=""Lane change act"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""Lane change maneuver group"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""$owner""/>
               </Actors>
               <Maneuver name=""Lane change maneuver"">
                  <Event name=""Lane change event"" maximumExecutionCount=""2"" priority=""overwrite"">
                     <Action name=""Lane change action"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""4"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <AbsoluteTargetLane value=""1""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""Lane change condition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <ReachPositionCondition tolerance=""1.0"">
                                       <Position>
                                          <LanePosition roadId=""0"" laneId=""-1"" s=""50.0""/>
                                       </Position>
                                    </ReachPositionCondition>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
               <Maneuver name=""End Of Road maneuver"">
                  <Event name=""End Of Road event"" maximumExecutionCount=""3"" priority=""overwrite"">
                     <Action name=""End Of Road action"">
                        <PrivateAction>
                            <TeleportAction>
                                <Position>
                                    <LanePosition roadId=""0"" laneId=""-1"" offset=""0"" s=""10""/>
                                </Position>
                            </TeleportAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                            <Condition name=""End Of Road condition"" delay=""0"" conditionEdge=""rising"">
                                <ByEntityCondition>
                                    <TriggeringEntities triggeringEntitiesRule=""any"">
                                        <EntityRef entityRef=""Ego""/>
                                    </TriggeringEntities>
                                    <EntityCondition>
                                        <EndOfRoadCondition duration=""2.5""/>
                                    </EntityCondition>
                                </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""risingOrFalling"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
            <Condition name=""QuitCondition"" delay=""4"" conditionEdge=""rising"">
               <ByValueCondition>
                  <StoryboardElementStateCondition storyboardElementType=""event""
                                                   storyboardElementRef=""End Of Road event""
                                                   state=""completeState""/>
               </ByValueCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Cut-in
- Parameters: HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=40, HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=40
- Actors: Ego ($HostVehicle), OverTaker ($TargetVehicle)
- Road network: ../xodr/e6mini.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- A left-hand cut-in scenario. Purpose is to validate that esmini -->
<!-- lane change functionality works also for left-hand traffic.     -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2018-06-09T10:00:00""
               description=""Cut-in""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""40""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
         <Directory path=""../xosc/Catalogs/DriverCatalog""/>
      </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]e6mini.xodr""/>
      <SceneGraphFile filepath=""../models/e6mini.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""OverTaker"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""30""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""3"" offset=""0"" s=""$EgoStartS"">
                           <Orientation type=""relative"" h=""3.14159""/>
                        </LanePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""OverTaker"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <RelativeTargetSpeed entityRef=""Ego""
                                                value=""1.4""
                                                speedTargetValueType=""factor""
                                                continuous=""true""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RelativeLanePosition entityRef=""Ego"" dLane=""-1"" ds=""-30""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""StoryPlaceholder"">
         <Act name=""Lane change"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""Lane change"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""OverTaker""/>
               </Actors>
               <Maneuver name=""Lane change"">
                  <Event name=""Lane change"" priority=""overwrite"">
                     <Action name=""Lane change"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""2"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""OverTaker"" value=""1""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""Lane change"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <RelativeDistanceCondition entityRef=""OverTaker""
                                                               relativeDistanceType=""longitudinal""
                                                               value=""10""
                                                               freespace=""true""
                                                               rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""risingOrFalling"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
            <Condition name=""QuitCondition"" delay=""4"" conditionEdge=""rising"">
               <ByValueCondition>
                  <StoryboardElementStateCondition storyboardElementType=""event""
                                                   storyboardElementRef=""Lane change""
                                                   state=""endTransition""/>
               </ByValueCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Cut-in
- Parameters: HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=40, HostVehicle=car_white, TargetVehicle=car_red, EgoStartS=40
- Actors: Ego ($HostVehicle), OverTaker ($TargetVehicle)
- Road network: ../xodr/e6mini-lht.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- A left-hand cut-in scenario. Purpose is to validate that esmini -->
<!-- lane change functionality works also for left-hand traffic.     -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2018-06-09T10:00:00""
               description=""Cut-in""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""40""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
         <Directory path=""../xosc/Catalogs/DriverCatalog""/>
      </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]e6mini-lht.xodr""/>
      <SceneGraphFile filepath=""../models/e6mini.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""OverTaker"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""30""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                         <LanePosition roadId=""0"" laneId=""3"" offset=""0"" s=""$EgoStartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""OverTaker"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <RelativeTargetSpeed entityRef=""Ego""
                                                value=""1.4""
                                                speedTargetValueType=""factor""
                                                continuous=""true""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RelativeLanePosition entityRef=""Ego"" dLane=""-1"" ds=""-30""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""StoryPlaceholder"">
         <Act name=""Lane change"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""Lane change"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""OverTaker""/>
               </Actors>
               <Maneuver name=""Lane change"">
                  <Event name=""Lane change"" priority=""overwrite"">
                     <Action name=""Lane change"">
                        <PrivateAction>
                           <LateralAction>
                              <LaneChangeAction>
                                 <LaneChangeActionDynamics dynamicsShape=""sinusoidal"" value=""2"" dynamicsDimension=""time""/>
                                 <LaneChangeTarget>
                                    <RelativeTargetLane entityRef=""OverTaker"" value=""1""/>
                                 </LaneChangeTarget>
                              </LaneChangeAction>
                           </LateralAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""Lane change"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <RelativeDistanceCondition entityRef=""OverTaker""
                                                               relativeDistanceType=""longitudinal""
                                                               value=""10""
                                                               freespace=""true""
                                                               rule=""greaterThan""/>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""risingOrFalling"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
            <Condition name=""QuitCondition"" delay=""4"" conditionEdge=""rising"">
               <ByValueCondition>
                  <StoryboardElementStateCondition storyboardElementType=""event""
                                                   storyboardElementRef=""Lane change""
                                                   state=""endTransition""/>
               </ByValueCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: adaptspeed_example
- Parameters: No parameters
- Actors: Ego (car_red), ego jerk (car_white), Target (car_blue)
- Road network: ../xodr/straight_500m.xodr","<OpenSCENARIO xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:noNamespaceSchemaLocation=""OpenScenario.xsd"">
    <FileHeader description=""adaptspeed_example"" author=""User"" revMajor=""1"" revMinor=""2"" date=""2024-01-24T14:23:12.560439""/>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
        </ScenarioObject>
        <ScenarioObject name=""ego jerk"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
        </ScenarioObject>
        <ScenarioObject name=""Target"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_blue""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" s=""20.0"" offset=""0.0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""1.0"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""20.0""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""ego jerk"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" s=""20.0"" offset=""0.0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""1.0"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""20.0""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Target"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" s=""80.0"" offset=""0.0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""1.0"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""10.0""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""story_act"">
            <Act name=""act"">
                <ManeuverGroup name=""Ego mangr"" maximumExecutionCount=""1"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Ego""/>
                    </Actors>
                    <Maneuver name=""Ego man"">
                        <Event name=""Egoevent"" priority=""override"" maximumExecutionCount=""1"">
                            <Action name=""Ego action"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <LongitudinalDistanceAction entityRef=""Target"" freespace=""true"" continuous=""true"" timeGap=""2.0"" coordinateSystem=""entity"" displacement=""any"">
                                            <DynamicConstraints maxSpeed=""30.0"" maxDeceleration=""3.0"" maxAcceleration=""3.0""/>
                                        </LongitudinalDistanceAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""triggerEgo"" delay=""0.0"" conditionEdge=""none"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""Ego""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <RelativeDistanceCondition value=""50"" freespace=""false"" entityRef=""Target"" rule=""lessOrEqual"" relativeDistanceType=""longitudinal"" coordinateSystem=""entity""/>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <ManeuverGroup name=""ego jerk mangr"" maximumExecutionCount=""1"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""ego jerk""/>
                    </Actors>
                    <Maneuver name=""ego jerk man"">
                        <Event name=""ego jerkevent"" priority=""override"" maximumExecutionCount=""1"">
                            <Action name=""ego jerk action"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <LongitudinalDistanceAction entityRef=""Target"" freespace=""true"" continuous=""true"" timeGap=""2.0"" coordinateSystem=""entity"" displacement=""any"">
                                            <DynamicConstraints maxSpeed=""30.0"" maxDeceleration=""3.0"" maxAcceleration=""3.0"" maxAccelerationRate=""1.0"" maxDecelerationRate=""1.0""/>
                                        </LongitudinalDistanceAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""triggerego jerk"" delay=""0.0"" conditionEdge=""none"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""ego jerk""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <RelativeDistanceCondition value=""50"" freespace=""false"" entityRef=""Target"" rule=""lessOrEqual"" relativeDistanceType=""longitudinal"" coordinateSystem=""entity""/>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition name=""act_start"" delay=""0.0"" conditionEdge=""none"">
                            <ByValueCondition>
                                <SimulationTimeCondition value=""0.0"" rule=""greaterThan""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
                <StopTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""stop_simulation"" delay=""0.0"" conditionEdge=""rising"">
                    <ByValueCondition>
                        <SimulationTimeCondition value=""20.0"" rule=""greaterThan""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: LTAP-OD variant where target vehicle intercepts Ego path
- Parameters: HostVehicle=car_white, NPCVehicle=car_red, HostSpeed=10, NPCInitialSpeed=10, NPCFinalSpeed=7, NPCStartPointS=150, NPCSyncPointS=455, EgoSyncPoint1S=7, HostVehicle=car_white, NPCVehicle=car_red, HostSpeed=10, NPCInitialSpeed=10, NPCFinalSpeed=7, NPCStartPointS=150, NPCSyncPointS=455, EgoSyncPoint1S=7
- Actors: Ego ($HostVehicle), NPC ($NPCVehicle)
- Road network: ../xodr/fabriksgatan.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Two vehicles approaching an intersection from opposite directions. The target  -->
<!-- vehicle will make a left turn just in front of the straight going Ego vehicle  -->
<!-- This scenario demonstrates use of the Synchronize Action which makes sure that -->
<!-- the critical situation will arise whatever speed profile the Ego has.          -->
<!-- In this variant the target speed at time of the collision will be an offset to -->
<!-- whatever speed the Ego has.                                                    -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2017-06-09T10:00:00""
               description=""LTAP-OD variant where target vehicle intercepts Ego path""
               author=""Fredrik Persson, Emil Knabe""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""NPCVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""HostSpeed"" parameterType=""double"" value=""10""/>
      <ParameterDeclaration name=""NPCInitialSpeed"" parameterType=""double"" value=""10""/>
      <ParameterDeclaration name=""NPCFinalSpeed"" parameterType=""double"" value=""7""/>
      <ParameterDeclaration name=""NPCStartPointS"" parameterType=""double"" value=""150""/>
      <ParameterDeclaration name=""NPCSyncPointS"" parameterType=""double"" value=""455""/>
      <ParameterDeclaration name=""EgoSyncPoint1S"" parameterType=""double"" value=""7""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <RouteCatalog>
         <Directory path=""../xosc/Catalogs/Routes""/>
      </RouteCatalog>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]fabriksgatan.xodr""/>
      <SceneGraphFile filepath=""../models/fabriksgatan.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
         <ObjectController>
            <Controller name=""InteractiveController"">
                 <Properties/>
            </Controller>
         </ObjectController>         
      </ScenarioObject>
      <ScenarioObject name=""NPC"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$NPCVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <RoutingAction>
                     <AssignRouteAction>
                        <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""HostStraightRoute""/>
                     </AssignRouteAction>
                  </RoutingAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RoutePosition>
                           <RouteRef>
                              <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""HostStraightRoute""/>
                           </RouteRef>
                           <InRoutePosition>
                              <FromLaneCoordinates pathS=""0"" laneId=""1""/>
                           </InRoutePosition>
                        </RoutePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                    <ActivateControllerAction longitudinal=""true"" lateral=""true"" />
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$HostSpeed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""NPC"">
               <PrivateAction>
                  <RoutingAction>
                     <AssignRouteAction>
                        <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""TargetLeftTurnRoute""/>
                     </AssignRouteAction>
                  </RoutingAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RoutePosition>
                           <RouteRef>
                              <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""TargetLeftTurnRoute""/>
                           </RouteRef>
                           <InRoutePosition>
                              <FromLaneCoordinates pathS=""$NPCStartPointS"" laneId=""-1""/>
                           </InRoutePosition>
                        </RoutePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$NPCInitialSpeed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""LTAPStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""NPC""/>
         </ParameterDeclarations>
         <Act name=""LTAPActNPC"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""LTAPSequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""NPC""/>
               </Actors>
               <Maneuver name=""ManeuverNPC"">
                  <Event name=""SyncEvent"" priority=""overwrite"">
                     <Action name=""SyncActionNPC"">
                        <PrivateAction>
                            <SynchronizeAction masterEntityRef=""Ego"" >
                                <TargetPositionMaster>
                                    <LanePosition roadId=""0"" laneId=""1"" offset=""0"" s=""$EgoSyncPoint1S"" />
                                </TargetPositionMaster>    
                                <TargetPosition>
                                    <LanePosition roadId=""2"" laneId=""-1"" offset=""0"" s=""$NPCSyncPointS"" />
                                </TargetPosition>    
                                <FinalSpeed>
                                    <RelativeSpeedToMaster value=""-3"" speedTargetValueType=""delta"" />
                                </FinalSpeed>
                            </SynchronizeAction>
                         </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""SyncConditionNPC"" delay=""0.0"" conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""act""
                                                                  storyboardElementRef=""LTAPActNPC""
                                                                  state=""startTransition""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""LtapActStartConditionNPC"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
            <Condition name=""QuitCondition"" delay=""0"" conditionEdge=""rising"">
               <ByEntityCondition>
                  <TriggeringEntities triggeringEntitiesRule=""any"">
                     <EntityRef entityRef=""Ego""/>
                  </TriggeringEntities>
                  <EntityCondition>
                      <ReachPositionCondition tolerance=""5.0"">
                         <Position>
                            <LanePosition roadId=""2"" laneId=""1"" s=""270.0""/>
                         </Position>
                      </ReachPositionCondition>
                  </EntityCondition>
               </ByEntityCondition>      
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: LTAP-OD variant where target vehicle intercepts Ego path
- Parameters: HostVehicle=car_white, NPCVehicle=car_red, HostSpeed=10, NPCInitialSpeed=10, NPCFinalSpeed=7, NPCStartPointS=150, NPCSyncPointS=455, EgoSyncPoint1S=7, HostVehicle=car_white, NPCVehicle=car_red, HostSpeed=10, NPCInitialSpeed=10, NPCFinalSpeed=7, NPCStartPointS=150, NPCSyncPointS=455, EgoSyncPoint1S=7
- Actors: Ego ($HostVehicle), NPC ($NPCVehicle)
- Road network: ../xodr/fabriksgatan.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Two vehicles approaching an intersection from opposite directions. The target  -->
<!-- vehicle will make a left turn just in front of the straight going Ego vehicle  -->
<!-- This scenario demonstrates use of the Synchronize Action which makes sure that -->
<!-- the critical situation will arise whatever speed profile the Ego has.          -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2017-06-09T10:00:00""
               description=""LTAP-OD variant where target vehicle intercepts Ego path""
               author=""Fredrik Persson, Emil Knabe""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""NPCVehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""HostSpeed"" parameterType=""double"" value=""10""/>
      <ParameterDeclaration name=""NPCInitialSpeed"" parameterType=""double"" value=""10""/>
      <ParameterDeclaration name=""NPCFinalSpeed"" parameterType=""double"" value=""7""/>
      <ParameterDeclaration name=""NPCStartPointS"" parameterType=""double"" value=""150""/>
      <ParameterDeclaration name=""NPCSyncPointS"" parameterType=""double"" value=""455""/>
      <ParameterDeclaration name=""EgoSyncPoint1S"" parameterType=""double"" value=""7""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <RouteCatalog>
         <Directory path=""../xosc/Catalogs/Routes""/>
      </RouteCatalog>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
         <Directory path=""../xosc/Catalogs/Controllers"" />
      </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]fabriksgatan.xodr""/>
      <SceneGraphFile filepath=""../models/fabriksgatan.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
         <ObjectController>
            <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver"" />
         </ObjectController>
      </ScenarioObject>
      <ScenarioObject name=""NPC"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$NPCVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <RoutingAction>
                     <AssignRouteAction>
                        <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""HostStraightRoute""/>
                     </AssignRouteAction>
                  </RoutingAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RoutePosition>
                           <RouteRef>
                              <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""HostStraightRoute""/>
                           </RouteRef>
                           <InRoutePosition>
                              <FromLaneCoordinates pathS=""0"" laneId=""1""/>
                           </InRoutePosition>
                        </RoutePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                    <ActivateControllerAction longitudinal=""true"" lateral=""true"" />
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$HostSpeed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""NPC"">
               <PrivateAction>
                  <RoutingAction>
                     <AssignRouteAction>
                        <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""TargetLeftTurnRoute""/>
                     </AssignRouteAction>
                  </RoutingAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RoutePosition>
                           <RouteRef>
                              <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""TargetLeftTurnRoute""/>
                           </RouteRef>
                           <InRoutePosition>
                              <FromLaneCoordinates pathS=""$NPCStartPointS"" laneId=""-1""/>
                           </InRoutePosition>
                        </RoutePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$NPCInitialSpeed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""LTAPStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""NPC""/>
         </ParameterDeclarations>
         <Act name=""LTAPActNPC"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""LTAPSequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""NPC""/>
               </Actors>
               <Maneuver name=""ManeuverNPC"">
                  <Event name=""SyncEvent"" priority=""overwrite"" maximumExecutionCount=""1"">
                     <Action name=""SyncActionNPC"">
                        <PrivateAction>
                            <SynchronizeAction masterEntityRef=""Ego"" targetToleranceMaster=""1.0"" targetTolerance=""1.0"">
                                <TargetPositionMaster>
                                    <LanePosition roadId=""0"" laneId=""1"" offset=""0"" s=""$EgoSyncPoint1S"" />
                                </TargetPositionMaster>
                                <TargetPosition>
                                    <!-- <LanePosition roadId=""2"" laneId=""-1"" offset=""0"" s=""$NPCSyncPointS"" /> -->
                                    <RoutePosition>
                                       <RouteRef>
                                          <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""TargetLeftTurnRoute""/>
                                       </RouteRef>
                                       <InRoutePosition>
                                          <FromLaneCoordinates pathS=""203"" laneId=""-1""/>
                                       </InRoutePosition>
                                    </RoutePosition>
                                </TargetPosition>
                                <FinalSpeed>
                                    <AbsoluteSpeed value=""$NPCFinalSpeed"" />
                                </FinalSpeed>
                            </SynchronizeAction>
                         </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""SyncConditionNPC"" delay=""0.0"" conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""act""
                                                                  storyboardElementRef=""LTAPActNPC""
                                                                  state=""startTransition""/>
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""LtapActStartConditionNPC"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
             <Condition name=""DoneCondition"" delay=""0"" conditionEdge=""none"">
                <ByValueCondition>
                   <StoryboardElementStateCondition storyboardElementType=""event""
                                                    storyboardElementRef=""SyncEvent""
                                                    state=""completeState""/>
                </ByValueCondition>
             </Condition>
             <Condition name=""QuitCondition"" delay=""4"" conditionEdge=""rising"">
                <ByEntityCondition>
                   <TriggeringEntities triggeringEntitiesRule=""any"">
                      <EntityRef entityRef=""NPC""/>
                   </TriggeringEntities>
                   <EntityCondition>
                      <SpeedCondition rule=""equalTo"" value=""$NPCFinalSpeed"" />
                   </EntityCondition>
                </ByEntityCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Offroad Follower Controller demo
- Parameters: No parameters
- Actors: Ego (car_white), Follower (car_red)
- Road network: unknown","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate offroad follower controller -->
<!-- The controller will try to follow a lead vehicle disregarding any road lanes -->
<!-- More precisely, the follower aims for a point 20 meter straigh behind the lead vehicle -->
<!-- Lead vehicle is controlled with arrow keys -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""2"" date=""2024-01-08T10:00:00"" description=""Offroad Follower Controller demo"" author=""esmini-team""/>
    <ParameterDeclarations/>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <SceneGraphFile filepath=""../models/parking_lot.osgb""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
            <ObjectController>
                <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver"">
                    <ParameterAssignments>
                        <ParameterAssignment parameterRef=""SteeringRate"" value=""1.0""/>
                    </ParameterAssignments>
                </CatalogReference>
            </ObjectController>
        </ScenarioObject>
        <ScenarioObject name=""Follower"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red"">
                <ParameterAssignments>
                    <ParameterAssignment parameterRef=""MaxSpeed"" value=""${1.2 * 180.0 / 3.6}""/>
                </ParameterAssignments>                
            </CatalogReference>
            <ObjectController>
                <CatalogReference catalogName=""ControllerCatalog"" entryName=""offroadFollower"">
                    <ParameterAssignments>
                        <ParameterAssignment parameterRef=""FollowEntity"" value=""Ego""/>
                        <ParameterAssignment parameterRef=""TargetDistance"" value=""20.0""/>
                        <ParameterAssignment parameterRef=""SteeringRate"" value=""4.0""/>
                    </ParameterAssignments>
                </CatalogReference>
            </ObjectController>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <WorldPosition x=""1.8"" y=""-358"" z=""0"" h=""1.57"" p=""0"" r=""0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <ActivateControllerAction longitudinal=""true"" lateral=""true""/>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Follower"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <WorldPosition x=""1.8"" y=""-380"" z=""0"" h=""1.57"" p=""0"" r=""0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <ActivateControllerAction longitudinal=""true"" lateral=""true""/>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <StopTrigger/>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Just put a vehicle on the road and drive
- Parameters: CarDimX=5.0, CarDimY=2.0, CarDimX=5.0, CarDimY=2.0
- Actors: Ego (car_blue)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""1"" date=""2020-10-04T10:00:00"" description=""Just put a vehicle on the road and drive"" author=""esmini team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""CarDimX"" parameterType=""double"" value=""5.0""/>
        <ParameterDeclaration name=""CarDimY"" parameterType=""double"" value=""2.0""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_blue"">
                <ParameterAssignments>
                    <ParameterAssignment parameterRef=""DimX"" value=""$CarDimX""/>
                    <ParameterAssignment parameterRef=""DimY"" value=""$CarDimY""/>
                </ParameterAssignments>
            </CatalogReference>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" s=""100.0"" offset=""0.0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""linear"" dynamicsDimension=""time"" value=""0.0""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""${90.0/3.6}""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""story"">
            <Act name=""MyAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""MG"">
                    <Actors selectTriggeringEntities=""false""/>
                </ManeuverGroup>
                <StartTrigger/>
            </Act>
        </Story>
        <StopTrigger/>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Single truck vehicle, interactive control and no maneuvers
- Parameters: No parameters
- Actors: Truck (semi_truck_with_extra_trailer)
- Road network: unknown","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate how esmini can be used as a driving  -->
<!-- simulator with no defined traffic and maneuvers. -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""1"" date=""2022-03-10T10:00:00"" description=""Single truck vehicle, interactive control and no maneuvers"" author=""esmini-team""/>
    <ParameterDeclarations/>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <SceneGraphFile filepath=""../models/parking_lot.osgb""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Truck"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""semi_truck_with_extra_trailer""/>
            <ObjectController>
                <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver"">
                    <ParameterAssignments>
                        <ParameterAssignment parameterRef=""SteeringRate"" value=""1.0""/>
                    </ParameterAssignments>
                </CatalogReference>
            </ObjectController>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Truck"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <WorldPosition x=""1.8"" y=""-358"" z=""0"" h=""1.57"" p=""0"" r=""0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <ActivateControllerAction longitudinal=""true"" lateral=""true""/>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""MyStory"">
            <Act name=""DummyAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""DummyManueverGroup"">
                    <Actors selectTriggeringEntities=""false""/>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition name=""StartTrigger"" delay=""0"" conditionEdge=""none"">
                            <ByValueCondition>
                                <SimulationTimeCondition value=""0"" rule=""greaterOrEqual""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
            </Act>
        </Story>
        <StopTrigger/>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Pedestrian involved in a critical situation
- Parameters: HostVehicle=car_white, HostSpeed=10, PedestrianSpeed=1.5, HostVehicle=car_white, HostSpeed=10, PedestrianSpeed=1.5
- Actors: Ego ($HostVehicle), pedestrian_adult (inline)
- Road network: ../xodr/fabriksgatan.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate how a simple trajectory can be defined and assigned to a moving -->
<!-- entity, in this case a pedestrian. TimeToCollision condition is utilized to -->
<!-- trig a brake maneuver.                                                      -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2020-10-02T10:00:00""
               description=""Pedestrian involved in a critical situation""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""HostSpeed"" parameterType=""double"" value=""10""/>
      <ParameterDeclaration name=""PedestrianSpeed"" parameterType=""double"" value=""1.5""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <RouteCatalog>
         <Directory path=""../xosc/Catalogs/Routes""/>
      </RouteCatalog>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]fabriksgatan.xodr""/>
      <SceneGraphFile filepath=""../models/fabriksgatan.osgb""/>
   </RoadNetwork>
   <Entities>
       <ScenarioObject name=""Ego"">
           <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
       </ScenarioObject>
       <ScenarioObject name=""pedestrian_adult"">
          <Pedestrian mass=""80"" model=""EPTa"" name=""pedestrian_adult"" pedestrianCategory=""pedestrian"" model3d=""../models/walkman.osgb"">
             <ParameterDeclarations/>
             <BoundingBox>
                <Center x=""0.06"" y=""0.0"" z=""0.923""/>
                <Dimensions height=""1.8"" length=""0.6"" width=""0.5""/>
             </BoundingBox>
             <Properties>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""BBToModel""/>
             </Properties>
          </Pedestrian>
       </ScenarioObject>
    </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <RoutingAction>
                     <AssignRouteAction>
                        <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""HostStraightRoute""/>
                     </AssignRouteAction>
                  </RoutingAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RoutePosition>
                           <RouteRef>
                              <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""HostStraightRoute""/>
                           </RouteRef>
                           <InRoutePosition>
                              <FromLaneCoordinates pathS=""0"" laneId=""1""/>
                           </InRoutePosition>
                        </RoutePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$HostSpeed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""pedestrian_adult"">
               <PrivateAction>
                    <TeleportAction>
                        <Position>
                            <LanePosition laneId=""3"" offset=""0.5"" roadId=""0"" s=""15"" >
                                <Orientation type=""relative"" h=""0"" p=""0"" r=""0"" />
                            </LanePosition>
                        </Position>
                    </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""LTAPStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""NPC""/>
         </ParameterDeclarations>
         <Act name=""LTAPActNPC"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""ped_mangroup"">
                <Actors selectTriggeringEntities=""false"">
                    <EntityRef entityRef=""pedestrian_adult""/>
                </Actors>
                <Maneuver name=""ped_maneuver"">
                    <Event maximumExecutionCount=""1"" name=""ped_event"" priority=""overwrite"">
                        <Action name=""walk_speed"">
                            <PrivateAction>
                               <LongitudinalAction>
                                  <SpeedAction>
                                     <SpeedActionDynamics dynamicsShape=""linear"" value=""2"" dynamicsDimension=""rate"" />
                                     <SpeedActionTarget>
                                        <AbsoluteTargetSpeed value=""$PedestrianSpeed""/>
                                     </SpeedActionTarget>
                                  </SpeedAction>
                               </LongitudinalAction>
                            </PrivateAction>
                        </Action>
                        <Action name=""walk_route"">
                            <PrivateAction>
                                <RoutingAction>
                                    <FollowTrajectoryAction>
                                        <Trajectory closed=""false"" name=""ped_traj"">
                                            <ParameterDeclarations/>
                                            <Shape>
                                                <Polyline>
                                                    <Vertex>
                                                        <Position>
                                                            <LanePosition laneId=""3"" offset=""0.5"" roadId=""0"" s=""15"" >
                                                                <Orientation type=""relative"" h=""0"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                    <Vertex>
                                                        <Position>
                                                            <LanePosition laneId=""3"" offset=""0.5"" roadId=""0"" s=""10.5"" >
                                                                <Orientation type=""relative"" h=""0"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                    <Vertex>
                                                        <Position>
                                                            <LanePosition laneId=""3"" offset=""0.0"" roadId=""0"" s=""10"" >
                                                                <Orientation type=""relative"" h=""1.57"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                    <Vertex>
                                                        <Position>
                                                            <LanePosition laneId=""-3"" offset=""0.0"" roadId=""0"" s=""10"" >
                                                                <Orientation type=""relative"" h=""4.71"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                    <Vertex>
                                                        <Position>
                                                            <LanePosition laneId=""-3"" offset=""-0.5"" roadId=""0"" s=""9.5"" >
                                                                <Orientation type=""relative"" h=""3.14"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                    <Vertex>
                                                        <Position>
                                                            <LanePosition laneId=""-3"" offset=""-0.5"" roadId=""0"" s=""7.5"" >
                                                                <Orientation type=""relative"" h=""3.14"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                </Polyline>
                                            </Shape>
                                        </Trajectory>
                                        <TimeReference>
                                            <None/>
                                        </TimeReference>
                                        <TrajectoryFollowingMode followingMode=""follow""/>
                                    </FollowTrajectoryAction>
                                </RoutingAction>
                            </PrivateAction>
                        </Action>
                        <StartTrigger>
                            <ConditionGroup>
                                <Condition conditionEdge=""rising"" delay=""0"" name=""ped_walk_event"">
                                    <ByEntityCondition>
                                        <TriggeringEntities triggeringEntitiesRule=""any"">
                                            <EntityRef entityRef=""Ego""/>
                                        </TriggeringEntities>
                                        <EntityCondition>
                                            <TraveledDistanceCondition value=""5""/>
                                        </EntityCondition>
                                    </ByEntityCondition>
                                </Condition>
                            </ConditionGroup>
                        </StartTrigger>
                    </Event>
                </Maneuver>
            </ManeuverGroup>
            <ManeuverGroup maximumExecutionCount=""1"" name=""brake-for-ped_mangroup"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Ego""/>
               </Actors>
               <Maneuver name=""brake_Maneuver"">
                  <Event name=""brake_Event"" priority=""overwrite"">
                     <Action name=""brake_Action"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-5.1"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""brake_Condition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeToCollisionCondition value=""1.2""
                                                         freespace=""true""
                                                         coordinateSystem=""entity""
                                                         relativeDistanceType=""longitudinal""
                                                         rule=""lessThan"" >
                                        <TimeToCollisionConditionTarget >
                                            <EntityRef entityRef=""pedestrian_adult"" />
                                        </TimeToCollisionConditionTarget>
                                    </TimeToCollisionCondition>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""ActStartCondition"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
             <Condition name=""QuitCondition"" delay=""0"" conditionEdge=""rising"">
                <ByEntityCondition>
                   <TriggeringEntities triggeringEntitiesRule=""any"">
                      <EntityRef entityRef=""pedestrian_adult""/>
                   </TriggeringEntities>
                   <EntityCondition>
                      <ReachPositionCondition tolerance=""5.0"">
                         <Position>
                            <LanePosition roadId=""0"" laneId=""-3"" s=""0""/>
                         </Position>
                      </ReachPositionCondition>
                   </EntityCondition>
                </ByEntityCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Pedestrian involved in a critical situation. Car fails to brake.
- Parameters: HostVehicle=car_white, HostSpeed=9, PedestrianSpeed=1.6, HostVehicle=car_white, HostSpeed=9, PedestrianSpeed=1.6
- Actors: Ego ($HostVehicle), pedestrian_adult (pedestrian_adult)
- Road network: ../xodr/fabriksgatan.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate how a simple trajectory can be defined and assigned to a moving -->
<!-- entity, in this case a pedestrian. A collision, detected by the Collision   -->
<!-- condition, is indicated by pedestrian falling (roll rotation). However, the -->
<!-- pedestrian rises quickly indicating that he or she survived the situation.  -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2020-10-02T10:00:00""
               description=""Pedestrian involved in a critical situation. Car fails to brake.""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""HostSpeed"" parameterType=""double"" value=""9""/>
      <ParameterDeclaration name=""PedestrianSpeed"" parameterType=""double"" value=""1.6""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <RouteCatalog>
         <Directory path=""../xosc/Catalogs/Routes""/>
      </RouteCatalog>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <PedestrianCatalog>
         <Directory path=""../xosc/Catalogs/Pedestrians""/>
      </PedestrianCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]fabriksgatan.xodr""/>
      <SceneGraphFile filepath=""../models/fabriksgatan.osgb""/>
   </RoadNetwork>
   <Entities>
       <ScenarioObject name=""Ego"">
           <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
       </ScenarioObject>
       <ScenarioObject name=""pedestrian_adult"">
           <CatalogReference catalogName=""PedestrianCatalog"" entryName=""pedestrian_adult""/>
       </ScenarioObject>
    </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <RoutingAction>
                     <AssignRouteAction>
                        <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""HostStraightRoute""/>
                     </AssignRouteAction>
                  </RoutingAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RoutePosition>
                           <RouteRef>
                              <CatalogReference catalogName=""RoutesAtFabriksgatan"" entryName=""HostStraightRoute""/>
                           </RouteRef>
                           <InRoutePosition>
                              <FromLaneCoordinates pathS=""0"" laneId=""1""/>
                           </InRoutePosition>
                        </RoutePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$HostSpeed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""pedestrian_adult"">
               <PrivateAction>
                    <TeleportAction>
                        <Position>
                            <LanePosition laneId=""3"" offset=""0.5"" roadId=""0"" s=""15"" >
                                <Orientation type=""relative"" h=""0"" p=""0"" r=""0"" />
                            </LanePosition>
                        </Position>
                    </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""LTAPStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""NPC""/>
         </ParameterDeclarations>
         <Act name=""LTAPActNPC"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""ped_mangroup"">
                <Actors selectTriggeringEntities=""false"">
                    <EntityRef entityRef=""pedestrian_adult""/>
                </Actors>
                <Maneuver name=""ped_maneuver"">
                    <Event maximumExecutionCount=""1"" name=""ped_walk_event"" priority=""overwrite"">
                        <Action name=""walk_speed"">
                            <PrivateAction>
                               <LongitudinalAction>
                                  <SpeedAction>
                                     <SpeedActionDynamics dynamicsShape=""linear"" value=""2"" dynamicsDimension=""rate"" />
                                     <SpeedActionTarget>
                                        <AbsoluteTargetSpeed value=""$PedestrianSpeed""/>
                                     </SpeedActionTarget>
                                  </SpeedAction>
                               </LongitudinalAction>
                            </PrivateAction>
                        </Action>
                        <Action name=""walk_route"">
                            <PrivateAction>
                                <RoutingAction>
                                    <FollowTrajectoryAction>
                                        <Trajectory closed=""false"" name=""ped_traj"">
                                            <ParameterDeclarations/>
                                            <Shape>
                                                <Polyline>
                                                    <Vertex time=""0"">
                                                        <Position>
                                                            <LanePosition laneId=""3"" offset=""0.5"" roadId=""0"" s=""15"" >
                                                                <Orientation type=""relative"" h=""0"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                    <Vertex time=""0"">
                                                        <Position>
                                                            <LanePosition laneId=""3"" offset=""0.5"" roadId=""0"" s=""10.5"" >
                                                                <Orientation type=""relative"" h=""0"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                    <Vertex time=""0"">
                                                        <Position>
                                                            <LanePosition laneId=""3"" offset=""0.0"" roadId=""0"" s=""10"" >
                                                                <Orientation type=""relative"" h=""1.57"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                    <Vertex time=""0"">
                                                        <Position>
                                                            <LanePosition laneId=""-3"" offset=""0.0"" roadId=""0"" s=""10"" >
                                                                <Orientation type=""relative"" h=""4.71"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                    <Vertex time=""0"">
                                                        <Position>
                                                            <LanePosition laneId=""-3"" offset=""-0.5"" roadId=""0"" s=""9.5"" >
                                                                <Orientation type=""relative"" h=""3.14"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                    <Vertex time=""0"">
                                                        <Position>
                                                            <LanePosition laneId=""-3"" offset=""-0.5"" roadId=""0"" s=""0"" >
                                                                <Orientation type=""relative"" h=""3.14"" p=""0"" r=""0"" />
                                                            </LanePosition>
                                                        </Position>
                                                    </Vertex>
                                                </Polyline>
                                            </Shape>
                                        </Trajectory>
                                        <TimeReference>
                                            <None/>
                                        </TimeReference>
                                        <TrajectoryFollowingMode followingMode=""follow""/>
                                    </FollowTrajectoryAction>
                                </RoutingAction>
                            </PrivateAction>
                        </Action>
                        <StartTrigger>
                            <ConditionGroup>
                                <Condition conditionEdge=""rising"" delay=""0"" name=""ped_walk_event"">
                                    <ByEntityCondition>
                                        <TriggeringEntities triggeringEntitiesRule=""any"">
                                            <EntityRef entityRef=""Ego""/>
                                        </TriggeringEntities>
                                        <EntityCondition>
                                            <TraveledDistanceCondition value=""1""/>
                                        </EntityCondition>
                                    </ByEntityCondition>
                                </Condition>
                            </ConditionGroup>
                        </StartTrigger>
                    </Event>
                    <Event maximumExecutionCount=""1"" name=""ped_collide_event"" priority=""overwrite"">
                        <Action name=""fall_action"">
                            <PrivateAction>
                                <TeleportAction>
                                    <Position>
                                        <RelativeObjectPosition entityRef=""pedestrian_adult"" dx=""0.0"" dy=""0.0"" dz=""0.0"" >
                                            <Orientation type=""relative"" r=""1.57"" h=""0"" p=""0"" />
                                        </RelativeObjectPosition>
                                    </Position>
                                </TeleportAction>
                            </PrivateAction>
                        </Action>
                        <Action name=""be_still_action"">
                            <PrivateAction>
                               <LongitudinalAction>
                                  <SpeedAction>
                                     <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                                     <SpeedActionTarget>
                                        <AbsoluteTargetSpeed value=""0""/>
                                     </SpeedActionTarget>
                                  </SpeedAction>
                               </LongitudinalAction>
                            </PrivateAction>
                        </Action>
                        <StartTrigger>
                            <ConditionGroup>
                                <Condition conditionEdge=""rising"" delay=""0"" name=""ped_fall_condition"">
                                    <ByEntityCondition>
                                        <TriggeringEntities triggeringEntitiesRule=""any"">
                                            <EntityRef entityRef=""Ego""/>
                                        </TriggeringEntities>
                                        <EntityCondition>
                                            <CollisionCondition>
                                                <EntityRef entityRef=""pedestrian_adult"" />
                                            </CollisionCondition>
                                        </EntityCondition>
                                    </ByEntityCondition>
                                </Condition>
                            </ConditionGroup>
                        </StartTrigger>
                    </Event>
                    <Event maximumExecutionCount=""1"" name=""ped_raise_event"" priority=""overwrite"">
                        <Action name=""raise_action"">
                            <PrivateAction>
                                <TeleportAction>
                                    <Position>
                                        <RelativeObjectPosition entityRef=""pedestrian_adult"" dx=""0"" dy=""0"" dz=""0.1"" >
                                            <Orientation type=""relative"" r=""-1.57"" h=""0"" p=""0"" />
                                        </RelativeObjectPosition>
                                    </Position>
                                </TeleportAction>
                            </PrivateAction>
                        </Action>
                        <StartTrigger>
                            <ConditionGroup>
                                <Condition conditionEdge=""rising"" delay=""0.8"" name=""ped_raise_condition"">
                                    <ByValueCondition>
                                        <StoryboardElementStateCondition
                                            storyboardElementType=""action""
                                            storyboardElementRef=""be_still_action""
                                            state=""endTransition""
                                        />
                                    </ByValueCondition>
                                </Condition>
                            </ConditionGroup>
                        </StartTrigger>
                    </Event>
                </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""ActStartCondition"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
             <Condition name=""QuitCondition"" delay=""3"" conditionEdge=""rising"">
                <ByValueCondition>
                  <StoryboardElementStateCondition
                      storyboardElementType=""action""
                      storyboardElementRef=""raise_action""
                      state=""completeState""
                  />
                </ByValueCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Pedestrian involved in a critical situation
- Parameters: HostVehicle=car_white, HostSpeed=10, PedestrianSpeed=1.5, EX0=43, EY0=-70, EXEnd=20, EYEnd=39, ESyncX=29.0, ESyncY=-10.5, PX0=40, PY0=-5, PXEnd=10, PYEnd=-10, PSyncX=28.5, PSyncY=-8.0, HostVehicle=car_white, HostSpeed=10, PedestrianSpeed=1.5, EX0=43, EY0=-70, EXEnd=20, EYEnd=39, ESyncX=29.0, ESyncY=-10.5, PX0=40, PY0=-5, PXEnd=10, PYEnd=-10, PSyncX=28.5, PSyncY=-8.0
- Actors: Ego ($HostVehicle), pedestrian_adult (inline)
- Road network: ../xodr/fabriksgatan.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate how a simple trajectory can be defined and assigned to a moving -->
<!-- entity, in this case a pedestrian. TimeToCollision condition is utilized to -->
<!-- trig a brake maneuver.                                                      -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2020-10-02T10:00:00""
               description=""Pedestrian involved in a critical situation""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""HostSpeed"" parameterType=""double"" value=""10""/>
      <ParameterDeclaration name=""PedestrianSpeed"" parameterType=""double"" value=""1.5""/>
      <ParameterDeclaration name=""EX0"" parameterType=""double"" value=""43""/>
      <ParameterDeclaration name=""EY0"" parameterType=""double"" value=""-70""/>
      <ParameterDeclaration name=""EXEnd"" parameterType=""double"" value=""20""/>
      <ParameterDeclaration name=""EYEnd"" parameterType=""double"" value=""39""/>
      <ParameterDeclaration name=""ESyncX"" parameterType=""double"" value=""29.0""/>
      <ParameterDeclaration name=""ESyncY"" parameterType=""double"" value=""-10.5""/>
      <ParameterDeclaration name=""PX0"" parameterType=""double"" value=""40""/>
      <ParameterDeclaration name=""PY0"" parameterType=""double"" value=""-5""/>
      <ParameterDeclaration name=""PXEnd"" parameterType=""double"" value=""10""/>
      <ParameterDeclaration name=""PYEnd"" parameterType=""double"" value=""-10""/>
      <ParameterDeclaration name=""PSyncX"" parameterType=""double"" value=""28.5""/>
      <ParameterDeclaration name=""PSyncY"" parameterType=""double"" value=""-8.0""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <RouteCatalog>
         <Directory path=""../xosc/Catalogs/Routes""/>
      </RouteCatalog>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
         <Directory path=""../xosc/Catalogs/Controllers""/>
      </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]fabriksgatan.xodr""/>
      <SceneGraphFile filepath=""../models/fabriksgatan.osgb""/>
   </RoadNetwork>
   <Entities>
       <ScenarioObject name=""Ego"">
           <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
        <ObjectController>
            <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver"" />
        </ObjectController>
       </ScenarioObject>
       <ScenarioObject name=""pedestrian_adult"">
          <Pedestrian mass=""80"" model=""EPTa"" name=""pedestrian_adult"" pedestrianCategory=""pedestrian"">
             <ParameterDeclarations/>
             <BoundingBox>
                <Center x=""0.06"" y=""0.0"" z=""0.923""/>
                <Dimensions height=""1.8"" length=""0.6"" width=""0.5""/>
             </BoundingBox>
             <Properties>
                <Property name=""control"" value=""internal""/>
                <File filepath=""../models/walkman.osgb""/>
             </Properties>
          </Pedestrian>
       </ScenarioObject>
    </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <WorldPosition x=""$EX0"" y=""$EY0"" h=""1.8"" />
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <!-- <PrivateAction> -->
                    <!-- <ActivateControllerAction longitudinal=""true"" lateral=""true"" /> -->
               <!-- </PrivateAction> -->
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$HostSpeed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""pedestrian_adult"">
               <PrivateAction>
                    <TeleportAction>
                        <Position>
                            <WorldPosition x=""$PX0"" y=""$PY0"" h=""3.14"" />
                        </Position>
                    </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""0""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""LTAPStory"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""NPC""/>
         </ParameterDeclarations>
         <Act name=""LTAPActNPC"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""ped_mangroup"">
                <Actors selectTriggeringEntities=""false"">
                    <EntityRef entityRef=""pedestrian_adult""/>
                </Actors>
                <Maneuver name=""ped_maneuver"">
                    <Event maximumExecutionCount=""1"" name=""ped_synch_event"" priority=""parallel"">
                         <Action name=""SyncAction"">
                            <PrivateAction>
                                <SynchronizeAction masterEntityRef=""Ego"" targetToleranceMaster=""1.0"" targetTolerance=""1.0"" >
                                    <TargetPositionMaster>
                                        <WorldPosition x=""$ESyncX"" y=""$ESyncY"" h=""3.3"" />
                                    </TargetPositionMaster>
                                    <TargetPosition>
                                        <WorldPosition x=""$PSyncX"" y=""$PSyncY"" h=""3.3"" />
                                    </TargetPosition>
                                    <FinalSpeed>
                                        <AbsoluteSpeed value=""$PedestrianSpeed"" >
											<TargetDistanceSteadyState distance=""5"" />
										</AbsoluteSpeed>
                                    </FinalSpeed>
                                </SynchronizeAction>
                             </PrivateAction>
                         </Action>
                    </Event>
                    <Event maximumExecutionCount=""1"" name=""ped_follow_trajectory"" priority=""parallel"">
                         <Action name=""walk_trajectory"">
                            <PrivateAction>
                                <RoutingAction>
                                    <FollowTrajectoryAction>
                                        <Trajectory closed=""false"" name=""ped_traj"">
                                            <ParameterDeclarations/>
                                            <Shape>
                                                <Polyline>
                                                     <Vertex>
                                                         <Position>
                                                             <WorldPosition x=""$PX0"" y=""$PY0"" h=""3.3"" />
                                                         </Position>
                                                     </Vertex>
                                                     <Vertex>
                                                         <Position>
                                                             <WorldPosition x=""$PSyncX"" y=""$PSyncY"" h=""3.3"" />
                                                         </Position>
                                                     </Vertex>
                                                     <Vertex>
                                                         <Position>
                                                             <WorldPosition x=""$PXEnd"" y=""$PYEnd"" h=""3.3"" />
                                                         </Position>
                                                     </Vertex>
                                                </Polyline>
                                            </Shape>
                                        </Trajectory>
                                        <TimeReference>
                                            <None/>
                                        </TimeReference>
										<TrajectoryFollowingMode followingMode=""follow""/>
                                    </FollowTrajectoryAction>
                                </RoutingAction>
                            </PrivateAction>
                         </Action>
                         <!-- <Action name=""walk_route""> -->
                            <!-- <PrivateAction> -->
                                <!-- <RoutingAction> -->
                                    <!-- <AssignRouteAction> -->
                                       <!-- <Route name=""PedestrianRoute"" closed=""false""> -->
                                          <!-- <Waypoint routeStrategy=""shortest""> -->
                                             <!-- <Position> -->
                                                <!-- <LanePosition roadId=""1"" laneId=""-1"" s=""16.9"" > -->
                                                    <!-- <Orientation type=""relative"" h=""3.14"" /> -->
                                                <!-- </LanePosition> -->
                                             <!-- </Position> -->
                                          <!-- </Waypoint> -->
                                          <!-- <Waypoint routeStrategy=""shortest""> -->
                                             <!-- <Position> -->
                                                <!-- <LanePosition roadId=""3"" laneId=""-1"" s=""0"" > -->
                                                    <!-- <Orientation type=""relative"" h=""3.14"" /> -->
                                                <!-- </LanePosition> -->
                                             <!-- </Position> -->
                                          <!-- </Waypoint> -->
                                       <!-- </Route> -->
                                    <!-- </AssignRouteAction> -->
                                <!-- </RoutingAction> -->
                            <!-- </PrivateAction> -->
                         <!-- </Action> -->
                         <StartTrigger>
                            <ConditionGroup>
                               <Condition name=""ped_follow_trajectory_condition"" delay=""0"" conditionEdge=""none"">
                                  <ByValueCondition>
                                     <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                                  </ByValueCondition>
                               </Condition>
                            </ConditionGroup>
                        </StartTrigger>
                    </Event>
                </Maneuver>
            </ManeuverGroup>
            <ManeuverGroup maximumExecutionCount=""1"" name=""brake-for-ped_mangroup"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Ego""/>
               </Actors>
               <Maneuver name=""drive_Maneuver"">
                  <Event name=""drive_Event"" priority=""overwrite"">
                     <Action name=""walk_route"">
                         <PrivateAction>
                             <RoutingAction>
                                 <FollowTrajectoryAction>
                                     <Trajectory closed=""false"" name=""ego_traj"">
                                         <ParameterDeclarations/>
                                         <Shape>
                                             <Polyline>
                                                 <Vertex>
                                                     <Position>
                                                         <WorldPosition x=""$EX0"" y=""$EY0"" h=""1.8"" />
                                                     </Position>
                                                 </Vertex>
                                                 <Vertex>
                                                     <Position>
                                                         <WorldPosition x=""$ESyncX"" y=""$ESyncY"" h=""1.8"" />
                                                     </Position>
                                                 </Vertex>
                                                 <Vertex>
                                                     <Position>
                                                         <WorldPosition x=""$EXEnd"" y=""$EYEnd"" h=""1.7"" />
                                                     </Position>
                                                 </Vertex>
                                             </Polyline>
                                         </Shape>
                                     </Trajectory>
                                     <TimeReference>
                                         <None/>
                                     </TimeReference>
									 <TrajectoryFollowingMode followingMode=""follow""/>
                                </FollowTrajectoryAction>
                             </RoutingAction>
                         </PrivateAction>
                     </Action>
                     <StartTrigger>
                       <ConditionGroup>
                          <Condition name=""drive_ManeuverCondition"" delay=""0"" conditionEdge=""none"">
                             <ByValueCondition>
                                <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                             </ByValueCondition>
                          </Condition>
                       </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""ActStartCondition"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
             <Condition name=""QuitCondition"" delay=""0"" conditionEdge=""rising"">
                <ByEntityCondition>
                   <TriggeringEntities triggeringEntitiesRule=""any"">
                      <EntityRef entityRef=""Ego""/>
                   </TriggeringEntities>
                   <EntityCondition>
                      <ReachPositionCondition tolerance=""5.0"">
                         <Position>
                            <WorldPosition x=""$EXEnd"" y=""$EYEnd"" h=""3.14"" />
                         </Position>
                      </ReachPositionCondition>
                   </EntityCondition>
                </ByEntityCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Synchronize with SteadyState provocing critical situation incl car and bike
- Parameters: No parameters
- Actors: Ego (car_white)
- Road network: ../xodr/multi_intersections.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2020-12-11T10:00:00""
               description=""Synchronize with SteadyState provocing critical situation incl car and bike""
               author=""esmini-team""/>
   <ParameterDeclarations/>
   <CatalogLocations>
      <RouteCatalog>
         <Directory path=""../xosc/Catalogs/Routes""/>
      </RouteCatalog>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]multi_intersections.xodr""/>
      <SceneGraphFile filepath=""../models/multi_intersections.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <RoutingAction>
                     <AssignRouteAction>
                        <CatalogReference catalogName=""RoutesAtMultiIntersections"" entryName=""ComplexRoute""/>
                     </AssignRouteAction>
                  </RoutingAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RoutePosition>
                           <RouteRef>
                              <CatalogReference catalogName=""RoutesAtMultiIntersections"" entryName=""ComplexRoute""/>
                           </RouteRef>
                           <InRoutePosition>
                              <FromLaneCoordinates pathS=""20"" laneId=""1""/>
                           </InRoutePosition>
                        </RoutePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""50""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""Story"">
        <ParameterDeclarations/>
        <Act name=""AquirePosition act"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""AquirePosition maneuver group"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Ego""/>
               </Actors>
               <Maneuver name=""AquirePosition maneuver"">
                  <Event name=""AquirePosition event"" maximumExecutionCount=""1"" priority=""overwrite"">
                     <Action name=""AquirePosition action"">
                        <PrivateAction>
                           <RoutingAction>
                              <AcquirePositionAction>
                                  <Position>
                                      <LanePosition roadId=""242"" laneId=""-1"" offset=""0"" s=""40""/>
                                  </Position>
                              </AcquirePositionAction>
                           </RoutingAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""AquirePosition condition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <ReachPositionCondition tolerance=""2.0"">
                                       <Position>
                                          <LanePosition roadId=""197"" laneId=""-1"" offset=""0"" s=""20""/>
                                       </Position>
                                    </ReachPositionCondition>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""Stop event"" maximumExecutionCount=""1"" priority=""overwrite"">
                     <Action name=""Stop action"">
                        <PrivateAction>
                          <LongitudinalAction>
                             <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""linear"" value=""-15.0"" dynamicsDimension=""rate"" />
                                <SpeedActionTarget>
                                   <AbsoluteTargetSpeed value=""0.0""/>
                                </SpeedActionTarget>
                             </SpeedAction>
                          </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""Stop condition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <ReachPositionCondition tolerance=""2.0"">
                                       <Position>
                                          <LanePosition roadId=""230"" laneId=""1"" offset=""0"" s=""10""/>
                                       </Position>
                                    </ReachPositionCondition>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""AquirePosition act start condition"" delay=""0"" conditionEdge=""risingOrFalling"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
        </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
            <Condition name=""QuitCondition"" delay=""4"" conditionEdge=""rising"">
               <ByValueCondition>
                  <StoryboardElementStateCondition storyboardElementType=""event""
                                                   storyboardElementRef=""Stop event""
                                                   state=""completeState""/>
               </ByValueCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Slow vehicle ahead
- Parameters: EgoVehicle=car_white, LeadVehicle=car_red, EgoVehicle=car_white, LeadVehicle=car_red
- Actors: Ego ($EgoVehicle), Lead ($LeadVehicle)
- Road network: ../xodr/straight_500m_signs.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate use of TimeToCollision trigger -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2019-10-09T10:00:00""
               description=""Slow vehicle ahead""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""EgoVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""LeadVehicle"" parameterType=""string"" value=""car_red""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m_signs.xodr""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$EgoVehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""Lead"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$LeadVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""30""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""50""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Lead"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""1""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""200""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""brake-for-slow-lead-vehicle_Story"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Ego""/>
         </ParameterDeclarations>
         <Act name=""brake-for-slow-lead-vehicle_Act"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""brake-for-slow-lead-vehicle_ManeuverGroup"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""$owner""/>
               </Actors>
               <Maneuver name=""brake_Maneuver"">
                  <Event name=""brake_Event"" priority=""overwrite"">
                     <Action name=""brake_Action"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""linear"" value=""-6"" dynamicsDimension=""rate""/>
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""brake_Condition"" delay=""0"" conditionEdge=""rising"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""$owner""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <TimeToCollisionCondition value=""2.7""
                                                         freespace=""false""
                                                         alongRoute=""true""
                                                         rule=""lessThan"" >
                                        <TimeToCollisionConditionTarget >
                                            <EntityRef entityRef=""Lead"" />
                                        </TimeToCollisionConditionTarget>
                                    </TimeToCollisionCondition>
                                 </EntityCondition>
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""CutInActStart"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
             <Condition name=""QuitCondition"" delay=""4"" conditionEdge=""rising"">
                <ByEntityCondition>
                   <TriggeringEntities triggeringEntitiesRule=""any"">
                      <EntityRef entityRef=""Ego""/>
                   </TriggeringEntities>
                   <EntityCondition>
                      <!-- Quit when Ego has come to a stop and Lead is moving away -->
                      <RelativeSpeedCondition rule=""lessThan"" value=""0"" entityRef=""Lead""/>
                   </EntityCondition>
                </ByEntityCondition>      
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate OSC 1.2 speedProfileAction
- Parameters: StartTime=2.0, StartTime=2.0
- Actors: Car1 (car_white), Car2 (car_red)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""2"" date=""2021-11-18T10:00:00"" description=""Demonstrate OSC 1.2 speedProfileAction"" author=""esmini-team""/>
    <ParameterDeclarations>
          <ParameterDeclaration name=""StartTime"" parameterType=""double"" value=""2.0""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
        <SceneGraphFile filepath=""../models/straight_500m.osgb""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Car1"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
        </ScenarioObject>
        <ScenarioObject name=""Car2"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Car1"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""10""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0.0""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Car2"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" offset=""3.07"" s=""10""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""0.0""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""SpeedProfileStory"">
            <ParameterDeclarations/>
            <Act name=""SpeedProfileAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""SpeedProfileManeuverGroup1"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Car1""/>
                    </Actors>
                    <Maneuver name=""SpeedProfileManeuver1"">
                        <Event name=""SpeedProfileEvent1"" priority=""overwrite"">
                            <Action name=""SpeedProfileAction1"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedProfileAction followingMode=""follow"">
                                            <DynamicConstraints
                                                maxAcceleration = ""5.0""
                                                maxDeceleration = ""10.0""
                                                maxAccelerationRate = ""4.0""
                                                maxDecelerationRate = ""3.0""
                                                maxSpeed = ""50""
                                            />
                                            <SpeedProfileEntry time=""0.0"" speed=""0.0""/>
                                            <SpeedProfileEntry time=""4.0"" speed=""10.0""/>
                                            <SpeedProfileEntry time=""4.0"" speed=""4.0""/>
                                            <SpeedProfileEntry time=""2.0"" speed=""8.0""/>
                                        </SpeedProfileAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""EventTrigger1"" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""$StartTime"" rule=""greaterOrEqual""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <ManeuverGroup maximumExecutionCount=""1"" name=""SpeedProfileManeuverGroup2"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Car2""/>
                    </Actors>
                    <Maneuver name=""SpeedProfileManeuver2"">
                        <Event name=""SpeedProfileEvent"" priority=""overwrite"">
                            <Action name=""SpeedProfileAction2"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedProfileAction followingMode=""position"">
                                            <DynamicConstraints
                                                maxAcceleration = ""5.0""
                                                maxDeceleration = ""10.0""
                                                maxAccelerationRate = ""4.0""
                                                maxDecelerationRate = ""3.0""
                                                maxSpeed = ""50""
                                            />
                                            <SpeedProfileEntry time=""0.0"" speed=""0.0""/>
                                            <SpeedProfileEntry time=""4.0"" speed=""10.0""/>
                                            <SpeedProfileEntry time=""4.0"" speed=""4.0""/>
                                            <SpeedProfileEntry time=""2.0"" speed=""8.0""/>
                                        </SpeedProfileAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""EventTrigger2"" delay=""0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""$StartTime"" rule=""greaterOrEqual""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""StopSimulationCondition"" delay=""0"" conditionEdge=""rising"">
                    <ByValueCondition>
                        <SimulationTimeCondition value=""14"" rule=""greaterThan""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: dummy
- Parameters: TargetVehicle=car_red, TargetVehicle=car_red
- Actors: Ego (inline), Target ($TargetVehicle)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2020-05-12T10:00:00""
               description=""dummy""
               author=""esmini""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
    <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
      <SceneGraphFile filepath=""../models/straight_500m.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <Vehicle name=""car_white"" vehicleCategory=""car"" model3d=""../models/car_white.osgb"">
            <BoundingBox>
               <Center x=""1.4"" y=""0.0"" z=""0.9""/>
               <Dimensions width=""2.0"" length=""5.0"" height=""1.8""/>
            </BoundingBox>
            <Performance maxSpeed=""69"" maxDeceleration=""30"" maxAcceleration=""10""/>
            <Axles>
               <FrontAxle maxSteering=""30""
                          wheelDiameter=""0.8""
                          trackWidth=""1.68""
                          positionX=""2.98""
                          positionZ=""0.4""/>
               <RearAxle maxSteering=""30""
                         wheelDiameter=""0.8""
                         trackWidth=""1.68""
                         positionX=""0""
                         positionZ=""0.4""/>
            </Axles>
            <Properties>
                <Property name=""model_id"" value=""0""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""ModelToBB""/>  
                <Property name=""control"" value=""hybrid""/>
            </Properties>
         </Vehicle>
      </ScenarioObject>
      <ScenarioObject name=""Target"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""20""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""50""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""0""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""350""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
	  <Story name=""MyStory"">
         <Act name=""DummyAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""DummyManueverGroup"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Ego""/>
               </Actors>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""StartTrigger"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>	  
      </Story>
		<StopTrigger>
		  <ConditionGroup>
			 <Condition name=""StopCondition"" delay=""0"" conditionEdge=""rising"">
				<ByValueCondition>
					<SimulationTimeCondition value=""30"" rule=""greaterThan""/>
				</ByValueCondition>
			 </Condition>
		  </ConditionGroup>
		</StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: dummy
- Parameters: TargetVehicle=car_red, TargetVehicle=car_red
- Actors: Ego (inline), Target ($TargetVehicle), Cyclist (inline), Pedestrian (inline)
- Road network: ../xodr/straight_500m.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2020-05-12T10:00:00""
               description=""dummy""
               author=""esmini""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
     <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/>
      <SceneGraphFile filepath=""../models/straight_500m.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <Vehicle name=""car_white"" vehicleCategory=""car"">
            <BoundingBox>
               <Center x=""1.4"" y=""0.0"" z=""0.9""/>
               <Dimensions width=""2.0"" length=""5.0"" height=""1.8""/>
            </BoundingBox>
            <Performance maxSpeed=""69"" maxDeceleration=""30"" maxAcceleration=""10""/>
            <Axles>
               <FrontAxle maxSteering=""30""
                          wheelDiameter=""0.8""
                          trackWidth=""1.68""
                          positionX=""2.98""
                          positionZ=""0.4""/>
               <RearAxle maxSteering=""30""
                         wheelDiameter=""0.8""
                         trackWidth=""1.68""
                         positionX=""0""
                         positionZ=""0.4""/>
            </Axles>
            <Properties>
               <Property name=""model_id"" value=""0""/>
               <Property name=""control"" value=""hybrid""/>
               <File filepath=""../models/car_white.osgb""/>
            </Properties>
         </Vehicle>
      </ScenarioObject>
      <ScenarioObject name=""Target"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""Cyclist"">
         <Vehicle name=""bicycle"" vehicleCategory=""bicycle"">
            <BoundingBox>
               <Center x=""0.0"" y=""0.0"" z=""0.8""/>
               <Dimensions width=""0.3"" length=""1.5"" height=""1.6""/>
            </BoundingBox>
            <Performance maxSpeed=""30"" maxDeceleration=""5"" maxAcceleration=""10""/>
            <Axles>
               <FrontAxle maxSteering=""30""
                          wheelDiameter=""0.8""
                          trackWidth=""1.68""
                          positionX=""2.98""
                          positionZ=""0.4""/>
               <RearAxle maxSteering=""30""
                         wheelDiameter=""0.8""
                         trackWidth=""1.68""
                         positionX=""0""
                         positionZ=""0.4""/>
            </Axles>
            <Properties>
               <Property name=""control"" value=""internal""/>
               <File filepath=""../models/cyclist.osgb""/>
            </Properties>
         </Vehicle>
      </ScenarioObject>
      <ScenarioObject name=""Pedestrian"">
         <Pedestrian name=""Pedestrian1"" pedestrianCategory=""pedestrian"" model=""WalkingMale"" mass=""80"">
            <BoundingBox>
               <Center x=""0.0"" y=""0.0"" z=""0.9""/>
               <Dimensions width=""0.9"" length=""0.25"" height=""1.8""/>
            </BoundingBox>
            <Properties>
               <Property name=""control"" value=""internal""/>
               <File filepath=""../models/walkman.osgb""/>
            </Properties>
         </Pedestrian>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""20""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""50""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""0""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""350""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Pedestrian"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""8""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""-0.9"" s=""150""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Cyclist"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0.0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""10""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""1"" laneId=""-1"" offset=""0.1"" s=""100""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""DummyStory"">
         <Act name=""DummyAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""DummyManueverGroup"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Ego""/>
               </Actors>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""StartTrigger"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>   
      </Story>
		<StopTrigger>
		  <ConditionGroup>
			 <Condition name=""StopCondition"" delay=""0"" conditionEdge=""rising"">
				<ByValueCondition>
					<SimulationTimeCondition value=""30"" rule=""greaterThan""/>
				</ByValueCondition>
			 </Condition>
		  </ConditionGroup>
		</StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: adaptspeed_example
- Parameters: No parameters
- Actors: Ego (car_white), SumoVehicles (car_yellow)
- Road network: ../xodr/multi_intersections.xodr","<?xml version=""1.0"" ?>
<!-- Demonstrate a way of integrating SUMO vehicles in esmini simulations -->
<OpenSCENARIO>
    <FileHeader author=""Mandolin"" date=""2020-08-14T08:57:00"" description=""adaptspeed_example"" revMajor=""1"" revMinor=""3""/>
    <ParameterDeclarations/>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]multi_intersections.xodr""/>
        <SceneGraphFile filepath=""../models/multi_intersections.osgb""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
           <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
           <ObjectController>
              <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver"" />
           </ObjectController>           
        </ScenarioObject>
        <ScenarioObject name=""SumoVehicles"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_yellow""/>
            <ObjectController>
                <Controller name=""SumoTraffic"">
                    <Properties>
                        <Property name=""esminiController"" value=""SumoController"" />
                        <File filepath=""../sumo_inputs/multi_intersections.sumocfg""/>
                    </Properties>
                </Controller>
            </ObjectController>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition laneId=""1"" offset=""0"" roadId=""242"" s=""30""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsDimension=""time"" dynamicsShape=""step"" value=""1""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""20""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <StopTrigger>
            <ConditionGroup>
                <Condition conditionEdge=""rising"" delay=""0"" name=""stop_simulation"">
                    <ByValueCondition>
                        <SimulationTimeCondition rule=""greaterThan"" value=""600""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Cut-in
- Parameters: EgoVehicle=car_white, EgoVehicle=car_white
- Actors: Ego ($EgoVehicle)
- Road network: ../xodr/e6mini.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""3""
               date=""2020-10-04T10:00:00""
               description=""Cut-in""
               author=""SimS""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""EgoVehicle"" parameterType=""string"" value=""car_white""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
         <Directory path=""../xosc/Catalogs/Controllers"" />
      </ControllerCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]e6mini.xodr""/>
      <!-- <LogicFile filepath=""[[ROAD_NETWORK]]multi_intersections.xodr""/> -->
      <!-- <LogicFile filepath=""[[ROAD_NETWORK]]straight_500m.xodr""/> -->
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$EgoVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <GlobalAction>
               <TrafficAction>
                  <TrafficSwarmAction innerRadius=""200"" semiMajorAxis=""300"" semiMinorAxis=""500"" numberOfVehicles=""75"" velocity=""30"" offset=""0"">
                      <CentralObject entityRef=""Ego"" />
                  </TrafficSwarmAction>
               </TrafficAction>
            </GlobalAction>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-3"" offset=""0"" s=""300"" >
                        <!-- <LanePosition roadId=""283"" laneId=""-1"" offset=""0"" s=""10"" > -->
                        <!-- <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""300"" > -->
                            <Orientation type=""relative"" h=""0"" />
                        </LanePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <!-- <PrivateAction> -->
                    <!-- <ControllerAction> -->
                        <!-- <AssignControllerAction> -->
                            <!-- <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver"" activateLateral=""true"" activateLongitudinal=""true"" /> -->
                        <!-- </AssignControllerAction> -->
                    <!-- </ControllerAction> -->
               <!-- </PrivateAction> -->
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""10""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""story"">
         <Act name=""act"" >
             <ManeuverGroup maximumExecutionCount=""1"" name=""CutInAndBrakeSequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Ego""/>
               </Actors>
			 </ManeuverGroup>
		 </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
            <Condition name=""SwarmStopTrigger"" delay=""0"" conditionEdge=""none"">
               <ByValueCondition>
                  <SimulationTimeCondition value=""60"" rule=""greaterThan""/>
               </ByValueCondition>
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Enforce box-in situation using Synchronize action
- Parameters: EgoVehicle=car_white, NPC1Vehicle=car_red, NPC2Vehicle=truck_yellow, NPC3Vehicle=bus_blue, NPC4Vehicle=car_yellow, MS1Vehicle=car_yellow, MS2Vehicle=van_red, EgoSpeed=20, NPC1Speed=${$EgoSpeed + 10}, NPC2Speed=0, NPC3Speed=${$EgoSpeed - 3}, NPC4Speed=0, EgoLaneId=-3, NPC1LaneId=-2, NPC2LaneId=-3, NPC3LaneId=-4, NPC4LaneId=-3, EgoStartS=100, NPC1StartS=${$EgoStartS + 50}, NPC2StartS=${$EgoStartS - 80}, NPC3StartS=${$EgoStartS - 30}, NPC4StartS=${$EgoStartS + 70}, MS1EgoS=300, MS1NPC1S=${$MS1EgoS + 5}, MS1NPC2S=${$MS1EgoS - 15}, MS1NPC3S=${$MS1EgoS - 3}, MS1NPC4S=${$MS1EgoS + 30}, MS2EgoS=500, AccRate=3, EgoVehicle=car_white, NPC1Vehicle=car_red, NPC2Vehicle=truck_yellow, NPC3Vehicle=bus_blue, NPC4Vehicle=car_yellow, MS1Vehicle=car_yellow, MS2Vehicle=van_red, EgoSpeed=20, NPC1Speed=${$EgoSpeed + 10}, NPC2Speed=0, NPC3Speed=${$EgoSpeed - 3}, NPC4Speed=0, EgoLaneId=-3, NPC1LaneId=-2, NPC2LaneId=-3, NPC3LaneId=-4, NPC4LaneId=-3, EgoStartS=100, NPC1StartS=${$EgoStartS + 50}, NPC2StartS=${$EgoStartS - 80}, NPC3StartS=${$EgoStartS - 30}, NPC4StartS=${$EgoStartS + 70}, MS1EgoS=300, MS1NPC1S=${$MS1EgoS + 5}, MS1NPC2S=${$MS1EgoS - 15}, MS1NPC3S=${$MS1EgoS - 3}, MS1NPC4S=${$MS1EgoS + 30}, MS2EgoS=500, AccRate=3
- Actors: Ego ($EgoVehicle), NPC1 ($NPC1Vehicle), NPC2 ($NPC2Vehicle), NPC3 ($NPC3Vehicle), NPC4 ($NPC4Vehicle), MS1 ($MS1Vehicle), MS2 ($MS2Vehicle)
- Road network: ../xodr/e6mini.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrates the somewhat advanced Synchronize action. The idea of this scenario is -->
<!-- Ego vehicle (white car) getting boxed in or surrounded by other vehicles. The       -->
<!-- constellation is enforced by the Synchronize action. Suddenly the constallation     -->
<!-- is released and vehicles are driving at individual speeds. Finally the lead vehicle -->
<!-- suddently brakes to a stop.                                                         -->
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2020-03-01T10:00:00""
               description=""Enforce box-in situation using Synchronize action""
               author=""Emil Knabe""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""EgoVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""NPC1Vehicle"" parameterType=""string"" value=""car_red""/>
      <ParameterDeclaration name=""NPC2Vehicle"" parameterType=""string"" value=""truck_yellow""/>
      <ParameterDeclaration name=""NPC3Vehicle"" parameterType=""string"" value=""bus_blue""/>
      <ParameterDeclaration name=""NPC4Vehicle"" parameterType=""string"" value=""car_yellow""/>
      <ParameterDeclaration name=""MS1Vehicle"" parameterType=""string"" value=""car_yellow""/>
      <ParameterDeclaration name=""MS2Vehicle"" parameterType=""string"" value=""van_red""/>
      <ParameterDeclaration name=""EgoSpeed"" parameterType=""double"" value=""20""/>
      <ParameterDeclaration name=""NPC1Speed"" parameterType=""double"" value=""${$EgoSpeed + 10}""/>
      <ParameterDeclaration name=""NPC2Speed"" parameterType=""double"" value=""0""/>
      <ParameterDeclaration name=""NPC3Speed"" parameterType=""double"" value=""${$EgoSpeed - 3}""/>
      <ParameterDeclaration name=""NPC4Speed"" parameterType=""double"" value=""0""/>
      <ParameterDeclaration name=""EgoLaneId"" parameterType=""integer"" value=""-3""/>
      <ParameterDeclaration name=""NPC1LaneId"" parameterType=""integer"" value=""-2""/>
      <ParameterDeclaration name=""NPC2LaneId"" parameterType=""integer"" value=""-3""/>
      <ParameterDeclaration name=""NPC3LaneId"" parameterType=""integer"" value=""-4""/>
      <ParameterDeclaration name=""NPC4LaneId"" parameterType=""integer"" value=""-3""/>
      <ParameterDeclaration name=""EgoStartS"" parameterType=""double"" value=""100""/>
      <ParameterDeclaration name=""NPC1StartS"" parameterType=""double"" value=""${$EgoStartS + 50}""/>
      <ParameterDeclaration name=""NPC2StartS"" parameterType=""double"" value=""${$EgoStartS - 80}""/>
      <ParameterDeclaration name=""NPC3StartS"" parameterType=""double"" value=""${$EgoStartS - 30}""/>
      <ParameterDeclaration name=""NPC4StartS"" parameterType=""double"" value=""${$EgoStartS + 70}""/>
      <ParameterDeclaration name=""MS1EgoS"" parameterType=""double"" value=""300""/>
      <ParameterDeclaration name=""MS1NPC1S"" parameterType=""double"" value=""${$MS1EgoS + 5}""/>
      <ParameterDeclaration name=""MS1NPC2S"" parameterType=""double"" value=""${$MS1EgoS - 15}""/>
      <ParameterDeclaration name=""MS1NPC3S"" parameterType=""double"" value=""${$MS1EgoS - 3}""/>
      <ParameterDeclaration name=""MS1NPC4S"" parameterType=""double"" value=""${$MS1EgoS + 30}""/>
      <ParameterDeclaration name=""MS2EgoS"" parameterType=""double"" value=""500""/>
      <ParameterDeclaration name=""AccRate"" parameterType=""double"" value=""3""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <ManeuverCatalog>
         <Directory path=""../xosc/Catalogs/Maneuvers""/>
      </ManeuverCatalog>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
      <ControllerCatalog>
         <Directory path=""../xosc/Catalogs/Controllers"" />
      </ControllerCatalog>    
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]e6mini.xodr""/>
      <SceneGraphFile filepath=""../models/e6mini.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$EgoVehicle""/>
         <ObjectController>
             <CatalogReference catalogName=""ControllerCatalog"" entryName=""interactiveDriver"" />
         </ObjectController>
      </ScenarioObject>
      <ScenarioObject name=""NPC1"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$NPC1Vehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""NPC2"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$NPC2Vehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""NPC3"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$NPC3Vehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""NPC4"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$NPC4Vehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""MS1"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$MS1Vehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""MS2"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$MS2Vehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""$EgoLaneId"" offset=""0"" s=""$EgoStartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
					<ControllerAction>
						<ActivateControllerAction longitudinal=""true"" lateral=""true"" />
					</ControllerAction>
               </PrivateAction>               
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$EgoSpeed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""NPC1"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""$NPC1LaneId"" offset=""0"" s=""$NPC1StartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""NPC2"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""$NPC2LaneId"" offset=""0"" s=""$NPC2StartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""NPC3"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""$NPC3LaneId"" offset=""0"" s=""$NPC3StartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""NPC4"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""$NPC4LaneId"" offset=""0"" s=""$NPC4StartS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""MS1"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-5"" offset=""0"" s=""$MS1EgoS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""MS2"">
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <LanePosition roadId=""0"" laneId=""-5"" offset=""0"" s=""$MS2EgoS""/>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""Synchronize_Story"">
         <ParameterDeclarations>
            <ParameterDeclaration parameterType=""string"" name=""owner"" value=""Ego""/>
         </ParameterDeclarations>
         <Act name=""Synchronize_Act"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""Synchronize_NPC1_Sequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""NPC1""/>
               </Actors>
               <CatalogReference catalogName=""HWManeuvers"" entryName=""Synchronize_NPC"">
                  <ParameterAssignments>
                     <ParameterAssignment parameterRef=""$EgoTargetLaneId"" value=""$EgoLaneId""/>
                     <ParameterAssignment parameterRef=""$NPCTargetLaneId"" value=""$NPC1LaneId""/>
                     <ParameterAssignment parameterRef=""$NPCFreeSpeed"" value=""$NPC1Speed""/>
                     <ParameterAssignment parameterRef=""$MS1EgoS"" value=""$MS1EgoS""/>
                     <ParameterAssignment parameterRef=""$MS2EgoS"" value=""$MS2EgoS""/>
                     <ParameterAssignment parameterRef=""$MS1NPC"" value=""$MS1NPC1S""/>
                  </ParameterAssignments>
               </CatalogReference>
            </ManeuverGroup>
            <ManeuverGroup maximumExecutionCount=""1"" name=""Synchronize_NPC2_Sequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""NPC2""/>
               </Actors>
               <CatalogReference catalogName=""HWManeuvers"" entryName=""Synchronize_NPC"">
                  <ParameterAssignments>
                     <ParameterAssignment parameterRef=""$EgoTargetLaneId"" value=""$EgoLaneId""/>
                     <ParameterAssignment parameterRef=""$NPCTargetLaneId"" value=""$NPC2LaneId""/>
                     <ParameterAssignment parameterRef=""$NPCFreeSpeed"" value=""$NPC2Speed""/>
                     <ParameterAssignment parameterRef=""$MS1EgoS"" value=""$MS1EgoS""/>
                     <ParameterAssignment parameterRef=""$MS2EgoS"" value=""$MS2EgoS""/>
                     <ParameterAssignment parameterRef=""$MS1NPC"" value=""$MS1NPC2S""/>
                  </ParameterAssignments>
               </CatalogReference>
            </ManeuverGroup>
            <ManeuverGroup maximumExecutionCount=""1"" name=""Synchronize_NPC3_Sequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""NPC3""/>
               </Actors>
               <CatalogReference catalogName=""HWManeuvers"" entryName=""Synchronize_NPC"">
                  <ParameterAssignments>
                     <ParameterAssignment parameterRef=""$EgoTargetLaneId"" value=""$EgoLaneId""/>
                     <ParameterAssignment parameterRef=""$NPCTargetLaneId"" value=""$NPC3LaneId""/>
                     <ParameterAssignment parameterRef=""$NPCFreeSpeed"" value=""$NPC3Speed""/>
                     <ParameterAssignment parameterRef=""$MS1EgoS"" value=""$MS1EgoS""/>
                     <ParameterAssignment parameterRef=""$MS2EgoS"" value=""$MS2EgoS""/>
                     <ParameterAssignment parameterRef=""$MS1NPC"" value=""$MS1NPC3S""/>
                  </ParameterAssignments>
               </CatalogReference>
            </ManeuverGroup>
            <ManeuverGroup maximumExecutionCount=""1"" name=""Synchronize_NPC4_Sequence"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""NPC4""/>
               </Actors>
               <CatalogReference catalogName=""HWManeuvers"" entryName=""Synchronize_NPC"">
                  <ParameterAssignments>
                     <ParameterAssignment parameterRef=""$EgoTargetLaneId"" value=""$EgoLaneId""/>
                     <ParameterAssignment parameterRef=""$NPCTargetLaneId"" value=""$NPC4LaneId""/>
                     <ParameterAssignment parameterRef=""$NPCFreeSpeed"" value=""$NPC4Speed""/>
                     <ParameterAssignment parameterRef=""$MS1EgoS"" value=""$MS1EgoS""/>
                     <ParameterAssignment parameterRef=""$MS2EgoS"" value=""$MS2EgoS""/>
                     <ParameterAssignment parameterRef=""$MS1NPC"" value=""$MS1NPC4S""/>
                  </ParameterAssignments>
               </CatalogReference>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""Synchronize_Condition"" delay=""0"" conditionEdge=""none"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
             <Condition name=""EndCondition1"" delay=""0"" conditionEdge=""none"">
                 <ByEntityCondition>
                     <TriggeringEntities triggeringEntitiesRule=""any"">
                        <EntityRef entityRef=""Ego""/>
                     </TriggeringEntities>
                     <EntityCondition>
                        <TraveledDistanceCondition value=""5"" />
                     </EntityCondition>
                 </ByEntityCondition>
             </Condition>
             <Condition name=""EndCondition2"" delay=""0"" conditionEdge=""none"">
                 <ByEntityCondition>
                     <TriggeringEntities triggeringEntitiesRule=""any"">
                        <EntityRef entityRef=""NPC4""/>
                     </TriggeringEntities>
                     <EntityCondition>
                        <StandStillCondition duration=""2"" />
                     </EntityCondition>
                 </ByEntityCondition>
             </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Synchronize with SteadyState provocing critical situation incl car and bike
- Parameters: HostVehicle=car_white, HostStartS=0, HostSpeed=10, TargetVehicle=bicycle, TTC=10, TargetStartS=50, TargetFinalSpeed=5, HostVehicle=car_white, HostStartS=0, HostSpeed=10, TargetVehicle=bicycle, TTC=10, TargetStartS=50, TargetFinalSpeed=5
- Actors: Ego ($HostVehicle), Target ($TargetVehicle)
- Road network: ../xodr/multi_intersections.xodr","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrates how Synchronize Action with esmini extension SteadyState can be used to achieve a     -->
<!-- critical situation. The Ego vehicle (white car) drives towards an intersection. A bicyclist        -->
<!-- will approach the same intersection from left. To have the same critical situation arise for       -->
<!-- various initial states the bicyclist will be controlled by SynchronizeAction which will make       -->
<!-- sure that the vehicles meet in the intersection regardless of e.g. Ego speed, bicycle start        -->
<!-- position or action trig time. Bicycle will reach specified speed 20 meter from target position     -->
<!-- and then keep it until reaching destination. This way a critical situation is not only acheived,   -->
<!-- also several parameters can be fixed/controlled insensitive to varying scenario initial state.     -->

<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2020-12-11T10:00:00""
               description=""Synchronize with SteadyState provocing critical situation incl car and bike""
               author=""esmini-team""/>
   <ParameterDeclarations>
      <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
      <ParameterDeclaration name=""HostStartS"" parameterType=""string"" value=""0""/>
      <ParameterDeclaration name=""HostSpeed"" parameterType=""double"" value=""10""/>
      <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""bicycle""/>
      <ParameterDeclaration name=""TTC"" parameterType=""double"" value=""10""/>
      <ParameterDeclaration name=""TargetStartS"" parameterType=""double"" value=""50""/>
      <ParameterDeclaration name=""TargetFinalSpeed"" parameterType=""double"" value=""5""/>
   </ParameterDeclarations>
   <CatalogLocations>
      <RouteCatalog>
         <Directory path=""../xosc/Catalogs/Routes""/>
      </RouteCatalog>
      <VehicleCatalog>
         <Directory path=""[[VEHICLE_CATALOG]]""/>
      </VehicleCatalog>
   </CatalogLocations>
   <RoadNetwork>
      <LogicFile filepath=""[[ROAD_NETWORK]]multi_intersections.xodr""/>
      <SceneGraphFile filepath=""../models/multi_intersections.osgb""/>
   </RoadNetwork>
   <Entities>
      <ScenarioObject name=""Ego"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$HostVehicle""/>
      </ScenarioObject>
      <ScenarioObject name=""Target"">
         <CatalogReference catalogName=""VehicleCatalog"" entryName=""$TargetVehicle""/>
      </ScenarioObject>
   </Entities>
   <Storyboard>
      <Init>
         <Actions>
            <Private entityRef=""Ego"">
               <PrivateAction>
                  <RoutingAction>
                     <AssignRouteAction>
                        <CatalogReference catalogName=""RoutesAtMultiIntersections"" entryName=""HostStraightRoute""/>
                     </AssignRouteAction>
                  </RoutingAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RoutePosition>
                           <RouteRef>
                              <CatalogReference catalogName=""RoutesAtMultiIntersections"" entryName=""HostStraightRoute""/>
                           </RouteRef>
                           <InRoutePosition>
                              <FromLaneCoordinates pathS=""$HostStartS"" laneId=""1""/>
                           </InRoutePosition>
                        </RoutePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$HostSpeed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
            <Private entityRef=""Target"">
               <PrivateAction>
                  <RoutingAction>
                     <AssignRouteAction>
                        <CatalogReference catalogName=""RoutesAtMultiIntersections"" entryName=""TargetStraightLeftToRight""/>
                     </AssignRouteAction>
                  </RoutingAction>
               </PrivateAction>
               <PrivateAction>
                  <TeleportAction>
                     <Position>
                        <RoutePosition>
                           <RouteRef>
                              <CatalogReference catalogName=""RoutesAtMultiIntersections"" entryName=""TargetStraightLeftToRight""/>
                           </RouteRef>
                           <InRoutePosition>
                              <FromLaneCoordinates pathS=""$TargetStartS"" laneId=""1"" laneOffset=""-1.0""/>
                           </InRoutePosition>
                        </RoutePosition>
                     </Position>
                  </TeleportAction>
               </PrivateAction>
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""0""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Private>
         </Actions>
      </Init>
      <Story name=""Story"">
         <ParameterDeclarations/>
         <Act name=""TargetAct"">
            <ManeuverGroup maximumExecutionCount=""1"" name=""ManeuverGroup"">
               <Actors selectTriggeringEntities=""false"">
                  <EntityRef entityRef=""Target""/>
               </Actors>
               <Maneuver name=""Maneuver"">
                  <Event name=""SetTargetSpeedEvent"" priority=""overwrite"" maximumExecutionCount=""1"">
                     <Action name=""SetTargetSpeedAction"">
                        <PrivateAction>
                           <LongitudinalAction>
                              <SpeedAction>
                                 <SpeedActionDynamics dynamicsShape=""step"" value=""0.0"" dynamicsDimension=""time"" />
                                 <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$TargetFinalSpeed""/>
                                 </SpeedActionTarget>
                              </SpeedAction>
                           </LongitudinalAction>
                       </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""SyncConditionTarget"" delay=""0.0"" conditionEdge=""none"">
                              <ByEntityCondition>
                                 <TriggeringEntities triggeringEntitiesRule=""any"">
                                    <EntityRef entityRef=""Ego""/>
                                 </TriggeringEntities>
                                 <EntityCondition>
                                    <!-- 8 seconds to synch position -->
                                    <TimeToCollisionCondition value=""$TTC""
                                                         freespace=""true""
                                                         coordinateSystem=""entity""
                                                         relativeDistanceType=""longitudinal""
                                                         rule=""lessThan"" >
                                        <TimeToCollisionConditionTarget >
                                            <Position>
                                                <LanePosition roadId=""240"" laneId=""-1"" offset=""0"" s=""5""/>
                                            </Position>
                                        </TimeToCollisionConditionTarget>
                                    </TimeToCollisionCondition>
                                 </EntityCondition>                              
                              </ByEntityCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
                  <Event name=""SyncEvent"" priority=""overwrite"">
                     <Action name=""SyncActionTarget"">
                        <PrivateAction>
                            <SynchronizeAction masterEntityRef=""Ego"" >
                                <TargetPositionMaster>
                                    <LanePosition roadId=""240"" laneId=""-1"" offset=""1.5"" s=""6"" />
                                </TargetPositionMaster>    
                                <TargetPosition>
                                    <LanePosition roadId=""236"" laneId=""-1"" offset=""1.5"" s=""12.5"" />
                                </TargetPosition>    
                                <FinalSpeed>
                                    <AbsoluteSpeed value=""$TargetFinalSpeed"" >
                                        <TargetDistanceSteadyState distance=""10"" />
                                    </AbsoluteSpeed>
                                </FinalSpeed>
                            </SynchronizeAction>
                        </PrivateAction>
                     </Action>
                     <StartTrigger>
                        <ConditionGroup>
                           <Condition name=""SyncConditionTarget"" delay=""0.0"" conditionEdge=""none"">
                              <ByValueCondition>
                                 <StoryboardElementStateCondition storyboardElementType=""event""
                                                                  storyboardElementRef=""SetTargetSpeedEvent""
                                                                  state=""endTransition""/>                         
                              </ByValueCondition>
                           </Condition>
                        </ConditionGroup>
                     </StartTrigger>
                  </Event>
               </Maneuver>
            </ManeuverGroup>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""LtapActStartConditionTarget"" delay=""0"" conditionEdge=""rising"">
                     <ByValueCondition>
                        <SimulationTimeCondition value=""0"" rule=""greaterThan""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Act>
      </Story>
      <StopTrigger>
         <ConditionGroup>
             <Condition name=""QuitCondition"" delay=""0"" conditionEdge=""rising"">
                <ByEntityCondition>
                   <TriggeringEntities triggeringEntitiesRule=""any"">
                      <EntityRef entityRef=""Ego""/>
                   </TriggeringEntities>
                   <EntityCondition>
                      <ReachPositionCondition tolerance=""5.0"">
                         <Position>
                            <LanePosition roadId=""235"" laneId=""-1"" s=""30.0""/>
                         </Position>
                      </ReachPositionCondition>
                   </EntityCondition>
                </ByEntityCondition>      
            </Condition>
         </ConditionGroup>
      </StopTrigger>
   </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Trailer demo
- Parameters: DefaultSpeed=${50/3.6}, DefaultSpeed=${50/3.6}
- Actors: Ego (car_white_with_trailer), Semi_truck (semi_truck), Semi_truck_with_extra_trailer (semi_truck_with_extra_trailer), Truck_trailer2 (truck_trailer), Truck_trailer1 (truck_trailer), Semi_trailer (semi_trailer), Semi_tractor (semi_tractor)
- Road network: ../xodr/multi_intersections.xodr","<?xml version=""1.0"" encoding=""utf-8""?>
<!-- Demonstrate trailer vehicles -->
<!-- simulator with no defined traffic and maneuvers. -->
<OpenSCENARIO xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:noNamespaceSchemaLocation=""OpenScenario.xsd"">
    <FileHeader description=""Trailer demo"" author=""Knabe"" revMajor=""1"" revMinor=""1"" date=""2022-03-11T08:10:42.217875""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""DefaultSpeed"" parameterType=""double"" value=""${50/3.6}""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]multi_intersections.xodr""/>
        <SceneGraphFile filepath=""../models/multi_intersections.osgb""/>
    </RoadNetwork>
    <Entities>
        <!-- First three objects use catalog vehicles with preconfigured trailers -->
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white_with_trailer""/>
        </ScenarioObject>
        <ScenarioObject name=""Semi_truck"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""semi_truck""/>
        </ScenarioObject>
        <ScenarioObject name=""Semi_truck_with_extra_trailer"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""semi_truck_with_extra_trailer""/>
        </ScenarioObject>
        
        <!-- Explicit configuration of a 3-trailer truck. Define trailers in order last first -->
        <!-- Then simply attach each trailer via the TrailerRef parameter -->
        <ScenarioObject name=""Truck_trailer2"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""truck_trailer""/>
        </ScenarioObject>
        <ScenarioObject name=""Truck_trailer1"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""truck_trailer"">
                <ParameterAssignments>
                    <ParameterAssignment parameterRef=""$TrailerRef"" value=""Truck_trailer2""/>
                </ParameterAssignments>
            </CatalogReference>
        </ScenarioObject>
        <ScenarioObject name=""Semi_trailer"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""semi_trailer"">
                <ParameterAssignments>
                    <ParameterAssignment parameterRef=""$TrailerRef"" value=""Truck_trailer1""/>
                </ParameterAssignments>
            </CatalogReference>
        </ScenarioObject>
        <ScenarioObject name=""Semi_tractor"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""semi_tractor"">
                <ParameterAssignments>
                    <ParameterAssignment parameterRef=""$TrailerRef"" value=""Semi_trailer""/>
                </ParameterAssignments>
            </CatalogReference>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""209"" laneId=""1"" s=""100.0"" offset=""0.0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <RoutingAction>
                            <AcquirePositionAction>
                                <Position>
                                    <LanePosition roadId=""197"" laneId=""-1"" offset=""0"" s=""50""/>
                                </Position>
                            </AcquirePositionAction>
                        </RoutingAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""1.0"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""${$DefaultSpeed * 0.8}""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Semi_truck"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""196"" laneId=""1"" s=""30.0"" offset=""0.0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <RoutingAction>
                            <AcquirePositionAction>
                                <Position>
                                    <LanePosition roadId=""209"" laneId=""-1"" offset=""0"" s=""50""/>
                                </Position>
                            </AcquirePositionAction>
                        </RoutingAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""1.0"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$DefaultSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Semi_truck_with_extra_trailer"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""202"" laneId=""2"" s=""100.0"" offset=""0.0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <RoutingAction>
                            <AcquirePositionAction>
                                <Position>
                                    <LanePosition roadId=""209"" laneId=""-2"" offset=""0"" s=""20""/>
                                </Position>
                            </AcquirePositionAction>
                        </RoutingAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""1.0"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$DefaultSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Truck_trailer2"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""197"" laneId=""1"" offset=""0"" s=""50""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Truck_trailer1"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""197"" laneId=""1"" offset=""0"" s=""30""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Semi_trailer"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""197"" laneId=""1"" offset=""0"" s=""30""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Semi_tractor"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""197"" laneId=""1"" offset=""0"" s=""30""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <RoutingAction>
                            <AcquirePositionAction>
                                <Position>
                                    <LanePosition roadId=""202"" laneId=""-1"" offset=""0"" s=""50""/>
                                </Position>
                            </AcquirePositionAction>
                        </RoutingAction>
                    </PrivateAction>                    
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""1.0"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$DefaultSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""story_act_empty"">
            <ParameterDeclarations/>
            <Act name=""act_empty"">
                <ManeuverGroup name=""empty"" maximumExecutionCount=""1"">
                    <Actors selectTriggeringEntities=""false""/>
                </ManeuverGroup>
                <StartTrigger/>
                <StopTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""time_trigger"" delay=""0"" conditionEdge=""none"">
                    <ByValueCondition>
                        <SimulationTimeCondition value=""15"" rule=""greaterThan""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Demonstrate prototype OSC ConnectTrailerAction
- Parameters: X0=1.7, Y0=13.5, TrajRadius=12.0, Speed=4.0, X0=1.7, Y0=13.5, TrajRadius=12.0, Speed=4.0
- Actors: Trailer (car_trailer), Car (car_white)
- Road network: unknown","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""3"" date=""2023-09-28T10:00:00"" description=""Demonstrate prototype OSC ConnectTrailerAction"" author=""esmini team""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""X0"" parameterType=""double"" value=""1.7""/>
        <ParameterDeclaration name=""Y0"" parameterType=""double"" value=""13.5""/>
        <ParameterDeclaration name=""TrajRadius"" parameterType=""double"" value=""12.0""/>
        <ParameterDeclaration name=""Speed"" parameterType=""double"" value=""4.0""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
        <ControllerCatalog>
            <Directory path=""../xosc/Catalogs/Controllers""/>
        </ControllerCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <SceneGraphFile filepath=""../models/parking_lot.osgb""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Trailer"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_trailer""/>
        </ScenarioObject>
        <ScenarioObject name=""Car"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Trailer"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <WorldPosition x=""$X0"" y=""$Y0"" z=""0.0"" h=""1.5708"" p=""0.0"" r=""0.0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Car"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <WorldPosition x=""${$X0 - $TrajRadius}"" y=""${$Y0 + $TrajRadius + 4.7}"" z=""0.0"" h=""3.141592"" p=""0.0"" r=""0.0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""TrailerStory"">
            <Act name=""TrailerAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""DummyManueverGroup"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Car""/>
                    </Actors>
                    <Maneuver name=""ConnectManeuver"">
                        <Event maximumExecutionCount=""1"" name=""ReverseEvent"" priority=""overwrite"">
                            <Action name=""ReverseSpeedAction"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsDimension=""time"" dynamicsShape=""step"" value=""0""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""${-$Speed}""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <Action name=""ReverseAction"">
                                <PrivateAction>
                                    <RoutingAction>
                                        <FollowTrajectoryAction>
                                            <Trajectory closed=""false"" name=""TrajectoryReverse"">
                                                <ParameterDeclarations/>
                                                <Shape>
                                                    <Clothoid curvature=""${-1.0/$TrajRadius}"" curvatureDot=""0.0"" length=""${0.25 * 2.0 * 3.141592 * $TrajRadius}"">
                                                        <Position>
                                                            <RelativeWorldPosition dx=""0.0"" dy=""0.0"" entityRef=""Car"">
                                                                <Orientation type=""relative"" h=""3.1415""/>
                                                            </RelativeWorldPosition>
                                                        </Position>
                                                    </Clothoid>
                                                </Shape>
                                            </Trajectory>
                                            <TimeReference>
                                                <None/>
                                            </TimeReference>
                                            <TrajectoryFollowingMode followingMode=""position""/>
                                        </FollowTrajectoryAction>
                                    </RoutingAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""ReverseTrigger"" delay=""0.0"" conditionEdge=""none"">
                                        <ByValueCondition>
                                            <SimulationTimeCondition value=""1.0"" rule=""greaterOrEqual""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event maximumExecutionCount=""1"" name=""ConnectEvent"" priority=""overwrite"">
                            <Action name=""ConnectAction"">
                                <PrivateAction>
                                    <TrailerAction>
                                        <ConnectTrailerAction trailerRef=""Trailer""/>
                                    </TrailerAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""ConnectTrigger"" delay=""2.0"" conditionEdge=""rising"">
                                        <ByValueCondition>
                                            <StoryboardElementStateCondition storyboardElementType=""event"" storyboardElementRef=""ReverseEvent"" state=""endTransition""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event maximumExecutionCount=""1"" name=""ForwardEvent"" priority=""overwrite"">
                            <Action name=""ForwardSpeed"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsDimension=""time"" dynamicsShape=""step"" value=""0""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""$Speed""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <Action name=""ForwardAction"">
                                <PrivateAction>
                                    <RoutingAction>
                                        <FollowTrajectoryAction>
                                            <Trajectory closed=""false"" name=""TrajectoryForward"">
                                                <ParameterDeclarations/>
                                                <Shape>
                                                    <Clothoid curvature=""${-1.0/$TrajRadius}"" curvatureDot=""0.001"" length=""25.0"">
                                                        <Position>
                                                            <RelativeWorldPosition dx=""0.0"" dy=""0.0"" entityRef=""Car"">
                                                                <Orientation type=""relative"" h=""0.0""/>
                                                            </RelativeWorldPosition>
                                                        </Position>
                                                    </Clothoid>
                                                </Shape>
                                            </Trajectory>
                                            <TimeReference>
                                                <None/>
                                            </TimeReference>
                                            <TrajectoryFollowingMode followingMode=""position""/>
                                        </FollowTrajectoryAction>
                                    </RoutingAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""ForwardEvent"" delay=""2.0"" conditionEdge=""rising"">
                                        <ByValueCondition>
                                            <StoryboardElementStateCondition storyboardElementType=""event"" storyboardElementRef=""ConnectEvent"" state=""endTransition""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event maximumExecutionCount=""1"" name=""DisconnectEvent"" priority=""parallel"">
                            <Action name=""ConnectAction"">
                                <PrivateAction>
                                    <TrailerAction>
                                        <DisconnectTrailerAction/>
                                    </TrailerAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""DisconnectEvent"" delay=""4.0"" conditionEdge=""rising"">
                                        <ByValueCondition>
                                            <StoryboardElementStateCondition storyboardElementType=""event"" storyboardElementRef=""ForwardEvent"" state=""startTransition""/>
                                        </ByValueCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition name=""StartTrigger"" delay=""0"" conditionEdge=""none"">
                            <ByValueCondition>
                                <SimulationTimeCondition value=""2"" rule=""greaterOrEqual""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""DisconnectEvent"" delay=""2.0"" conditionEdge=""rising"">
                    <ByValueCondition>
                        <StoryboardElementStateCondition storyboardElementType=""event"" storyboardElementRef=""ForwardEvent"" state=""endTransition""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: myscenario
- Parameters: HostVehicle=car_white, TargetVehicle=car_red, HostVehicle=car_white, TargetVehicle=car_red
- Actors: Ego (inline), Target (inline)
- Road network: ../xodr/curves_elevation.xodr","<?xml version=""1.0"" ?>
<!-- A totally unrealistic example of using trajectories. In this case two events are used to connect -->
<!-- two separate trajectories into one consecutive path. The trajectory coordinates are specified    -->
<!-- with relative positions which means that the actual location will be aligned to the referred     -->
<!-- entity, in this case the Ego vehicle, at the very moment the event being triggered.              -->
<OpenSCENARIO>
    <FileHeader author=""esmini-team"" date=""2020-05-23T08:34:25"" description=""myscenario"" revMajor=""1"" revMinor=""0""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""HostVehicle"" parameterType=""string"" value=""car_white""/>
        <ParameterDeclaration name=""TargetVehicle"" parameterType=""string"" value=""car_red""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]curves_elevation.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <Vehicle name=""car_white"" vehicleCategory=""car"">
                <ParameterDeclarations/>
                <BoundingBox>
                    <Center x=""2.0"" y=""0"" z=""0.9""/>
                    <Dimensions height=""1.8"" length=""5"" width=""2""/>
                </BoundingBox>
                <Performance maxAcceleration=""10"" maxDeceleration=""10"" maxSpeed=""69""/>
                <Axles>
                    <FrontAxle maxSteering=""30"" positionX=""2.98"" positionZ=""0.4"" trackWidth=""1.68"" wheelDiameter=""0.8""/>
                    <RearAxle maxSteering=""30"" positionX=""0"" positionZ=""0.4"" trackWidth=""1.68"" wheelDiameter=""0.8""/>
                </Axles>
                <Properties>
                    <Property name=""model_id"" value=""0""/>
                    <File filepath=""../models/car_white.osgb""/>
                </Properties>
            </Vehicle>
        </ScenarioObject>
        <ScenarioObject name=""Target"">
            <Vehicle name=""car_red"" vehicleCategory=""car"">
                <ParameterDeclarations/>
                <BoundingBox>
                    <Center x=""1.3"" y=""0"" z=""0.8""/>
                    <Dimensions height=""1.5"" length=""4.5"" width=""1.8""/>
                </BoundingBox>
                <Performance maxAcceleration=""10"" maxDeceleration=""10"" maxSpeed=""69""/>
                <Axles>
                    <FrontAxle maxSteering=""30"" positionX=""2.98"" positionZ=""0.4"" trackWidth=""1.68"" wheelDiameter=""0.8""/>
                    <RearAxle maxSteering=""30"" positionX=""0"" positionZ=""0.4"" trackWidth=""1.68"" wheelDiameter=""0.8""/>
                </Axles>
                <Properties>
                    <Property name=""model_id"" value=""2""/>
                    <File filepath=""../models/car_red.osgb""/>
                </Properties>
            </Vehicle>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsDimension=""time"" dynamicsShape=""step"" value=""1""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""16""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition laneId=""-1"" offset=""0"" roadId=""1"" s=""50""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Target"">
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsDimension=""time"" dynamicsShape=""step"" value=""1""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""30""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition laneId=""-1"" offset=""0"" roadId=""1"" s=""10""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""mystory"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""owner"" parameterType=""string"" value=""Target""/>
            </ParameterDeclarations>
            <Act name=""my_act"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""mangroup"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""$owner""/>
                    </Actors>
                    <Maneuver name=""my_maneuver"">
                        <Event maximumExecutionCount=""1"" name=""FollowTrajectoryPLineEvent"" priority=""overwrite"">
                            <Action name=""FollowTrajectoryPLineAction"">
                                <PrivateAction>
                                    <RoutingAction>
                                        <FollowTrajectoryAction>
                                            <Trajectory closed=""false"" name=""TrajectoryPLine"">
                                                <ParameterDeclarations/>
                                                <Shape>
                                                    <Polyline>
                                                        <Vertex time=""0"">
                                                            <Position>
                                                                <RelativeLanePosition dLane=""0"" ds=""0"" entityRef=""Target"" offset=""0.0""/>
                                                            </Position>
                                                        </Vertex>
                                                        <Vertex time=""2"">
                                                            <Position>
                                                                <RelativeLanePosition dLane=""1"" ds=""60"" entityRef=""Target"" offset=""0.465""/>
                                                            </Position>
                                                        </Vertex>
                                                        <Vertex time=""4"">
                                                            <Position>
                                                                <RelativeLanePosition dLane=""1"" ds=""110"" entityRef=""Target"" offset=""0.465""/>
                                                            </Position>
                                                        </Vertex>
                                                        <Vertex time=""6"">
                                                            <Position>
                                                                <RelativeLanePosition dLane=""0"" ds=""165"" entityRef=""Target"" offset=""0""/>
                                                            </Position>
                                                        </Vertex>
                                                    </Polyline>
                                                </Shape>
                                            </Trajectory>
                                            <TimeReference>
                                                <Timing domainAbsoluteRelative=""relative"" offset=""0"" scale=""1""/>
                                            </TimeReference>
                                            <TrajectoryFollowingMode followingMode=""position""/>
                                        </FollowTrajectoryAction>
                                    </RoutingAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition conditionEdge=""rising"" delay=""0.2"" name=""FollowTrajectoryPLineTrigger"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""any"">
                                                <EntityRef entityRef=""Target""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <TimeHeadwayCondition alongRoute=""false"" entityRef=""Ego"" freespace=""false"" rule=""lessThan"" value=""0.5""/>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event maximumExecutionCount=""1"" name=""FollowTrajectoryClothoidEvent"" priority=""overwrite"">
                            <Action name=""FollowTrajectoryClothoidAction"">
                                <PrivateAction>
                                    <RoutingAction>
                                        <FollowTrajectoryAction>
                                            <Trajectory closed=""false"" name=""TrajectoryClothoid"">
                                                <ParameterDeclarations/>
                                                <Shape>
                                                    <Clothoid curvature=""-0.1"" curvatureDot=""0.00036"" length=""70"" startTime=""0"" stopTime=""4"">
                                                        <Position>
                                                            <RelativeRoadPosition dt=""0"" ds=""0"" entityRef=""Target""/>
                                                        </Position>
                                                    </Clothoid>
                                                </Shape>
                                            </Trajectory>
                                            <TimeReference>
                                                <Timing domainAbsoluteRelative=""relative"" offset=""0"" scale=""1""/>
                                            </TimeReference>
                                            <TrajectoryFollowingMode followingMode=""follow""/>
                                        </FollowTrajectoryAction>
                                    </RoutingAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                               <ConditionGroup>
                                  <Condition name=""FollowTrajectoryClothoidTrigger"" delay=""0"" conditionEdge=""rising"">
                                     <ByValueCondition>
                                        <StoryboardElementStateCondition storyboardElementType=""event""
                                                                         storyboardElementRef=""FollowTrajectoryPLineEvent""
                                                                         state=""endTransition""/>
                                     </ByValueCondition>
                                  </Condition>
                               </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event maximumExecutionCount=""1"" name=""FollowTrajectoryNurbsEvent"" priority=""overwrite"">
                            <Action name=""FollowTrajectoryNurbsAction"">
                                <PrivateAction>
                                    <RoutingAction>
                                        <FollowTrajectoryAction>
                                            <Trajectory closed=""false"" name=""TrajectoryNurbs"">
                                                <ParameterDeclarations/>
                                                <Shape>
                                                    <Nurbs order=""3"">
                                                        <ControlPoint time=""0"" weight=""1"">
                                                            <Position>
                                                                <RelativeRoadPosition dt=""0"" ds=""0"" entityRef=""Target""/>
                                                            </Position>
                                                        </ControlPoint>
                                                        <ControlPoint time=""3"" weight=""1.2"">
                                                            <Position>
                                                                <RelativeLanePosition dLane=""0"" ds=""50"" entityRef=""Target"" offset=""20.0""/>
                                                            </Position>
                                                        </ControlPoint>
                                                        <ControlPoint time=""6.7"" weight=""0.7"">
                                                            <Position>
                                                                <RelativeLanePosition dLane=""-1"" ds=""100"" entityRef=""Target"" offset=""-10.0""/>
                                                            </Position>
                                                        </ControlPoint>
                                                        <ControlPoint time=""9.7"" weight=""1.0"">
                                                            <Position>
                                                                <RelativeLanePosition dLane=""-1"" ds=""180"" entityRef=""Target"" offset=""1.535""/>
                                                            </Position>
                                                        </ControlPoint>
                                                        <ControlPoint time=""12.2"" weight=""1.0"">
                                                            <Position>
                                                                <RelativeLanePosition dLane=""-1"" ds=""220"" entityRef=""Target"" offset=""0.0""/>
                                                            </Position>
                                                        </ControlPoint>
                                                        <Knot value=""0.0"" />
                                                        <Knot value=""0.0"" />
                                                        <Knot value=""0.0"" />
                                                        <Knot value=""0.3333"" />
                                                        <Knot value=""0.6667"" />
                                                        <Knot value=""1.0"" />
                                                        <Knot value=""1.0"" />
                                                        <Knot value=""1.0"" />
                                                    </Nurbs>
                                                </Shape>
                                            </Trajectory>
                                            <TimeReference>
                                                <Timing domainAbsoluteRelative=""relative"" offset=""0"" scale=""1""/>
                                            </TimeReference>
                                            <TrajectoryFollowingMode followingMode=""position""/>
                                        </FollowTrajectoryAction>
                                    </RoutingAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                               <ConditionGroup>
                                  <Condition name=""FollowTrajectory2Trigger"" delay=""0"" conditionEdge=""rising"">
                                     <ByValueCondition>
                                        <StoryboardElementStateCondition storyboardElementType=""event""
                                                                         storyboardElementRef=""FollowTrajectoryClothoidEvent""
                                                                         state=""endTransition""/>
                                     </ByValueCondition>
                                  </Condition>
                               </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event maximumExecutionCount=""1"" name=""AlignEvent"" priority=""overwrite"">
                            <Action name=""AlignHeadingAction"" >
                                <PrivateAction>
                                    <TeleportAction>
                                        <Position>
                                            <RelativeLanePosition entityRef=""$owner"" dLane=""0"" ds=""0"" >
                                                <Orientation type=""relative"" h=""0.0"" p=""0.0"" r=""0.0"" />
                                            </RelativeLanePosition>
                                        </Position>
                                    </TeleportAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                               <ConditionGroup>
                                  <Condition name=""AlignHeadingTrigger"" delay=""0"" conditionEdge=""rising"">
                                     <ByValueCondition>
                                        <StoryboardElementStateCondition storyboardElementType=""event""
                                                                         storyboardElementRef=""FollowTrajectoryNurbsEvent""
                                                                         state=""endTransition""/>
                                     </ByValueCondition>
                                  </Condition>
                               </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition conditionEdge=""rising"" delay=""0"" name=""starttrigger"">
                            <ByValueCondition>
                                <SimulationTimeCondition rule=""greaterThan"" value=""0""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
                <StopTrigger/>
            </Act>
        </Story>
        <StopTrigger>
           <ConditionGroup>
              <Condition name=""FollowTrajectory2Trigger"" delay=""5"" conditionEdge=""rising"">
                 <ByValueCondition>
                    <StoryboardElementStateCondition storyboardElementType=""event""
                                                     storyboardElementRef=""FollowTrajectoryNurbsEvent""
                                                     state=""endTransition""/>
                 </ByValueCondition>
              </Condition>
           </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Single truck vehicle, following trajectory
- Parameters: No parameters
- Actors: Truck (semi_truck_with_extra_trailer_rotating_axle)
- Road network: unknown","<?xml version=""1.0"" encoding=""UTF-8""?>
<!-- Demonstrate concept of rotating front axle of a truck trailer  -->
<OpenSCENARIO>
    <FileHeader revMajor=""1"" revMinor=""1"" date=""2023-09-11T10:00:00"" description=""Single truck vehicle, following trajectory"" author=""esmini-team""/>
    <ParameterDeclarations/>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <SceneGraphFile filepath=""../models/parking_lot.osgb""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Truck"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""semi_truck_with_extra_trailer_rotating_axle""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Truck"">
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsDimension=""time"" dynamicsShape=""linear"" value=""5""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""5""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                    <PrivateAction>
                        <RoutingAction>
                            <FollowTrajectoryAction>
                                <Trajectory closed=""false"" name=""TrajectoryNurbs"">
                                    <ParameterDeclarations/>
                                    <Shape>
                                        <Nurbs order=""3"">
                                            <ControlPoint weight=""1.0"">
                                                <Position>
                                                    <WorldPosition x=""20"" y=""0""/>
                                                </Position>
                                            </ControlPoint>
                                            <ControlPoint weight=""1.0"">
                                                <Position>
                                                    <WorldPosition x=""30"" y=""0""/>
                                                </Position>
                                            </ControlPoint>
                                            <ControlPoint weight=""1.0"">
                                                <Position>
                                                    <WorldPosition x=""60"" y=""30""/>
                                                </Position>
                                            </ControlPoint>
                                            <ControlPoint weight=""1.0"">
                                                <Position>
                                                    <WorldPosition x=""90"" y=""-30""/>
                                                </Position>
                                            </ControlPoint>
                                            <ControlPoint weight=""1.0"">
                                                <Position>
                                                    <WorldPosition x=""120"" y=""0""/>
                                                </Position>
                                            </ControlPoint>
                                            <ControlPoint weight=""1.0"">
                                                <Position>
                                                    <WorldPosition x=""150"" y=""0""/>
                                                </Position>
                                            </ControlPoint>
                                            <Knot value=""0.0""/>
                                            <Knot value=""0.0""/>
                                            <Knot value=""0.0""/>
                                            <Knot value=""0.25""/>
                                            <Knot value=""0.5""/>
                                            <Knot value=""0.75""/>
                                            <Knot value=""1.0""/>
                                            <Knot value=""1.0""/>
                                            <Knot value=""1.0""/>
                                        </Nurbs>
                                    </Shape>
                                </Trajectory>
                                <TimeReference>
                                    <None/>
                                </TimeReference>
                                <TrajectoryFollowingMode followingMode=""position""/>
                            </FollowTrajectoryAction>
                        </RoutingAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""MyStory"">
            <Act name=""DummyAct"">
                <ManeuverGroup maximumExecutionCount=""1"" name=""DummyManueverGroup"">
                    <Actors selectTriggeringEntities=""false""/>
                </ManeuverGroup>
                <StartTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition conditionEdge=""rising"" delay=""0"" name=""starttrigger"">
                    <ByValueCondition>
                        <SimulationTimeCondition rule=""greaterThan"" value=""38""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: 
- Parameters: InitialEgoS=70.0, InitialSpeed=15.0, InitialEgoS=70.0, InitialSpeed=15.0
- Actors: Ego (car_white), Target (car_red)
- Road network: ../xodr/two_plus_one.xodr","<?xml version=""1.0"" encoding=""utf-8""?>
<!-- Demonstrate and test 2+1 road (https://en.wikipedia.org/wiki/2%2B1_road) -->
<!-- A white car is driving with constant speed, set by init event -->
<!-- A red car is following, eager to overtake -->
<!-- As soon as an additional lane appears on the left side, the red car overtakes -->
<OpenSCENARIO>
    <FileHeader description="""" author=""esmini team"" revMajor=""1"" revMinor=""2"" date=""2023-05-29T07:09:07.929577""/>
    <ParameterDeclarations>
        <ParameterDeclaration name=""InitialEgoS"" parameterType=""double"" value=""70.0""/>
        <ParameterDeclaration name=""InitialSpeed"" parameterType=""double"" value=""15.0""/>
    </ParameterDeclarations>
    <CatalogLocations>
        <VehicleCatalog>
            <Directory path=""[[VEHICLE_CATALOG]]""/>
        </VehicleCatalog>
    </CatalogLocations>
    <RoadNetwork>
        <LogicFile filepath=""[[ROAD_NETWORK]]two_plus_one.xodr""/>
    </RoadNetwork>
    <Entities>
        <ScenarioObject name=""Ego"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_white""/>
        </ScenarioObject>
        <ScenarioObject name=""Target"">
            <CatalogReference catalogName=""VehicleCatalog"" entryName=""car_red""/>
        </ScenarioObject>
    </Entities>
    <Storyboard>
        <Init>
            <Actions>
                <Private entityRef=""Ego"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" s=""$InitialEgoS"" offset=""0.0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""1.0"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$InitialSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
                <Private entityRef=""Target"">
                    <PrivateAction>
                        <TeleportAction>
                            <Position>
                                <LanePosition roadId=""1"" laneId=""-1"" s=""${$InitialEgoS - 15}"" offset=""0.0""/>
                            </Position>
                        </TeleportAction>
                    </PrivateAction>
                    <PrivateAction>
                        <LongitudinalAction>
                            <SpeedAction>
                                <SpeedActionDynamics dynamicsShape=""step"" value=""1.0"" dynamicsDimension=""time""/>
                                <SpeedActionTarget>
                                    <AbsoluteTargetSpeed value=""$InitialSpeed""/>
                                </SpeedActionTarget>
                            </SpeedAction>
                        </LongitudinalAction>
                    </PrivateAction>
                </Private>
            </Actions>
        </Init>
        <Story name=""mystory"">
            <ParameterDeclarations/>
            <Act name=""Act"">
                <ManeuverGroup name=""ManeuverGroup"" maximumExecutionCount=""1"">
                    <Actors selectTriggeringEntities=""false"">
                        <EntityRef entityRef=""Target""/>
                    </Actors>
                    <Maneuver name=""Maneuver"">
                        <Event name=""OvertakeEvent"" priority=""override"" maximumExecutionCount=""1"">
                            <Action name=""IncreaseSpeed"">
                                <PrivateAction>
                                    <LongitudinalAction>
                                        <SpeedAction>
                                            <SpeedActionDynamics dynamicsShape=""linear"" value=""3.0"" dynamicsDimension=""time""/>
                                            <SpeedActionTarget>
                                                <AbsoluteTargetSpeed value=""${$InitialSpeed + 10}""/>
                                            </SpeedActionTarget>
                                        </SpeedAction>
                                    </LongitudinalAction>
                                </PrivateAction>
                            </Action>
                            <Action name=""OvertakeAction"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneChangeAction>
                                            <LaneChangeActionDynamics dynamicsShape=""cubic"" value=""3.5"" dynamicsDimension=""time""/>
                                            <LaneChangeTarget>
                                                <RelativeTargetLane entityRef=""Ego"" value=""1""/>
                                            </LaneChangeTarget>
                                        </LaneChangeAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""RelativeClearanceCondition"" delay=""0.0"" conditionEdge=""none"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""all"">
                                                <EntityRef entityRef=""Target""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <RelativeClearanceCondition distanceForward=""40"" distanceBackward=""20"" freeSpace=""false"" oppositeLanes=""false"">
                                                    <RelativeLaneRange from=""1"" to=""1""/>
                                                </RelativeClearanceCondition>
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                        <Event name=""CutInEvent"" priority=""override"" maximumExecutionCount=""1"">
                            <Action name=""LaneChangeRightAction"">
                                <PrivateAction>
                                    <LateralAction>
                                        <LaneChangeAction>
                                            <LaneChangeActionDynamics dynamicsShape=""cubic"" value=""2.5"" dynamicsDimension=""time""/>
                                            <LaneChangeTarget>
                                                <RelativeTargetLane entityRef=""Ego"" value=""0""/>
                                            </LaneChangeTarget>
                                        </LaneChangeAction>
                                    </LateralAction>
                                </PrivateAction>
                            </Action>
                            <StartTrigger>
                                <ConditionGroup>
                                    <Condition name=""DistanceCondition"" delay=""0.0"" conditionEdge=""none"">
                                        <ByEntityCondition>
                                            <TriggeringEntities triggeringEntitiesRule=""all"">
                                                <EntityRef entityRef=""Ego""/>
                                            </TriggeringEntities>
                                            <EntityCondition>
                                                <RelativeDistanceCondition 
                                                    entityRef=""Target"" 
                                                    freespace=""false"" 
                                                    rule=""greaterThan"" 
                                                    relativeDistanceType=""longitudinal""
                                                    value=""20.0"" />
                                            </EntityCondition>
                                        </ByEntityCondition>
                                    </Condition>
                                </ConditionGroup>
                            </StartTrigger>
                        </Event>
                    </Maneuver>
                </ManeuverGroup>
                <StartTrigger>
                    <ConditionGroup>
                        <Condition name=""starttrigger"" delay=""0.0"" conditionEdge=""rising"">
                            <ByValueCondition>
                                <SimulationTimeCondition value=""0.0"" rule=""greaterThan""/>
                            </ByValueCondition>
                        </Condition>
                    </ConditionGroup>
                </StartTrigger>
                <StopTrigger/>
            </Act>
        </Story>
        <StopTrigger>
            <ConditionGroup>
                <Condition name=""stop_simulation"" delay=""7.0"" conditionEdge=""none"">
                    <ByValueCondition>
                        <StoryboardElementStateCondition storyboardElementType=""event"" storyboardElementRef=""CutInEvent"" state=""runningState""/>
                    </ByValueCondition>
                </Condition>
            </ConditionGroup>
        </StopTrigger>
    </Storyboard>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Controller catalog
- Parameters: No parameters
- Actors: none
- Road network: unknown","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2020-10-24T10:00:00""
               description=""Controller catalog""
               author=""esmini-team""/>
    <Catalog name=""ControllerCatalog"">
        <Controller name=""sloppyDriver"">
            <ParameterDeclarations>
                <!-- Sloppiness recommended range [0.0 .. 1.0] -->
                <ParameterDeclaration name=""Sloppiness"" parameterType=""double"" value=""0.5"" />
                <ParameterDeclaration name=""Mode"" parameterType=""string"" value=""additive"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""SloppyDriverController"" />
                <Property name=""sloppiness"" value=""$Sloppiness"" />
                <Property name=""mode"" value=""$Mode"" />
            </Properties>
        </Controller>
        <Controller name=""interactiveDriver"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""SteeringRate"" parameterType=""double"" value=""4.0"" />
                <ParameterDeclaration name=""SpeedFactor"" parameterType=""double"" value=""1.0"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""InteractiveController"" />
                <Property name=""steeringRate"" value=""$SteeringRate"" />
                <Property name=""speedFactor"" value=""$SpeedFactor"" />
            </Properties>
        </Controller>
        <Controller name=""controllerRel2Abs"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""Horizon"" parameterType=""double"" value=""1.0"" />
                <ParameterDeclaration name=""ThresholdDist"" parameterType=""double"" value=""1.5"" />
                <ParameterDeclaration name=""ThresholdSpeed"" parameterType=""double"" value=""1.5"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""ControllerRel2Abs"" />
                <Property name=""horizon"" value=""$Horizon"" />
                <Property name=""thresholdDist"" value=""$ThresholdDist"" />
                <Property name=""thresholdSpeed"" value=""$ThresholdSpeed"" />
            </Properties>
        </Controller>
        <Controller name=""externalController"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""UseGhost"" parameterType=""boolean"" value=""false"" />
                <ParameterDeclaration name=""HeadStartTime"" parameterType=""double"" value=""3"" />
                <ParameterDeclaration name=""Mode"" parameterType=""string"" value=""override"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""ExternalController"" />
                <Property name=""useGhost"" value=""$UseGhost"" />
                <Property name=""headstartTime"" value=""$HeadStartTime"" />
                <Property name=""mode"" value=""$Mode"" />
            </Properties>
        </Controller>
        <Controller name=""externalControllerWithGhost"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""UseGhost"" parameterType=""boolean"" value=""true"" />
                <ParameterDeclaration name=""HeadStartTime"" parameterType=""double"" value=""3"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""ExternalController"" />
                <Property name=""useGhost"" value=""$UseGhost"" />
                <Property name=""headstartTime"" value=""$HeadStartTime"" />
            </Properties>
        </Controller>
        <Controller name=""externalControllerWithGhost5s"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""UseGhost"" parameterType=""boolean"" value=""true"" />
                <ParameterDeclaration name=""HeadStartTime"" parameterType=""double"" value=""5"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""ExternalController"" />
                <Property name=""useGhost"" value=""$UseGhost"" />
                <Property name=""headstartTime"" value=""$HeadStartTime"" />
            </Properties>
        </Controller>
        <Controller name=""externalControllerWithGhost10s"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""UseGhost"" parameterType=""boolean"" value=""true"" />
                <ParameterDeclaration name=""HeadStartTime"" parameterType=""double"" value=""10"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""ExternalController"" />
                <Property name=""useGhost"" value=""$UseGhost"" />
                <Property name=""headstartTime"" value=""$HeadStartTime"" />
            </Properties>
        </Controller>
        <Controller name=""followGhost"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""HeadStartTime"" parameterType=""double"" value=""3"" />
                <!-- FollowModes: time (time offset), position (distance offset) -->
                <ParameterDeclaration name=""FollowMode"" parameterType=""double"" value=""time"" />
                <!-- LookaheadSpeed: Look ahead time for picking ghost speed -->
                <ParameterDeclaration name=""LookaheadSpeed"" parameterType=""double"" value=""0.1"" />
                <!-- MinLookaheadSpeed: Minimum look ahead for picking ghost speed -->
                <!-- Unit: time in time mode, distance in position mode -->
                <ParameterDeclaration name=""MinLookaheadSpeed"" parameterType=""double"" value=""0.1"" />
                <!-- LookaheadSteering: Look ahead time for picking ghost position for steering target -->
                <ParameterDeclaration name=""LookaheadSteering"" parameterType=""double"" value=""1.0"" />
                <!-- MinLookaheadSteering: Minimum look ahead for picking ghost position for steering target -->
                <!-- Unit: time in time mode, distance in position mode -->
                <ParameterDeclaration name=""MinLookaheadSteering"" parameterType=""double"" value=""0.1"" />
                <!-- SteeringSpeedInertia: How much steering is reduced by traveling speed (SteeringScale) -->
                <!-- Unit: multiplier -->
                <ParameterDeclaration name=""SteeringSpeedInertia"" parameterType=""double"" value=""0.02"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""FollowGhostController"" />
                <Property name=""headstartTime""  value=""$HeadStartTime"" />
                <Property name=""followMode""  value=""$FollowMode"" />
                <Property name=""lookaheadSpeed""  value=""$LookaheadSpeed"" />
                <Property name=""minLookaheadSpeed""  value=""$MinLookaheadSpeed"" />
                <Property name=""lookaheadSteering""  value=""$LookaheadSteering"" />
                <Property name=""minLookaheadSteering""  value=""$MinLookaheadSteering"" />
                <Property name=""steeringSpeedInertia""  value=""$SteeringSpeedInertia"" />
            </Properties>
        </Controller>
        <Controller name=""followRoute"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""MinDistForCollision"" parameterType=""double"" value=""10"" />
                <ParameterDeclaration name=""LaneChangeTime"" parameterType=""double"" value=""5"" />
                <ParameterDeclaration name=""TestMode"" parameterType=""boolean"" value=""false"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""FollowRouteController"" />
                <Property name=""minDistForCollision""  value=""$MinDistForCollision"" />
                <Property name=""laneChangeTime""  value=""$LaneChangeTime"" />
                <Property name=""testMode""  value=""$TestMode"" />
            </Properties>
        </Controller>
        <Controller name=""sumoController"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""CfgFile"" parameterType=""string"" value=""../sumo_inputs/e6mini.sumocfg"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""SumoController"" />
                <File filepath=""$CfgFile""/>
            </Properties>
        </Controller>
        <Controller name=""ACCController"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""SetSpeed"" parameterType=""double"" value=""50"" />
                <ParameterDeclaration name=""TimeGap"" parameterType=""double"" value=""1.5"" />
                <!-- Do not consider vehicles otside the lateral space specified by LateralDist -->
                <ParameterDeclaration name=""LateralDist"" parameterType=""double"" value=""5"" />
                <ParameterDeclaration name=""Mode"" parameterType=""string"" value=""additive"" />
                <!-- Virtual operation will only do calculations, assuming external regulation -->
                <ParameterDeclaration name=""Virtual"" parameterType=""boolean"" value=""false"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""ACCController"" />
                <Property name=""mode"" value=""$Mode"" />
                <Property name=""setSpeed""  value=""$SetSpeed"" />
                <Property name=""lateralDist""  value=""$LateralDist"" />
                <Property name=""timeGap""  value=""$TimeGap"" />
                <Property name=""virtual""  value=""$Virtual"" />
            </Properties>
        </Controller>
        <Controller name=""NaturalDriver"">
            <ParameterDeclarations>
                <!-- Desired distance to keep to target in front, rough freespace (IDM ""s0"") -->
                <ParameterDeclaration name=""DesiredDistance"" parameterType=""double"" value=""5""/>
                <!-- Desired speed that the vehicle  wants to keep (IDM ""v0"") [kph] -->
                <ParameterDeclaration name=""DesiredSpeed"" parameterType=""double"" value=""50""/>
                <!-- Duration of the lane change -->
                <ParameterDeclaration name=""LaneChangeDuration"" parameterType=""double"" value=""3""/>
                <!-- How far the vehicle should look ahead (and behind) for other vehicles -->
                <ParameterDeclaration name=""LookAheadDistance"" parameterType=""double"" value=""30""/>
                <!-- The vehicles comfortable deceleration (IDM ""b"") -->
                <ParameterDeclaration name=""MaxDec"" parameterType=""double"" value=""-4.0""/>
                <!-- The vehicles maximum acceleration (IDM ""a"") -->
                <ParameterDeclaration name=""MaxAcc"" parameterType=""double"" value=""2.0""/>
                <!-- The time the vehicle has to wait before initating another lane change -->
                <ParameterDeclaration name=""LaneChangeDelay"" parameterType=""double"" value=""5.0""/>
                <!-- The minimum possible time to the car in front (IDM ""T"") -->
                <ParameterDeclaration name=""Thw"" parameterType=""double"" value=""1.5""/>
                <!-- How much predicted braking is acceptable to impose to neighbor vehicle if doing a lane-change -->
                <ParameterDeclaration name=""MaxImposedBraking"" parameterType=""double"" value=""3.0""/>
                <!-- How much can the vehicle accelerate if changing lane -->
                <ParameterDeclaration name=""LaneChangeAccGain"" parameterType=""double"" value=""0.3""/>
                <!-- Scaling factor for imposed acceleration, acceleration gain if doing a lane-change -->
                <ParameterDeclaration name=""Politeness"" parameterType=""double"" value=""0.1""/>
                <!-- Which lane-id to aim to keep -->
                <ParameterDeclaration name=""Route"" parameterType=""integer"" value=""-2""/>
            </ParameterDeclarations>
            <Properties>
                <Property name=""desiredDistance"" value=""$DesiredDistance"" />
                <Property name=""desiredSpeed"" value=""$DesiredSpeed""/>
                <Property name=""laneChangeDuration"" value=""$LaneChangeDuration"" />
                <Property name=""lookAheadDistance"" value=""$LookAheadDistance"" />
                <Property name=""maxDec"" value=""$MaxDec"" />
                <Property name=""maxAcc"" value=""$MaxAcc"" />
                <Property name=""laneChangeDelay"" value=""$LaneChangeDelay"" />
                <Property name=""thw"" value=""$Thw"" />
                <Property name=""maxImposedBraking"" value=""$MaxImposedBraking"" />
                <Property name=""laneChangeAccGain"" value=""$LaneChangeAccGain"" />
                <Property name=""politeness"" value=""$Politeness"" />
                <Property name=""route"" value=""$Route"" />
                <Property name=""mode"" value=""override"" />
            </Properties>
        </Controller>
        <Controller name=""ALKSController"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""SetSpeed"" parameterType=""double"" value=""50"" />
                <ParameterDeclaration name=""TimeGap"" parameterType=""double"" value=""1.5"" />
                <ParameterDeclaration name=""Mode"" parameterType=""string"" value=""additive"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""mode"" value=""$Mode"" />
                <Property name=""setSpeed""  value=""$SetSpeed"" />
                <Property name=""timeGap""  value=""$TimeGap"" />
            </Properties>
        </Controller>
        <Controller name=""ECE_ALKS_RefDriverController"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""Logging"" parameterType=""boolean"" value=""false"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""logging"" value=""$Logging"" />
            </Properties>
        </Controller>
        <Controller name=""ALKS_R157SM_Controller"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""Mode"" parameterType=""string"" value=""additive"" />
                <!-- logLevel: 0 (none), 1 (log), 2 (log + debug) -->
                <ParameterDeclaration name=""LogLevel"" parameterType=""integer"" value=""1"" />
                <!-- models: Regulation, ReferenceDriver, FSM, RSS -->
                <ParameterDeclaration name=""Model"" parameterType=""string"" value=""ReferenceDriver"" />
                <!-- cruise: false (no adaptive cruise control), true (use adaptive cruise control) -->
                <ParameterDeclaration name=""Cruise"" parameterType=""boolean"" value=""true"" />
                <!-- perceptionDelayMode: Dist (0.72m), Time (0.4s default) (only applicable to ReferenceDriver) -->
                <!-- time 0.4s can be overriden for pedestrians by setting PedestrianRiskEvaluationTime -->
                <ParameterDeclaration name=""CutInPerceptionDelayMode"" parameterType=""string"" value=""Dist"" />
                <!-- fullStop: ""true"" = decelerate to a full stop, ""false"" = decelerate until safe -->
                <ParameterDeclaration name=""FullStop"" parameterType=""boolean"" value=""false"" />
                <!-- alwaysTrigOnScenario: ""false"" = only act if critical, ""true"" = take action also outside critical zone -->
                <ParameterDeclaration name=""AlwaysTrigOnScenario"" parameterType=""boolean"" value=""false"" />
                <!-- pedestrianRiskEvaluationTime: Time to perceive/evaluate a risk involving a pedestrian (ref driver only) -->
                <ParameterDeclaration name=""PedestrianRiskEvaluationTime"" parameterType=""double"" value=""0.4"" />
                <!-- aebTTC: TTC at which to trig AEB (ref driver only) -->
                <ParameterDeclaration name=""AEBTTC"" parameterType=""double"" value=""1.4"" />
                <!-- lateralTrigDistance: Trig cut-in when obj moved this lateral distance towards Ego (ref driver only) -->
                <!-- set to > 0 to use instead of standard r157 ref driver cut-in trig condition -->
                <ParameterDeclaration name=""LateralTrigDistance"" parameterType=""double"" value=""0.0"" />
                <!-- overlapTolerance: Tolerance for overlap check between target object and Ego vehicle front (ref driver only) -->
                <ParameterDeclaration name=""OverlapTolerance"" parameterType=""double"" value=""0.1"" />
                <!-- driverDeceleration: Applied deceleration (m/s2) by the reference driver (ref driver only) -->
                <ParameterDeclaration name=""DriverDeceleration"" parameterType=""double"" value=""7.59294"" />
                <!-- aebDeceleration: Applied deceleration (m/s2) by the AEB as part of the reference driver model (ref driver only) -->
                <ParameterDeclaration name=""AEBDeceleration"" parameterType=""double"" value=""8.3385"" />
                <!-- aebAvailable: ""true"" = AEB available, ""false"" = AEB unavailable (ref driver only) -->
                <ParameterDeclaration name=""AEBAvailable"" parameterType=""boolean"" value=""true"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""mode"" value=""$Mode"" />
                <Property name=""logLevel"" value=""$LogLevel"" />
                <Property name=""model""  value=""$Model"" />
                <Property name=""cruise""  value=""$Cruise"" />
                <Property name=""cutInPerceptionDelayMode""  value=""$CutInPerceptionDelayMode"" />
                <Property name=""fullStop""  value=""$FullStop"" />
                <Property name=""alwaysTrigOnScenario""  value=""$AlwaysTrigOnScenario"" />
                <Property name=""pedestrianRiskEvaluationTime""  value=""$PedestrianRiskEvaluationTime"" />
                <Property name=""aebTTC""  value=""$AEBTTC"" />
                <Property name=""lateralTrigDistance""  value=""$LateralTrigDistance"" />
                <Property name=""overlapTolerance""  value=""$OverlapTolerance"" />
                <Property name=""driverDeceleration""  value=""$DriverDeceleration"" />
                <Property name=""aebDeceleration""  value=""$AEBDeceleration"" />
                <Property name=""aebAvailable""  value=""$AEBAvailable"" />
            </Properties>
        </Controller>
        <Controller name=""UDPDriverController"">
            <ParameterDeclarations>
                <!-- port: port number [1, 65535] OR 0 to pick automatically starting at basePort (see below) -->
                <!-- Default = 49950 -->
                <ParameterDeclaration name=""Port"" parameterType=""integer"" value=""0"" />
                <!-- basePort: Specify first port nr. Default = 49950 -->
                <!-- Since this value is used by all instances of the controller, the last -->
                <!-- occurence of this parameter is applied in case it's specified in -->
                <!-- multiple controllers -->
                <ParameterDeclaration name=""BasePort"" parameterType=""integer"" value=""49950"" />
                <!-- execModeasynchronus blocking: true = run as separate port number [1, 65535] port number of first instance, additional instances -->
                <!-- execMode: synchronous/asynchronous Default = asynchronous -->
                <!-- synchronous: wait for and read only one (oldest) message each timestep. Blocking with timeout 500 ms -->
                <!-- asynchronous: consume all received messages and ignore all but the latest. Non blocking (don't wait) -->
                <ParameterDeclaration name=""ExecMode"" parameterType=""string"" value=""asynchronous"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""port"" value=""$Port"" />
                <Property name=""basePort"" value=""$BasePort"" />
                <Property name=""execMode"" value=""$ExecMode"" />
            </Properties>
        </Controller>
        <Controller name=""offroadFollower"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""FollowEntity"" parameterType=""string"" value=""Ego"" />
                <ParameterDeclaration name=""TargetDistance"" parameterType=""double"" value=""20.0"" />
                <ParameterDeclaration name=""SteeringRate"" parameterType=""double"" value=""4.0"" />
                <ParameterDeclaration name=""SpeedFactor"" parameterType=""double"" value=""1.0"" />
            </ParameterDeclarations>
            <Properties>
                <Property name=""esminiController"" value=""OffroadFollower"" />
                <Property name=""followEntity"" value=""$FollowEntity"" />
                <Property name=""targetDistance"" value=""$TargetDistance"" />
                <Property name=""steeringRate"" value=""$SteeringRate"" />
                <Property name=""speedFactor"" value=""$SpeedFactor"" />
            </Properties>
        </Controller>
    </Catalog>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Overtake and accelerate
- Parameters: No parameters
- Actors: none
- Road network: unknown","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2019-12-04T10:00:00""
               description=""Overtake and accelerate""
               author=""Emil Knabe""/>
   <Catalog name=""HWManeuvers"">
      <Maneuver name=""Synchronize_NPC"">
         <ParameterDeclarations>
            <ParameterDeclaration name=""EgoTargetLaneId"" parameterType=""string"" value=""-3""/>
            <ParameterDeclaration name=""NPCTargetLaneId"" parameterType=""string"" value=""-2""/>
            <ParameterDeclaration name=""NPCFreeSpeed"" parameterType=""string"" value=""30""/>
            <ParameterDeclaration name=""MS1EgoS"" parameterType=""double"" value=""300""/>
            <ParameterDeclaration name=""MS2EgoS"" parameterType=""double"" value=""500""/>
            <ParameterDeclaration name=""MS1NPC"" parameterType=""double"" value=""100""/>
         </ParameterDeclarations>
         <Event name=""Synchronize_NPC_Event"" priority=""overwrite"">
            <Action name=""Synchronize_NPC_Action"">
				<PrivateAction>
					<SynchronizeAction masterEntityRef=""Ego"" targetToleranceMaster=""1.0"" targetTolerance=""1.0"">
						<TargetPositionMaster>
							<LanePosition roadId=""0"" laneId=""$EgoTargetLaneId"" offset=""0"" s=""$MS1EgoS"" />
						</TargetPositionMaster>    
						<TargetPosition>
							<LanePosition roadId=""0"" laneId=""$NPCTargetLaneId"" offset=""0"" s=""$MS1NPC"" />
						</TargetPosition>    
						<FinalSpeed>
							<RelativeSpeedToMaster speedTargetValueType=""delta"" value=""0"" />
						</FinalSpeed>
					</SynchronizeAction>
				</PrivateAction>
			</Action>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""Synchronize_NPC_Action_Condition""
                             delay=""0""
                             conditionEdge=""none"">
                     <ByValueCondition>
                        <StoryboardElementStateCondition storyboardElementType=""act""
                                                         storyboardElementRef=""Synchronize_Act""
                                                         state=""startTransition""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Event>
         <Event name=""Keep_Relative_Speed_Event_NPC"" priority=""overwrite"">
            <Action name=""Keep_Relative_Speed_Action_NPC"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""step"" dynamicsDimension=""time"" value=""0""/>
                        <SpeedActionTarget>
                           <RelativeTargetSpeed entityRef=""Ego""
                                                value=""0""
                                                speedTargetValueType=""delta""
                                                continuous=""true""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Action>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""Keep_Relative_Speed_Condition_NPC""
                             delay=""0""
                             conditionEdge=""none"">
                     <ByValueCondition>
                        <StoryboardElementStateCondition storyboardElementType=""event""
                                                         storyboardElementRef=""Synchronize_NPC_Event""
                                                         state=""completeState""/>
                     </ByValueCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Event>
         <Event name=""Free_Speed_Event_NPC"" priority=""overwrite"">
            <Action name=""Free_Speed_Action_NPC"">
               <PrivateAction>
                  <LongitudinalAction>
                     <SpeedAction>
                        <SpeedActionDynamics dynamicsShape=""sinusoidal""
                                             value=""$AccRate""
                                             dynamicsDimension=""rate""/>
                        <SpeedActionTarget>
                           <AbsoluteTargetSpeed value=""$NPCFreeSpeed""/>
                        </SpeedActionTarget>
                     </SpeedAction>
                  </LongitudinalAction>
               </PrivateAction>
            </Action>
            <StartTrigger>
               <ConditionGroup>
                  <Condition name=""Free_Speed_Condition_NPC"" delay=""0"" conditionEdge=""rising"">
                     <ByEntityCondition>
                        <TriggeringEntities triggeringEntitiesRule=""any"">
                           <EntityRef entityRef=""Ego""/>
                        </TriggeringEntities>
                        <EntityCondition>
                           <ReachPositionCondition tolerance=""5.0"">
                              <Position>
                                 <LanePosition roadId=""0"" laneId=""$EgoTargetLaneId"" s=""$MS2EgoS""/>
                              </Position>
                           </ReachPositionCondition>
                        </EntityCondition>
                     </ByEntityCondition>
                  </Condition>
               </ConditionGroup>
            </StartTrigger>
         </Event>
      </Maneuver>
   </Catalog>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: MiscObject Catalog
- Parameters: No parameters
- Actors: none
- Road network: unknown","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
    <FileHeader
        description=""MiscObject Catalog""
        revMajor=""1""
        revMinor=""1""
        date=""2024-12-17T08:00:00""
        author=""esmini"" />
    <Catalog name=""MiscObject"">
        <MiscObject name=""box"" mass=""1000"" miscObjectCategory=""obstacle"" model3d=""../models/box_cc_by.osgb"">
            <BoundingBox>
                <Center x=""0.0"" y=""0.0"" z=""0.5"" />
                <Dimensions width=""1.0"" length=""1.0"" height=""1.0"" />
            </BoundingBox>
            <Properties>
                <Property name=""scaleMode"" value=""ModelToBB"" />
                <Property name=""model_id"" value=""100"" />
            </Properties>
        </MiscObject>
        <MiscObject name=""wall"" mass=""100.0"" miscObjectCategory=""barrier"">
            <BoundingBox>
                <Center x=""0.0"" y=""0.0"" z=""2.0""/>
                <Dimensions height=""4"" length=""200"" width=""1""/>
            </BoundingBox>
            <Properties>
                <Property name=""model_id"" value=""101"" />
            </Properties>
        </MiscObject>
        <MiscObject name=""cone-45"" mass=""1"" miscObjectCategory=""obstacle"" model3d=""../models/cone-45.osgb"">
            <BoundingBox>
                <Center x=""0.0"" y=""0.0"" z=""0.225"" />
                <Dimensions width=""0.2"" length=""0.2"" height=""0.45"" />
            </BoundingBox>
            <Properties>
                <Property name=""scaleMode"" value=""ModelToBB"" />
                <Property name=""model_id"" value=""102"" />
            </Properties>
        </MiscObject>
        <MiscObject name=""cone-100"" mass=""1"" miscObjectCategory=""obstacle"" model3d=""../models/cone-100.osgb"">
            <BoundingBox>
                <Center x=""0.0"" y=""0.0"" z=""0.5"" />
                <Dimensions width=""0.4"" length=""0.4"" height=""1.0"" />
            </BoundingBox>
            <Properties>
                <Property name=""scaleMode"" value=""ModelToBB"" />
                <Property name=""model_id"" value=""103"" />
            </Properties>
        </MiscObject>
    </Catalog>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Pedestrian catalog
- Parameters: No parameters
- Actors: none
- Road network: unknown","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""1""
               date=""2020-10-06T17:00:00""
               description=""Pedestrian catalog""
               author=""esmini""/>
   <Catalog name=""PedestrianCatalog"">
      <Pedestrian mass=""80"" model=""EPTa"" name=""pedestrian_adult"" pedestrianCategory=""pedestrian"" model3d=""../models/walkman.osgb"">
         <ParameterDeclarations/>
         <BoundingBox>
            <Center x=""0.06"" y=""0.0"" z=""0.923""/>
            <Dimensions height=""1.8"" length=""0.6"" width=""0.5""/>
         </BoundingBox>
         <Properties>
            <Property name=""model_id"" value=""7""/>       
            <!-- Scale modes: None, BBToModel, ModelToBB -->
            <Property name=""scaleMode"" value=""BBToModel""/>  
         </Properties>
      </Pedestrian>
      <Pedestrian mass=""70"" model=""EPTa"" name=""pedestrian_adult2"" pedestrianCategory=""pedestrian"" model3d=""../models/walkman.osgb"">
         <ParameterDeclarations/>
         <BoundingBox>
            <Center x=""0.06"" y=""0.0"" z=""0.923""/>
            <Dimensions height=""1.8"" length=""0.6"" width=""0.5""/>
         </BoundingBox>
         <Properties>
            <Property name=""model_id"" value=""7""/>                    
            <!-- Scale modes: None, BBToModel, ModelToBB -->
            <Property name=""scaleMode"" value=""BBToModel""/>  
         </Properties>
      </Pedestrian>
      <Pedestrian mass=""80"" model=""moose-standard-model"" name=""moose"" pedestrianCategory=""animal"" model3d=""../models/moose_cc0.osgb"">
         <ParameterDeclarations/>
         <BoundingBox>
            <Center x=""0.06"" y=""0.0"" z=""0.923""/>
            <Dimensions height=""1.9"" length=""2.82"" width=""0.3""/>
         </BoundingBox>
         <Properties>
            <Property name=""model_id"" value=""8""/>            
            <!-- Scale modes: None, BBToModel, ModelToBB -->
            <Property name=""scaleMode"" value=""BBToModel""/>  
         </Properties>
      </Pedestrian>
   </Catalog>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: 
- Parameters: No parameters
- Actors: none
- Road network: unknown","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2020-05-16T17:00:00""
               author=""SimS""
               description=""""/>
   <Catalog name=""RoutesAtFabriksgatan"">
      <Route name=""TargetStraightLeftToRight"" closed=""false"">
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""3"" laneId=""-1"" offset=""0"" s=""70""/>
            </Position>
         </Waypoint>
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""5""/>
            </Position>
         </Waypoint>
      </Route>
      <Route name=""TargetLeftTurnRoute"" closed=""false"">
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""2"" laneId=""-1"" offset=""0"" s=""100""/>
            </Position>
         </Waypoint>
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""1"" laneId=""-1"" offset=""0"" s=""5""/>
            </Position>
         </Waypoint>
      </Route>
      <Route name=""TargetStraightRoute"" closed=""false"">
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""2"" laneId=""-1"" offset=""0"" s=""280""/>
            </Position>
         </Waypoint>
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""0"" laneId=""-1"" offset=""0"" s=""5""/>
            </Position>
         </Waypoint>
      </Route>
      <Route name=""HostStraightRoute"" closed=""false"">
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""0"" laneId=""1"" offset=""0"" s=""63""/>
            </Position>
         </Waypoint>
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""2"" laneId=""1"" offset=""0"" s=""5""/>
            </Position>
         </Waypoint>
      </Route>
   </Catalog>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: 
- Parameters: No parameters
- Actors: none
- Road network: unknown","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
   <FileHeader revMajor=""1""
               revMinor=""0""
               date=""2020-05-16T17:00:00""
               author=""SimS""
               description=""""/>
   <Catalog name=""RoutesAtMultiIntersections"">
      <Route name=""TargetStraightLeftToRight"" closed=""false"">
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""230"" laneId=""1"" offset=""0"" s=""100""/>
            </Position>
         </Waypoint>
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""229"" laneId=""-1"" offset=""0"" s=""100""/>
            </Position>
         </Waypoint>
      </Route>
      <Route name=""HostStraightRoute"" closed=""false"">
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""242"" laneId=""1"" offset=""0"" s=""100""/>
            </Position>
         </Waypoint>
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""235"" laneId=""-1"" offset=""0"" s=""100""/>
            </Position>
         </Waypoint>
      </Route>
      <Route name=""ComplexRoute"" closed=""false"">
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""242"" laneId=""1"" offset=""0"" s=""100""/>
            </Position>
         </Waypoint>
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""261"" laneId=""1"" offset=""0"" s=""50""/>
            </Position>
         </Waypoint>
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""222"" laneId=""-1"" offset=""0"" s=""20""/>
            </Position>
         </Waypoint>
         <Waypoint routeStrategy=""shortest"">
            <Position>
               <LanePosition roadId=""197"" laneId=""-1"" offset=""0"" s=""20""/>
            </Position>
         </Waypoint>
      </Route>
   </Catalog>
</OpenSCENARIO>"
"Generate OpenSCENARIO XML for:
- Scenario: Vehicle catalog
- Parameters: No parameters
- Actors: none
- Road network: unknown","<?xml version=""1.0"" encoding=""UTF-8""?>
<OpenSCENARIO>
    <FileHeader revMajor=""1""
                revMinor=""3""
                date=""2024-08-14T10:00:00""
                description=""Vehicle catalog""
                author=""esmini team""/>

    <!-- Cars -->

    <Catalog name=""VehicleCatalog"">

        <Vehicle name=""car_white"" vehicleCategory=""car"" model3d=""../models/car_white.osgb"">
            <!-- model bounding box xyz: 1.46, 0.00, 0.77 lwh: 5.04, 2.04, 1.49 -->
            <ParameterDeclarations>
                <ParameterDeclaration name=""EgoModelId"" parameterType=""integer"" value=""0""/>
                <ParameterDeclaration name=""ScaleMode"" parameterType=""string"" value=""None""/>
                <ParameterDeclaration name=""TrailerRef"" parameterType=""string"" value=""""/>
                <ParameterDeclaration name=""MaxSpeed"" parameterType=""double"" value=""${250/3.6}""/>
                <ParameterDeclaration name=""MaxDeceleration"" parameterType=""double"" value=""10""/>
                <ParameterDeclaration name=""MaxAcceleration"" parameterType=""double"" value=""5""/>
            </ParameterDeclarations>
            <BoundingBox>
                <Center x=""1.4"" y=""0.0"" z=""0.75""/>
                <Dimensions width=""2.0"" length=""5.04"" height=""1.5""/>
            </BoundingBox>
            <Performance maxSpeed=""$MaxSpeed"" maxDeceleration=""$MaxDeceleration"" maxAcceleration=""$MaxAcceleration""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <TrailerHitch dx=""-1.2""/>
            <Trailer>
                <TrailerRef entityRef=""$TrailerRef""/>
            </Trailer>
            <Properties>
                <Property name=""model_id"" value=""$EgoModelId""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""$ScaleMode""/>
            </Properties>
        </Vehicle>

       <Vehicle name=""car_blue"" vehicleCategory=""car"" model3d=""../models/car_blue.osgb"">
            <!-- model bounding box xyz: 1.46, 0.00, 0.77 lwh: 5.04, 2.04, 1.49 -->
            <ParameterDeclarations>
                <ParameterDeclaration name=""DimX"" parameterType=""double"" value=""4.5""/>
                <ParameterDeclaration name=""DimY"" parameterType=""double"" value=""1.8""/>
                <ParameterDeclaration name=""DimZ"" parameterType=""double"" value=""1.5""/>
                <ParameterDeclaration name=""MaxSpeed"" parameterType=""double"" value=""69""/>
                <ParameterDeclaration name=""MaxDeceleration"" parameterType=""double"" value=""10""/>
                <ParameterDeclaration name=""MaxAcceleration"" parameterType=""double"" value=""5""/>
                <ParameterDeclaration name=""ScaleMode"" parameterType=""string"" value=""ModelToBB""/>
            </ParameterDeclarations>
            <BoundingBox>
                <Center x=""1.3"" y=""0.0"" z=""0.75""/>
                <Dimensions width=""$DimY"" length=""$DimX"" height=""$DimZ""/>
            </BoundingBox>
                <Performance maxSpeed=""$MaxSpeed"" maxDeceleration=""$MaxDeceleration"" maxAcceleration=""$MaxAcceleration""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <Properties>
                <Property name=""model_id"" value=""1""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""$ScaleMode""/>
                <Property name=""dummy"" value=""2""/>
                <Property name=""superdummy"" value=""3""/>
            </Properties>
        </Vehicle>

        <Vehicle name=""car_red"" vehicleCategory=""car"" model3d=""../models/car_red.osgb"">
            <!-- model bounding box xyz: 1.46, 0.00, 0.77 lwh: 5.04, 2.04, 1.49 -->
            <ParameterDeclarations>
                <ParameterDeclaration name=""MaxSpeed"" parameterType=""double"" value=""70.0""/>
                <ParameterDeclaration name=""MaxDeceleration"" parameterType=""double"" value=""10""/>
                <ParameterDeclaration name=""MaxAcceleration"" parameterType=""double"" value=""5""/>
                <ParameterDeclaration name=""ScaleMode"" parameterType=""string"" value=""BBToModel""/>
            </ParameterDeclarations>
            <BoundingBox>
                <Center x=""1.45"" y=""0.0"" z=""0.75""/>
                <Dimensions width=""2.0"" length=""5.04"" height=""1.5""/>
            </BoundingBox>
            <Performance maxSpeed=""$MaxSpeed"" maxDeceleration=""$MaxDeceleration"" maxAcceleration=""$MaxAcceleration""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <Properties>
                <Property name=""model_id"" value=""2""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""$ScaleMode""/>
            </Properties>
        </Vehicle>

        <Vehicle name=""car_yellow"" vehicleCategory=""car"" model3d=""../models/car_yellow.osgb"">
            <!-- model bounding box xyz: 1.46, 0.00, 0.77 lwh: 5.04, 2.04, 1.49 -->
            <BoundingBox>
                <Center x=""1.6"" y=""0.0"" z=""0.75""/>
                <Dimensions width=""2.5"" length=""6.04"" height=""1.5""/>
            </BoundingBox>
            <Performance maxSpeed=""70"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <Properties>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""ModelToBB""/>
                <Property name=""model_id"" value=""3""/>
            </Properties>
        </Vehicle>

        <!-- Other basic vehicle types -->

        <Vehicle name=""truck_yellow"" vehicleCategory=""van"" model3d=""../models/truck_yellow.osgb"">
            <!-- model bounding box xyz: 1.63, 0.00, 1.06 lwh: 5.65, 1.91, 2.11 -->
            <BoundingBox>
                <Center x=""1.3"" y=""0.0"" z=""0.8""/>
                <Dimensions width=""1.7"" length=""4.0"" height=""1.5""/>
            </BoundingBox>
            <Performance maxSpeed=""70"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <Properties>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""BBToModel""/>
                <Property name=""model_id"" value=""4""/>
            </Properties>
        </Vehicle>

        <Vehicle name=""van_red"" vehicleCategory=""van"" model3d=""../models/van_red.osgb"">
            <!-- model bounding box xyz: 1.64, 0.00, 1.11 lwh: 5.71, 1.90, 2.16 -->
            <BoundingBox>
                <Center x=""1.3"" y=""0.0"" z=""0.8""/>
                <Dimensions width=""1.8"" length=""4.5"" height=""1.5""/>
            </BoundingBox>
            <Performance maxSpeed=""70"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <Properties>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""BBToModel""/>
                <Property name=""model_id"" value=""5""/>
            </Properties>
        </Vehicle>

        <Vehicle name=""bus_blue"" vehicleCategory=""bus"" model3d=""../models/bus_blue.osgb"">
            <!-- model bounding box xyz: 2.55, 0.00, 1.41 lwh: 12.01, 2.60, 2.75 -->
            <BoundingBox>
                <Center x=""1.3"" y=""0.0"" z=""0.8""/>
                <Dimensions width=""1.8"" length=""4.5"" height=""1.5""/>
            </BoundingBox>
            <Performance maxSpeed=""70"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <Properties>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""BBToModel""/>
                <Property name=""model_id"" value=""6""/>
            </Properties>
        </Vehicle>

        <Vehicle name=""bicycle"" vehicleCategory=""bicycle"" model3d=""../models/cyclist.osgb"">
            <!-- model bounding box xyz: 0.54, 0.01, 0.82 lwh: 1.83, 0.25, 1.58 -->
            <BoundingBox>
                <Center x=""0.5"" y=""0"" z=""0.85""/>
                <Dimensions width=""0.5"" length=""1.8"" height=""1.7""/>
            </BoundingBox>
            <Performance maxSpeed=""40"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""30"" wheelDiameter=""0.7"" trackWidth=""0.7"" positionX=""2.7"" positionZ=""0.35""/>
                <RearAxle maxSteering=""30"" wheelDiameter=""0.7"" trackWidth=""0.7"" positionX=""0"" positionZ=""0.35""/>
            </Axles>
            <Properties>
                <Property name=""model_id"" value=""9""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""BBToModel""/>
            </Properties>
        </Vehicle>

        <Vehicle name=""motorbike"" vehicleCategory=""motorbike"" model3d=""../models/mc.osgb"">
            <!-- model bounding box xyz: 0.76, 0.00, 0.77 lwh: 2.39, 0.40, 1.55 -->
            <BoundingBox>
                <Center x=""1"" y=""0"" z=""0.85""/>
                <Dimensions width=""0.5"" length=""2.5"" height=""1.7""/>
            </BoundingBox>
            <Performance maxSpeed=""100"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""30"" wheelDiameter=""0.7"" trackWidth=""0.7"" positionX=""2.7"" positionZ=""0.35""/>
                <RearAxle maxSteering=""30"" wheelDiameter=""0.7"" trackWidth=""0.7"" positionX=""0"" positionZ=""0.35""/>
            </Axles>
            <Properties>
                <Property name=""model_id"" value=""10""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""BBToModel""/>
            </Properties>
        </Vehicle>

        <Vehicle name=""scooter"" vehicleCategory=""motorbike"" model3d=""../models/scooter.osgb"">
            <!-- model bounding box xyz: 0.76, 0.00, 0.77 lwh: 1.63, 0.63, 1.57 -->
            <BoundingBox>
                <Center x=""0.615"" y=""0"" z=""0.785""/>
                <Dimensions width=""0.63"" length=""1.63"" height=""1.57""/>
            </BoundingBox>
            <Performance maxSpeed=""100"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""1.0"" wheelDiameter=""0.4"" trackWidth=""0.0"" positionX=""1.23"" positionZ=""0.2""/>
                <RearAxle maxSteering=""0.0"" wheelDiameter=""0.4"" trackWidth=""0.0"" positionX=""0"" positionZ=""0.2""/>
            </Axles>
            <Properties>
                <Property name=""model_id"" value=""20""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""None""/>
            </Properties>
        </Vehicle>

        <!-- Truck tractor only (no trailer) -->
        <Vehicle name=""semi_tractor"" vehicleCategory=""truck"" model3d=""../models/semi_tractor.osgb"">
            <!-- model bounding box xyz: 2.20, -0.00, 1.68 lwh: 5.70, 2.60, 3.36 -->
            <ParameterDeclarations>
                <ParameterDeclaration name=""TrailerRef"" parameterType=""string"" value=""""/>
                <ParameterDeclaration name=""MaxAcceleration"" parameterType=""double"" value=""4.0""/>
                <ParameterDeclaration name=""MaxDeceleration"" parameterType=""double"" value=""10.0""/>
            </ParameterDeclarations>
            <BoundingBox>
                <Center x=""2.2"" y=""0.0"" z=""1.68""/>
                <Dimensions width=""2.6"" length=""5.7"" height=""3.36""/>
            </BoundingBox>
            <Performance maxSpeed=""${150/3.6}"" maxDeceleration=""$MaxDeceleration"" maxAcceleration=""$MaxAcceleration""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <TrailerHitch dx=""1.0""/>
            <Trailer>
                <TrailerRef entityRef=""$TrailerRef""/>
            </Trailer>
            <Properties>
                <Property name=""model_id"" value=""12""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""None""/>
            </Properties>
        </Vehicle>

        <!-- Car trailer only (no towing vehicle) -->
        <Vehicle name=""car_trailer"" vehicleCategory=""trailer"" model3d=""../models/car_trailer.osgb"">
            <!-- model bounding box xyz: 0.87, 0.00, 0.61 lwh: 4.94, 2.06, 1.22 -->
            <BoundingBox>
                <Center x=""1.4"" y=""0.0"" z=""0.75""/>
                <Dimensions width=""2.0"" length=""4.5"" height=""1.2""/>
            </BoundingBox>
            <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.7"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.35""/>
            </Axles>
            <TrailerCoupler dx=""3.25""/>
            <Properties>
                <Property name=""model_id"" value=""11""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""BBToModel""/>
            </Properties>
        </Vehicle>

        <!-- Truck trailer only (no towing vehicle) -->
        <Vehicle name=""truck_trailer"" vehicleCategory=""trailer"" model3d=""../models/truck_trailer.osgb"">
            <!-- model bounding box xyz: 3.06, 0.00, 1.77 lwh: 11.23, 2.60, 3.54 -->
            <ParameterDeclarations>
                <ParameterDeclaration name=""TrailerRef"" parameterType=""string"" value=""""/>
            </ParameterDeclarations>
            <BoundingBox>
                <Center x=""3.06"" y=""0.0"" z=""1.77""/>
                <Dimensions width=""2.6"" length=""11.23"" height=""3.54""/>
            </BoundingBox>
            <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <TrailerCoupler dx=""9.5""/>
            <TrailerHitch dx=""-2.7""/>
            <Trailer>
                <TrailerRef entityRef=""$TrailerRef""/>
            </Trailer>
            <Properties>
                <Property name=""model_id"" value=""14""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""BBToModel""/>
            </Properties>
        </Vehicle>

        <!-- Truck semi-trailer only (no tractor or other tow vehicle) -->
        <Vehicle name=""semi_trailer"" vehicleCategory=""trailer"" model3d=""../models/semi_trailer.osgb"">
            <!-- model bounding box xyz: 2.56, 0.00, 1.77 lwh: 11.23, 2.60, 3.54 -->
            <ParameterDeclarations>
                <ParameterDeclaration name=""TrailerRef"" parameterType=""string"" value=""""/>
            </ParameterDeclarations>
            <BoundingBox>
                <Center x=""2.56"" y=""0.0"" z=""1.77""/>
                <Dimensions width=""2.6"" length=""11.23"" height=""3.54""/>
            </BoundingBox>
            <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <TrailerCoupler dx=""7.0""/>
            <TrailerHitch dx=""-3.2""/>
            <Trailer>
                <TrailerRef entityRef=""$TrailerRef""/>
            </Trailer>
            <Properties>
                <Property name=""model_id"" value=""13""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""None""/>
            </Properties>
        </Vehicle>


        <!-- Vehicle combinations: Car or truck with one or multiple trailers -->

        <!-- Car + trailer - inline trailer definition -->
        <Vehicle name=""car_white_with_trailer"" vehicleCategory=""car"" model3d=""../models/car_white.osgb"">
            <ParameterDeclarations/>
            <BoundingBox>
                <Center x=""1.4"" y=""0.0"" z=""0.75""/>
                <Dimensions width=""2.0"" length=""5.04"" height=""1.5""/>
            </BoundingBox>
            <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <TrailerHitch dx=""-1.2""/>
            <Trailer>
                <Trailer name=""car_trailer"">
                    <Vehicle name=""car_trailer"" vehicleCategory=""trailer"" model3d=""../models/car_trailer.osgb"">
                        <BoundingBox>
                            <Center x=""1.4"" y=""0.0"" z=""0.75""/>
                            <Dimensions width=""2.0"" length=""4.5"" height=""1.2""/>
                        </BoundingBox>
                        <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
                        <Axles>
                            <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.7"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.35""/>
                        </Axles>
                        <TrailerCoupler dx=""3.25""/>
                        <Properties>
                            <Property name=""model_id"" value=""11""/>
                            <!-- Scale modes: None, BBToModel, ModelToBB -->
                            <Property name=""scaleMode"" value=""BBToModel""/>
                        </Properties>
                    </Vehicle>
                </Trailer>
            </Trailer>
            <Properties>
                <Property name=""model_id"" value=""0""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""BBToModel""/>
            </Properties>
        </Vehicle>

        <!-- Tractor + Semi-trailer - trailer defined by catalog reference -->
        <Vehicle name=""semi_truck"" vehicleCategory=""truck"" model3d=""../models/semi_tractor.osgb"">
            <!-- model bounding box xyz: 2.20, 0.00, 1.68 lwh: 5.70, 2.60, 3.36 -->
            <BoundingBox>
                <Center x=""2.20"" y=""0.0"" z=""1.68""/>
                <Dimensions width=""2.6"" length=""5.70"" height=""3.36""/>
            </BoundingBox>
            <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <TrailerHitch dx=""1.0""/>
            <Trailer>
                <Trailer name=""trailer"">
                    <CatalogReference catalogName=""VehicleCatalog"" entryName=""semi_trailer""/>
                </Trailer>
            </Trailer>
            <Properties>
                <Property name=""model_id"" value=""12""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""None""/>
            </Properties>
        </Vehicle>

        <!-- Truck trailer rotating front axle only -->
        <Vehicle name=""truck_trailer_front_axle"" vehicleCategory=""trailer"" model3d=""../models/truck_trailer_rotating_axle.osgb"">
            <ParameterDeclarations>
                <ParameterDeclaration name=""TrailerRef"" parameterType=""string"" value=""""/>
            </ParameterDeclarations>
            <BoundingBox>
                <Center x=""0.0"" y=""0.0"" z=""0.6""/>
                <Dimensions width=""2.6"" length=""3.0"" height=""1.2""/>
            </BoundingBox>
            <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <TrailerCoupler dx=""2.5""/>
            <TrailerHitch dx=""0.0""/>
            <Trailer>
                <TrailerRef entityRef=""$TrailerRef""/>
            </Trailer>
            <Properties>
                <Property name=""model_id"" value=""19""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""None""/>
            </Properties>
        </Vehicle>

        <!-- Tractor + Semi-trailer + Trailer -->
        <Vehicle name=""semi_truck_with_extra_trailer"" vehicleCategory=""truck"" model3d=""../models/semi_tractor.osgb"">
            <!-- tractor model bounding box xyz: 2.20, 0.00, 1.68 lwh: 5.70, 2.60, 3.36 -->  
            <BoundingBox>
                <Center x=""2.20"" y=""0.0"" z=""1.68""/>
                <Dimensions width=""2.6"" length=""5.70"" height=""3.36""/>
            </BoundingBox>
            <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <TrailerHitch dx=""1.0""/>
            <Trailer>
                <Trailer name=""semi_trailer"">
                    <Vehicle name=""semi_trailer"" vehicleCategory=""trailer"" model3d=""../models/semi_trailer.osgb"">
                        <!-- trailer model bounding box xyz: 2.56, 0.00, 1.77 lwh: 11.23, 2.60, 3.54 -->
                        <ParameterDeclarations/>
                        <BoundingBox>
                            <Center x=""2.56"" y=""0.0"" z=""1.77""/>
                            <Dimensions width=""2.6"" length=""11.23"" height=""3.54""/>
                        </BoundingBox>
                        <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
                        <Axles>
                            <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                            <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
                        </Axles>
                        <TrailerCoupler dx=""7.0""/>
                        <TrailerHitch dx=""-3.2""/>
                        <Trailer>
                            <Trailer name=""truck_trailer"">
                                <Vehicle name=""truck_trailer"" vehicleCategory=""trailer"" model3d=""../models/truck_trailer.osgb"">
                                    <!-- trailer model bounding box xyz: 3.06, 0.00, 1.77 lwh: 11.23, 2.60, 3.54 -->
                                    <ParameterDeclarations/>
                                    <BoundingBox>
                                        <Center x=""3.06"" y=""0.0"" z=""1.77""/>
                                        <Dimensions width=""2.6"" length=""11.23"" height=""3.54""/>
                                    </BoundingBox>
                                    <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
                                    <Axles>
                                        <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                                        <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
                                    </Axles>
                                    <TrailerCoupler dx=""9.5""/>
                                    <Properties>
                                        <Property name=""model_id"" value=""14""/>
                                        <!-- Scale modes: None, BBToModel, ModelToBB -->
                                        <Property name=""scaleMode"" value=""None""/>
                                    </Properties>
                                </Vehicle>
                            </Trailer>
                        </Trailer>
                        <Properties>
                            <Property name=""model_id"" value=""13""/>
                            <!-- Scale modes: None, BBToModel, ModelToBB -->
                            <Property name=""scaleMode"" value=""None""/>
                        </Properties>
                    </Vehicle>
                </Trailer>
            </Trailer>
            <Properties>
                <Property name=""model_id"" value=""12""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""None""/>
            </Properties>
        </Vehicle>

        <!-- Tractor + Semi-trailer + Trailer with rotating axle -->
        <Vehicle name=""semi_truck_with_extra_trailer_rotating_axle"" vehicleCategory=""truck"" model3d=""../models/semi_tractor.osgb"">
            <!-- tractor model bounding box xyz: 2.20, 0.00, 1.68 lwh: 5.70, 2.60, 3.36 -->  
            <BoundingBox>
                <Center x=""2.20"" y=""0.0"" z=""1.68""/>
                <Dimensions width=""2.6"" length=""5.70"" height=""3.36""/>
            </BoundingBox>
            <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <TrailerHitch dx=""1.0""/>
            <Trailer>
                <Trailer name=""semi_trailer"">
                    <Vehicle name=""semi_trailer"" vehicleCategory=""trailer"" model3d=""../models/semi_trailer.osgb"">
                        <!-- model bounding box xyz: 2.56, 0.00, 1.77 lwh: 11.23, 2.60, 3.54 -->
                        <ParameterDeclarations/>
                        <BoundingBox>
                            <Center x=""2.56"" y=""0.0"" z=""1.77""/>
                            <Dimensions width=""2.6"" length=""11.23"" height=""3.54""/>
                        </BoundingBox>
                        <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
                        <Axles>
                            <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                            <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
                        </Axles>
                        <TrailerCoupler dx=""7.0""/>
                        <TrailerHitch dx=""-3.2""/>
                        <Trailer>
                            <Trailer name=""truck_trailer_front_axle"">
                                <Vehicle name=""truck_trailer_front_axle"" vehicleCategory=""trailer"" model3d=""../models/trailer_rotating_axle.osgb"">
                                    <ParameterDeclarations>
                                        <ParameterDeclaration name=""TrailerRef"" parameterType=""string"" value=""""/>
                                        <ParameterDeclaration name=""TrailerCatalogRef"" parameterType=""string"" value=""""/>
                                    </ParameterDeclarations>
                                    <BoundingBox>
                                        <Center x=""0.0"" y=""0.0"" z=""0.6""/>
                                        <Dimensions width=""2.6"" length=""3.0"" height=""1.2""/>
                                    </BoundingBox>
                                    <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
                                    <Axles>
                                        <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                                        <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
                                    </Axles>
                                    <TrailerCoupler dx=""2.8""/>
                                    <TrailerHitch dx=""-0.2""/>
                                    <Trailer>
                                        <Trailer name=""truck_trailer"">
                                            <Vehicle name=""truck_trailer"" vehicleCategory=""trailer"" model3d=""../models/semi_trailer.osgb"">
                                                <!-- model bounding box xyz: 2.56, -0.00, 1.77 lwh: 11.23, 2.60, 3.54 -->
                                                <ParameterDeclarations/>
                                                <BoundingBox>
                                                    <Center x=""2.56"" y=""0.0"" z=""1.77""/>
                                                    <Dimensions width=""2.6"" length=""11.23"" height=""3.54""/>
                                                </BoundingBox>
                                                <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
                                                <Axles>
                                                    <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                                                    <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
                                                </Axles>
                                                <TrailerCoupler dx=""6.5""/>
                                                <Properties>
                                                    <Property name=""model_id"" value=""14""/>
                                                    <!-- Scale modes: None, BBToModel, ModelToBB -->
                                                    <Property name=""scaleMode"" value=""BBToModel""/>
                                                </Properties>
                                            </Vehicle>
                                        </Trailer>
                                    </Trailer>
                                    <Properties>
                                        <Property name=""model_id"" value=""19""/>
                                        <!-- Scale modes: None, BBToModel, ModelToBB -->
                                        <Property name=""scaleMode"" value=""None""/>
                                    </Properties>
                                </Vehicle>
                            </Trailer>
                        </Trailer>
                        <Properties>
                            <Property name=""model_id"" value=""13""/>
                            <!-- Scale modes: None, BBToModel, ModelToBB -->
                            <Property name=""scaleMode"" value=""None""/>
                        </Properties>
                    </Vehicle>
                </Trailer>
            </Trailer>
            <Properties>
                <Property name=""model_id"" value=""12""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""None""/>
            </Properties>
        </Vehicle>

        <Vehicle name=""car_police"" vehicleCategory=""car"" model3d=""../models/car_police.osgb"" role=""police"">
            <!-- model bounding box xyz: 1.46, 0.00, 0.77 lwh: 5.04, 2.04, 1.49 -->
            <ParameterDeclarations>
                <ParameterDeclaration name=""EgoModelId"" parameterType=""integer"" value=""0""/>
                <ParameterDeclaration name=""TrailerRef"" parameterType=""string"" value=""""/>
            </ParameterDeclarations>
            <BoundingBox>
                <Center x=""1.4"" y=""0.0"" z=""0.75""/>
                <Dimensions width=""2.0"" length=""5.04"" height=""1.5""/>
            </BoundingBox>
            <Performance maxSpeed=""${250/3.6}"" maxDeceleration=""10"" maxAcceleration=""5""/>
            <Axles>
                <FrontAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""2.98"" positionZ=""0.4""/>
                <RearAxle maxSteering=""0.523598775598"" wheelDiameter=""0.8"" trackWidth=""1.68"" positionX=""0"" positionZ=""0.4""/>
            </Axles>
            <TrailerHitch dx=""-1.2""/>
            <Trailer>
                <TrailerRef entityRef=""$TrailerRef""/>
            </Trailer>
            <Properties>
                <Property name=""model_id"" value=""18""/>
                <!-- Scale modes: None, BBToModel, ModelToBB -->
                <Property name=""scaleMode"" value=""BBToModel""/>
            </Properties>
        </Vehicle>

    </Catalog>

</OpenSCENARIO>"
